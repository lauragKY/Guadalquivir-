var gC=Object.defineProperty;var vC=(e,t,r)=>t in e?gC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hh=(e,t,r)=>vC(e,typeof t!="symbol"?t+"":t,r);function yC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var z_={exports:{}},Ad={},F_={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),bC=Symbol.for("react.portal"),wC=Symbol.for("react.fragment"),jC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),dx=Symbol.iterator;function AC(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U_=Object.assign,W_={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=W_,this.updater=r||B_}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q_(){}q_.prototype=Ss.prototype;function G0(e,t,r){this.props=e,this.context=t,this.refs=W_,this.updater=r||B_}var Y0=G0.prototype=new q_;Y0.constructor=G0;U_(Y0,Ss.prototype);Y0.isPureReactComponent=!0;var fx=Array.isArray,H_=Object.prototype.hasOwnProperty,X0={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function V_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)H_.call(t,n)&&!K_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:jl,type:e,key:i,ref:o,props:a,_owner:X0.current}}function CC(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q0(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function TC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hx=/\/+/g;function mh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TC(""+e.key):t.toString(36)}function Bc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jl:case bC:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+mh(o,0):n,fx(a)?(r="",e!=null&&(r=e.replace(hx,"$&/")+"/"),Bc(a,t,r,"",function(u){return u})):a!=null&&(Q0(a)&&(a=CC(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(hx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",fx(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+mh(i,l);o+=Bc(i,t,r,c,a)}else if(c=AC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+mh(i,l++),o+=Bc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jl(e,t,r){if(e==null)return e;var n=[],a=0;return Bc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function IC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},Uc={transition:null},DC={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:X0};function G_(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Jl,forEach:function(e,t,r){Jl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jl(e,function(){t++}),t},toArray:function(e){return Jl(e,function(t){return t})||[]},only:function(e){if(!Q0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Ss;ie.Fragment=wC;ie.Profiler=_C;ie.PureComponent=G0;ie.StrictMode=jC;ie.Suspense=EC;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DC;ie.act=G_;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=U_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=X0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)H_.call(t,c)&&!K_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:jl,type:e.type,key:a,ref:i,props:n,_owner:o}};ie.createContext=function(e){return e={$$typeof:SC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NC,_context:e},e.Consumer=e};ie.createElement=V_;ie.createFactory=function(e){var t=V_.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:kC,render:e}};ie.isValidElement=Q0;ie.lazy=function(e){return{$$typeof:OC,_payload:{_status:-1,_result:e},_init:IC}};ie.memo=function(e,t){return{$$typeof:PC,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Uc.transition;Uc.transition={};try{e()}finally{Uc.transition=t}};ie.unstable_act=G_;ie.useCallback=function(e,t){return Lt.current.useCallback(e,t)};ie.useContext=function(e){return Lt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Lt.current.useEffect(e,t)};ie.useId=function(){return Lt.current.useId()};ie.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Lt.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};ie.useRef=function(e){return Lt.current.useRef(e)};ie.useState=function(e){return Lt.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return Lt.current.useTransition()};ie.version="18.3.1";F_.exports=ie;var p=F_.exports;const MC=zn(p),$C=yC({__proto__:null,default:MC},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=p,RC=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,BC=LC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UC={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)FC.call(t,n)&&!UC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:RC,type:e,key:i,ref:o,props:a,_owner:BC.current}}Ad.Fragment=zC;Ad.jsx=Y_;Ad.jsxs=Y_;z_.exports=Ad;var s=z_.exports,X_={exports:{}},ar={},Q_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var W=L.length;L.push(B);e:for(;0<W;){var ee=W-1>>>1,ne=L[ee];if(0<a(ne,B))L[ee]=B,L[W]=ne,W=ee;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],W=L.pop();if(W!==B){L[0]=W;e:for(var ee=0,ne=L.length,Oe=ne>>>1;ee<Oe;){var me=2*(ee+1)-1,wt=L[me],Ve=me+1,he=L[Ve];if(0>a(wt,W))Ve<ne&&0>a(he,wt)?(L[ee]=he,L[Ve]=W,ee=Ve):(L[ee]=wt,L[me]=W,ee=me);else if(Ve<ne&&0>a(he,W))L[ee]=he,L[Ve]=W,ee=Ve;else break e}}return B}function a(L,B){var W=L.sortIndex-B.sortIndex;return W!==0?W:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(L){if(y=!1,b(L),!g)if(r(c)!==null)g=!0,H(N);else{var B=r(u);B!==null&&J(j,B.startTime-L)}}function N(L,B){g=!1,y&&(y=!1,v(E),E=-1),m=!0;var W=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||L&&!O());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ne=ee(f.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var Oe=!0;else{var me=r(u);me!==null&&J(j,me.startTime-B),Oe=!1}return Oe}finally{f=null,h=W,m=!1}}var _=!1,S=null,E=-1,C=5,D=-1;function O(){return!(e.unstable_now()-D<C)}function A(){if(S!==null){var L=e.unstable_now();D=L;var B=!0;try{B=S(!0,L)}finally{B?$():(_=!1,S=null)}}else _=!1}var $;if(typeof w=="function")$=function(){w(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Z=R.port2;R.port1.onmessage=A,$=function(){Z.postMessage(null)}}else $=function(){x(A,0)};function H(L){S=L,_||(_=!0,$())}function J(L,B){E=x(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,H(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return L()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=h;h=L;try{return B()}finally{h=W}},e.unstable_scheduleCallback=function(L,B,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,L={id:d++,callback:B,priorityLevel:L,startTime:W,expirationTime:ne,sortIndex:-1},W>ee?(L.sortIndex=W,t(u,L),r(c)===null&&L===r(u)&&(y?(v(E),E=-1):y=!0,J(j,W-ee))):(L.sortIndex=ne,t(c,L),g||m||(g=!0,H(N))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var B=h;return function(){var W=h;h=B;try{return L.apply(this,arguments)}finally{h=W}}}})(Z_);Q_.exports=Z_;var WC=Q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=p,rr=WC;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J_=new Set,Ro={};function mi(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(Ro[e]=t,e=0;e<t.length;e++)J_.add(t[e])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,HC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mx={},px={};function KC(e){return Pm.call(px,e)?!0:Pm.call(mx,e)?!1:HC.test(e)?px[e]=!0:(mx[e]=!0,!1)}function VC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GC(e,t,r,n){if(t===null||typeof t>"u"||VC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function J0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z0,J0);bt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z0,J0);bt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z0,J0);bt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function eg(e,t,r,n){var a=bt.hasOwnProperty(t)?bt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GC(t,r,a,n)&&(r=null),n||a===null?KC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fn=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),rN=Symbol.for("react.offscreen"),gx=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=gx&&e[gx]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,ph;function ho(e){if(ph===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ph=t&&t[1]||""}return`
`+ph+e}var gh=!1;function vh(e,t){if(!e||gh)return"";gh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{gh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ho(e):""}function YC(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=vh(e.type,!1),e;case 11:return e=vh(e.type.render,!1),e;case 1:return e=vh(e.type,!0),e;default:return""}}function Tm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case $i:return"Portal";case Om:return"Profiler";case tg:return"StrictMode";case Am:return"Suspense";case Cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tN:return(e.displayName||"Context")+".Consumer";case eN:return(e._context.displayName||"Context")+".Provider";case rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ng:return t=e.displayName||null,t!==null?t:Tm(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return Tm(e(t))}catch{}}return null}function XC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(t);case 8:return t===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ya(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QC(e){var t=nN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tc(e){e._valueTracker||(e._valueTracker=QC(e))}function aN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ou(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Im(e,t){var r=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ya(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iN(e,t){t=t.checked,t!=null&&eg(e,"checked",t,!1)}function Dm(e,t){iN(e,t);var r=ya(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mm(e,t.type,ya(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mm(e,t,r){(t!=="number"||ou(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mo=Array.isArray;function Xi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ya(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(mo(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ya(r)}}function sN(e,t){var r=ya(t.value),n=ya(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rc,lN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rc=rc||document.createElement("div"),rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZC=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){ZC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_o[t]=_o[e]})});function cN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_o.hasOwnProperty(e)&&_o[e]?(""+t).trim():t+"px"}function uN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=cN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JC=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rm(e,t){if(t){if(JC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function zm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=null;function ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,Qi=null,Zi=null;function wx(e){if(e=Sl(e)){if(typeof Bm!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Md(t),Bm(e.stateNode,e.type,t))}}function dN(e){Qi?Zi?Zi.push(e):Zi=[e]:Qi=e}function fN(){if(Qi){var e=Qi,t=Zi;if(Zi=Qi=null,wx(e),t)for(e=0;e<t.length;e++)wx(t[e])}}function hN(e,t){return e(t)}function mN(){}var yh=!1;function pN(e,t,r){if(yh)return e(t,r);yh=!0;try{return hN(e,t,r)}finally{yh=!1,(Qi!==null||Zi!==null)&&(mN(),fN())}}function Fo(e,t){var r=e.stateNode;if(r===null)return null;var n=Md(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Um=!1;if(En)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Um=!1}function eT(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var No=!1,lu=null,cu=!1,Wm=null,tT={onError:function(e){No=!0,lu=e}};function rT(e,t,r,n,a,i,o,l,c){No=!1,lu=null,eT.apply(tT,arguments)}function nT(e,t,r,n,a,i,o,l,c){if(rT.apply(this,arguments),No){if(No){var u=lu;No=!1,lu=null}else throw Error(z(198));cu||(cu=!0,Wm=u)}}function pi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jx(e){if(pi(e)!==e)throw Error(z(188))}function aT(e){var t=e.alternate;if(!t){if(t=pi(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return jx(a),e;if(i===n)return jx(a),t;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function vN(e){return e=aT(e),e!==null?yN(e):null}function yN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yN(e);if(t!==null)return t;e=e.sibling}return null}var xN=rr.unstable_scheduleCallback,_x=rr.unstable_cancelCallback,iT=rr.unstable_shouldYield,sT=rr.unstable_requestPaint,Be=rr.unstable_now,oT=rr.unstable_getCurrentPriorityLevel,ig=rr.unstable_ImmediatePriority,bN=rr.unstable_UserBlockingPriority,uu=rr.unstable_NormalPriority,lT=rr.unstable_LowPriority,wN=rr.unstable_IdlePriority,Cd=null,nn=null;function cT(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Cd,e,void 0,(e.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:fT,uT=Math.log,dT=Math.LN2;function fT(e){return e>>>=0,e===0?32:31-(uT(e)/dT|0)|0}var nc=64,ac=4194304;function po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function du(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=po(l):(i&=o,i!==0&&(n=po(i)))}else o=r&~a,o!==0?n=po(o):i!==0&&(n=po(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zr(t),a=1<<r,n|=e[r],t&=~a;return n}function hT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=hT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function qm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jN(){var e=nc;return nc<<=1,!(nc&4194240)&&(nc=64),e}function xh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _l(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zr(t),e[t]=r}function pT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-zr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function sg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var de=0;function _N(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NN,og,SN,kN,EN,Hm=!1,ic=[],la=null,ca=null,ua=null,Bo=new Map,Uo=new Map,ta=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nx(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function Gs(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sl(t),t!==null&&og(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function vT(e,t,r,n,a){switch(t){case"focusin":return la=Gs(la,e,t,r,n,a),!0;case"dragenter":return ca=Gs(ca,e,t,r,n,a),!0;case"mouseover":return ua=Gs(ua,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Bo.set(i,Gs(Bo.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Uo.set(i,Gs(Uo.get(i)||null,e,t,r,n,a)),!0}return!1}function PN(e){var t=Ua(e.target);if(t!==null){var r=pi(t);if(r!==null){if(t=r.tag,t===13){if(t=gN(r),t!==null){e.blockedOn=t,EN(e.priority,function(){SN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Km(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fm=n,r.target.dispatchEvent(n),Fm=null}else return t=Sl(r),t!==null&&og(t),e.blockedOn=r,!1;t.shift()}return!0}function Sx(e,t,r){Wc(e)&&r.delete(t)}function yT(){Hm=!1,la!==null&&Wc(la)&&(la=null),ca!==null&&Wc(ca)&&(ca=null),ua!==null&&Wc(ua)&&(ua=null),Bo.forEach(Sx),Uo.forEach(Sx)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Hm||(Hm=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,yT)))}function Wo(e){function t(a){return Ys(a,e)}if(0<ic.length){Ys(ic[0],e);for(var r=1;r<ic.length;r++){var n=ic[r];n.blockedOn===e&&(n.blockedOn=null)}}for(la!==null&&Ys(la,e),ca!==null&&Ys(ca,e),ua!==null&&Ys(ua,e),Bo.forEach(t),Uo.forEach(t),r=0;r<ta.length;r++)n=ta[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ta.length&&(r=ta[0],r.blockedOn===null);)PN(r),r.blockedOn===null&&ta.shift()}var Ji=Fn.ReactCurrentBatchConfig,fu=!0;function xT(e,t,r,n){var a=de,i=Ji.transition;Ji.transition=null;try{de=1,lg(e,t,r,n)}finally{de=a,Ji.transition=i}}function bT(e,t,r,n){var a=de,i=Ji.transition;Ji.transition=null;try{de=4,lg(e,t,r,n)}finally{de=a,Ji.transition=i}}function lg(e,t,r,n){if(fu){var a=Km(e,t,r,n);if(a===null)Oh(e,t,n,hu,r),Nx(e,n);else if(vT(a,e,t,r,n))n.stopPropagation();else if(Nx(e,n),t&4&&-1<gT.indexOf(e)){for(;a!==null;){var i=Sl(a);if(i!==null&&NN(i),i=Km(e,t,r,n),i===null&&Oh(e,t,n,hu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Oh(e,t,n,null,r)}}var hu=null;function Km(e,t,r,n){if(hu=null,e=ag(n),e=Ua(e),e!==null)if(t=pi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hu=e,null}function ON(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oT()){case ig:return 1;case bN:return 4;case uu:case lT:return 16;case wN:return 536870912;default:return 16}default:return 16}}var ia=null,cg=null,qc=null;function AN(){if(qc)return qc;var e,t=cg,r=t.length,n,a="value"in ia?ia.value:ia.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return qc=a.slice(e,1<n?1-n:void 0)}function Hc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sc(){return!0}function kx(){return!1}function ir(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sc:kx,this.isPropagationStopped=kx,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=ir(ks),Nl=Te({},ks,{view:0,detail:0}),wT=ir(Nl),bh,wh,Xs,Td=Te({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(bh=e.screenX-Xs.screenX,wh=e.screenY-Xs.screenY):wh=bh=0,Xs=e),bh)},movementY:function(e){return"movementY"in e?e.movementY:wh}}),Ex=ir(Td),jT=Te({},Td,{dataTransfer:0}),_T=ir(jT),NT=Te({},Nl,{relatedTarget:0}),jh=ir(NT),ST=Te({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=ir(ST),ET=Te({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PT=ir(ET),OT=Te({},ks,{data:0}),Px=ir(OT),AT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TT[e])?!!t[e]:!1}function dg(){return IT}var DT=Te({},Nl,{key:function(e){if(e.key){var t=AT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(e){return e.type==="keypress"?Hc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MT=ir(DT),$T=Te({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=ir($T),LT=Te({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),RT=ir(LT),zT=Te({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),FT=ir(zT),BT=Te({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UT=ir(BT),WT=[9,13,27,32],fg=En&&"CompositionEvent"in window,So=null;En&&"documentMode"in document&&(So=document.documentMode);var qT=En&&"TextEvent"in window&&!So,CN=En&&(!fg||So&&8<So&&11>=So),Ax=" ",Cx=!1;function TN(e,t){switch(e){case"keyup":return WT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function HT(e,t){switch(e){case"compositionend":return IN(t);case"keypress":return t.which!==32?null:(Cx=!0,Ax);case"textInput":return e=t.data,e===Ax&&Cx?null:e;default:return null}}function KT(e,t){if(Ri)return e==="compositionend"||!fg&&TN(e,t)?(e=AN(),qc=cg=ia=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CN&&t.locale!=="ko"?null:t.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VT[e.type]:t==="textarea"}function DN(e,t,r,n){dN(n),t=mu(t,"onChange"),0<t.length&&(r=new ug("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ko=null,qo=null;function GT(e){HN(e,0)}function Id(e){var t=Bi(e);if(aN(t))return e}function YT(e,t){if(e==="change")return t}var MN=!1;if(En){var _h;if(En){var Nh="oninput"in document;if(!Nh){var Ix=document.createElement("div");Ix.setAttribute("oninput","return;"),Nh=typeof Ix.oninput=="function"}_h=Nh}else _h=!1;MN=_h&&(!document.documentMode||9<document.documentMode)}function Dx(){ko&&(ko.detachEvent("onpropertychange",$N),qo=ko=null)}function $N(e){if(e.propertyName==="value"&&Id(qo)){var t=[];DN(t,qo,e,ag(e)),pN(GT,t)}}function XT(e,t,r){e==="focusin"?(Dx(),ko=t,qo=r,ko.attachEvent("onpropertychange",$N)):e==="focusout"&&Dx()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Id(qo)}function ZT(e,t){if(e==="click")return Id(t)}function JT(e,t){if(e==="input"||e==="change")return Id(t)}function e4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:e4;function Ho(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Pm.call(t,a)||!Ur(e[a],t[a]))return!1}return!0}function Mx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $x(e,t){var r=Mx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mx(r)}}function LN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RN(){for(var e=window,t=ou();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ou(e.document)}return t}function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t4(e){var t=RN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LN(r.ownerDocument.documentElement,r)){if(n!==null&&hg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=$x(r,i);var o=$x(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r4=En&&"documentMode"in document&&11>=document.documentMode,zi=null,Vm=null,Eo=null,Gm=!1;function Lx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gm||zi==null||zi!==ou(n)||(n=zi,"selectionStart"in n&&hg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eo&&Ho(Eo,n)||(Eo=n,n=mu(Vm,"onSelect"),0<n.length&&(t=new ug("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zi)))}function oc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fi={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},Sh={},zN={};En&&(zN=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Dd(e){if(Sh[e])return Sh[e];if(!Fi[e])return e;var t=Fi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zN)return Sh[e]=t[r];return e}var FN=Dd("animationend"),BN=Dd("animationiteration"),UN=Dd("animationstart"),WN=Dd("transitionend"),qN=new Map,Rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){qN.set(e,t),mi(t,[e])}for(var kh=0;kh<Rx.length;kh++){var Eh=Rx[kh],n4=Eh.toLowerCase(),a4=Eh[0].toUpperCase()+Eh.slice(1);wa(n4,"on"+a4)}wa(FN,"onAnimationEnd");wa(BN,"onAnimationIteration");wa(UN,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(WN,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function zx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nT(n,t,void 0,e),e.currentTarget=null}function HN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;zx(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;zx(a,l,u),i=c}}}if(cu)throw e=Wm,cu=!1,Wm=null,e}function we(e,t){var r=t[Jm];r===void 0&&(r=t[Jm]=new Set);var n=e+"__bubble";r.has(n)||(KN(t,e,2,!1),r.add(n))}function Ph(e,t,r){var n=0;t&&(n|=4),KN(r,e,n,t)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[lc]){e[lc]=!0,J_.forEach(function(r){r!=="selectionchange"&&(i4.has(r)||Ph(r,!1,e),Ph(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lc]||(t[lc]=!0,Ph("selectionchange",!1,t))}}function KN(e,t,r,n){switch(ON(t)){case 1:var a=xT;break;case 4:a=bT;break;default:a=lg}r=a.bind(null,t,r,e),a=void 0,!Um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Oh(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ua(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}pN(function(){var u=i,d=ag(r),f=[];e:{var h=qN.get(e);if(h!==void 0){var m=ug,g=e;switch(e){case"keypress":if(Hc(r)===0)break e;case"keydown":case"keyup":m=MT;break;case"focusin":g="focus",m=jh;break;case"focusout":g="blur",m=jh;break;case"beforeblur":case"afterblur":m=jh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RT;break;case FN:case BN:case UN:m=kT;break;case WN:m=FT;break;case"scroll":m=wT;break;case"wheel":m=UT;break;case"copy":case"cut":case"paste":m=PT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ox}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,v!==null&&(j=Fo(w,v),j!=null&&y.push(Vo(w,j,b)))),x)break;w=w.return}0<y.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Fm&&(g=r.relatedTarget||r.fromElement)&&(Ua(g)||g[Pn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Ua(g):null,g!==null&&(x=pi(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Ex,j="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ox,j="onPointerLeave",v="onPointerEnter",w="pointer"),x=m==null?h:Bi(m),b=g==null?h:Bi(g),h=new y(j,w+"leave",m,r,d),h.target=x,h.relatedTarget=b,j=null,Ua(d)===u&&(y=new y(v,w+"enter",g,r,d),y.target=b,y.relatedTarget=x,j=y),x=j,m&&g)t:{for(y=m,v=g,w=0,b=y;b;b=ji(b))w++;for(b=0,j=v;j;j=ji(j))b++;for(;0<w-b;)y=ji(y),w--;for(;0<b-w;)v=ji(v),b--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=ji(y),v=ji(v)}y=null}else y=null;m!==null&&Fx(f,h,m,y,!1),g!==null&&x!==null&&Fx(f,x,g,y,!0)}}e:{if(h=u?Bi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=YT;else if(Tx(h))if(MN)N=JT;else{N=QT;var _=XT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=ZT);if(N&&(N=N(e,u))){DN(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Mm(h,"number",h.value)}switch(_=u?Bi(u):window,e){case"focusin":(Tx(_)||_.contentEditable==="true")&&(zi=_,Vm=u,Eo=null);break;case"focusout":Eo=Vm=zi=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,Lx(f,r,d);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":Lx(f,r,d)}var S;if(fg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ri?TN(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(CN&&r.locale!=="ko"&&(Ri||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ri&&(S=AN()):(ia=d,cg="value"in ia?ia.value:ia.textContent,Ri=!0)),_=mu(u,E),0<_.length&&(E=new Px(E,e,null,r,d),f.push({event:E,listeners:_}),S?E.data=S:(S=IN(r),S!==null&&(E.data=S)))),(S=qT?HT(e,r):KT(e,r))&&(u=mu(u,"onBeforeInput"),0<u.length&&(d=new Px("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}HN(f,t)})}function Vo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Fo(e,r),i!=null&&n.unshift(Vo(e,i,a)),i=Fo(e,t),i!=null&&n.push(Vo(e,i,a))),e=e.return}return n}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Fo(r,i),c!=null&&o.unshift(Vo(r,c,l))):a||(c=Fo(r,i),c!=null&&o.push(Vo(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var s4=/\r\n?/g,o4=/\u0000|\uFFFD/g;function Bx(e){return(typeof e=="string"?e:""+e).replace(s4,`
`).replace(o4,"")}function cc(e,t,r){if(t=Bx(t),Bx(e)!==t&&r)throw Error(z(425))}function pu(){}var Ym=null,Xm=null;function Qm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,l4=typeof clearTimeout=="function"?clearTimeout:void 0,Ux=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ux<"u"?function(e){return Ux.resolve(null).then(e).catch(u4)}:Zm;function u4(e){setTimeout(function(){throw e})}function Ah(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Wo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Wo(t)}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),en="__reactFiber$"+Es,Go="__reactProps$"+Es,Pn="__reactContainer$"+Es,Jm="__reactEvents$"+Es,d4="__reactListeners$"+Es,f4="__reactHandles$"+Es;function Ua(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wx(e);e!==null;){if(r=e[en])return r;e=Wx(e)}return t}e=r,r=e.parentNode}return null}function Sl(e){return e=e[en]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Md(e){return e[Go]||null}var ep=[],Ui=-1;function ja(e){return{current:e}}function _e(e){0>Ui||(e.current=ep[Ui],ep[Ui]=null,Ui--)}function xe(e,t){Ui++,ep[Ui]=e.current,e.current=t}var xa={},Pt=ja(xa),Ht=ja(!1),ei=xa;function os(e,t){var r=e.type.contextTypes;if(!r)return xa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function gu(){_e(Ht),_e(Pt)}function qx(e,t,r){if(Pt.current!==xa)throw Error(z(168));xe(Pt,t),xe(Ht,r)}function VN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(z(108,XC(e)||"Unknown",a));return Te({},r,n)}function vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,ei=Pt.current,xe(Pt,e),xe(Ht,Ht.current),!0}function Hx(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=VN(e,t,ei),n.__reactInternalMemoizedMergedChildContext=e,_e(Ht),_e(Pt),xe(Pt,e)):_e(Ht),xe(Ht,r)}var gn=null,$d=!1,Ch=!1;function GN(e){gn===null?gn=[e]:gn.push(e)}function h4(e){$d=!0,GN(e)}function _a(){if(!Ch&&gn!==null){Ch=!0;var e=0,t=de;try{var r=gn;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,$d=!1}catch(a){throw gn!==null&&(gn=gn.slice(e+1)),xN(ig,_a),a}finally{de=t,Ch=!1}}return null}var Wi=[],qi=0,yu=null,xu=0,fr=[],hr=0,ti=null,xn=1,bn="";function Da(e,t){Wi[qi++]=xu,Wi[qi++]=yu,yu=e,xu=t}function YN(e,t,r){fr[hr++]=xn,fr[hr++]=bn,fr[hr++]=ti,ti=e;var n=xn;e=bn;var a=32-zr(n)-1;n&=~(1<<a),r+=1;var i=32-zr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,xn=1<<32-zr(t)+a|r<<a|n,bn=i+e}else xn=1<<i|r<<a|n,bn=e}function mg(e){e.return!==null&&(Da(e,1),YN(e,1,0))}function pg(e){for(;e===yu;)yu=Wi[--qi],Wi[qi]=null,xu=Wi[--qi],Wi[qi]=null;for(;e===ti;)ti=fr[--hr],fr[hr]=null,bn=fr[--hr],fr[hr]=null,xn=fr[--hr],fr[hr]=null}var er=null,Zt=null,ke=!1,Dr=null;function XN(e,t){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zt=da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ti!==null?{id:xn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,er=e,Zt=null,!0):!1;default:return!1}}function tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rp(e){if(ke){var t=Zt;if(t){var r=t;if(!Kx(e,t)){if(tp(e))throw Error(z(418));t=da(r.nextSibling);var n=er;t&&Kx(e,t)?XN(n,r):(e.flags=e.flags&-4097|2,ke=!1,er=e)}}else{if(tp(e))throw Error(z(418));e.flags=e.flags&-4097|2,ke=!1,er=e}}}function Vx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function uc(e){if(e!==er)return!1;if(!ke)return Vx(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qm(e.type,e.memoizedProps)),t&&(t=Zt)){if(tp(e))throw QN(),Error(z(418));for(;t;)XN(e,t),t=da(t.nextSibling)}if(Vx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=da(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=er?da(e.stateNode.nextSibling):null;return!0}function QN(){for(var e=Zt;e;)e=da(e.nextSibling)}function ls(){Zt=er=null,ke=!1}function gg(e){Dr===null?Dr=[e]:Dr.push(e)}var m4=Fn.ReactCurrentBatchConfig;function Qs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function dc(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gx(e){var t=e._init;return t(e._payload)}function ZN(e){function t(v,w){if(e){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function a(v,w){return v=pa(v,w),v.index=0,v.sibling=null,v}function i(v,w,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,b,j){return w===null||w.tag!==6?(w=Rh(b,v.mode,j),w.return=v,w):(w=a(w,b),w.return=v,w)}function c(v,w,b,j){var N=b.type;return N===Li?d(v,w,b.props.children,j,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qn&&Gx(N)===w.type)?(j=a(w,b.props),j.ref=Qs(v,w,b),j.return=v,j):(j=Zc(b.type,b.key,b.props,null,v.mode,j),j.ref=Qs(v,w,b),j.return=v,j)}function u(v,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=zh(b,v.mode,j),w.return=v,w):(w=a(w,b.children||[]),w.return=v,w)}function d(v,w,b,j,N){return w===null||w.tag!==7?(w=Xa(b,v.mode,j,N),w.return=v,w):(w=a(w,b),w.return=v,w)}function f(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rh(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ec:return b=Zc(w.type,w.key,w.props,null,v.mode,b),b.ref=Qs(v,null,w),b.return=v,b;case $i:return w=zh(w,v.mode,b),w.return=v,w;case Qn:var j=w._init;return f(v,j(w._payload),b)}if(mo(w)||Ks(w))return w=Xa(w,v.mode,b,null),w.return=v,w;dc(v,w)}return null}function h(v,w,b,j){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(v,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ec:return b.key===N?c(v,w,b,j):null;case $i:return b.key===N?u(v,w,b,j):null;case Qn:return N=b._init,h(v,w,N(b._payload),j)}if(mo(b)||Ks(b))return N!==null?null:d(v,w,b,j,null);dc(v,b)}return null}function m(v,w,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(b)||null,l(w,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ec:return v=v.get(j.key===null?b:j.key)||null,c(w,v,j,N);case $i:return v=v.get(j.key===null?b:j.key)||null,u(w,v,j,N);case Qn:var _=j._init;return m(v,w,b,_(j._payload),N)}if(mo(j)||Ks(j))return v=v.get(b)||null,d(w,v,j,N,null);dc(w,j)}return null}function g(v,w,b,j){for(var N=null,_=null,S=w,E=w=0,C=null;S!==null&&E<b.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var D=h(v,S,b[E],j);if(D===null){S===null&&(S=C);break}e&&S&&D.alternate===null&&t(v,S),w=i(D,w,E),_===null?N=D:_.sibling=D,_=D,S=C}if(E===b.length)return r(v,S),ke&&Da(v,E),N;if(S===null){for(;E<b.length;E++)S=f(v,b[E],j),S!==null&&(w=i(S,w,E),_===null?N=S:_.sibling=S,_=S);return ke&&Da(v,E),N}for(S=n(v,S);E<b.length;E++)C=m(S,v,E,b[E],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),w=i(C,w,E),_===null?N=C:_.sibling=C,_=C);return e&&S.forEach(function(O){return t(v,O)}),ke&&Da(v,E),N}function y(v,w,b,j){var N=Ks(b);if(typeof N!="function")throw Error(z(150));if(b=N.call(b),b==null)throw Error(z(151));for(var _=N=null,S=w,E=w=0,C=null,D=b.next();S!==null&&!D.done;E++,D=b.next()){S.index>E?(C=S,S=null):C=S.sibling;var O=h(v,S,D.value,j);if(O===null){S===null&&(S=C);break}e&&S&&O.alternate===null&&t(v,S),w=i(O,w,E),_===null?N=O:_.sibling=O,_=O,S=C}if(D.done)return r(v,S),ke&&Da(v,E),N;if(S===null){for(;!D.done;E++,D=b.next())D=f(v,D.value,j),D!==null&&(w=i(D,w,E),_===null?N=D:_.sibling=D,_=D);return ke&&Da(v,E),N}for(S=n(v,S);!D.done;E++,D=b.next())D=m(S,v,E,D.value,j),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?E:D.key),w=i(D,w,E),_===null?N=D:_.sibling=D,_=D);return e&&S.forEach(function(A){return t(v,A)}),ke&&Da(v,E),N}function x(v,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Li&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ec:e:{for(var N=b.key,_=w;_!==null;){if(_.key===N){if(N=b.type,N===Li){if(_.tag===7){r(v,_.sibling),w=a(_,b.props.children),w.return=v,v=w;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qn&&Gx(N)===_.type){r(v,_.sibling),w=a(_,b.props),w.ref=Qs(v,_,b),w.return=v,v=w;break e}r(v,_);break}else t(v,_);_=_.sibling}b.type===Li?(w=Xa(b.props.children,v.mode,j,b.key),w.return=v,v=w):(j=Zc(b.type,b.key,b.props,null,v.mode,j),j.ref=Qs(v,w,b),j.return=v,v=j)}return o(v);case $i:e:{for(_=b.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(v,w.sibling),w=a(w,b.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=zh(b,v.mode,j),w.return=v,v=w}return o(v);case Qn:return _=b._init,x(v,w,_(b._payload),j)}if(mo(b))return g(v,w,b,j);if(Ks(b))return y(v,w,b,j);dc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(v,w.sibling),w=a(w,b),w.return=v,v=w):(r(v,w),w=Rh(b,v.mode,j),w.return=v,v=w),o(v)):r(v,w)}return x}var cs=ZN(!0),JN=ZN(!1),bu=ja(null),wu=null,Hi=null,vg=null;function yg(){vg=Hi=wu=null}function xg(e){var t=bu.current;_e(bu),e._currentValue=t}function np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function es(e,t){wu=e,vg=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(vg!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(wu===null)throw Error(z(308));Hi=e,wu.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var Wa=null;function bg(e){Wa===null?Wa=[e]:Wa.push(e)}function e2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,bg(t)):(r.next=a.next,a.next=r),t.interleaved=r,On(e,n)}function On(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zn=!1;function wg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,On(e,r)}return a=n.interleaved,a===null?(t.next=t,bg(n)):(t.next=a.next,a.next=t),n.interleaved=t,On(e,r)}function Kc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sg(e,r)}}function Yx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ju(e,t,r,n){var a=e.updateQueue;Zn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(h=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Te({},f,h);break e;case 2:Zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ni|=o,e.lanes=o,e.memoizedState=f}}function Xx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(z(191,a));a.call(n)}}}var kl={},an=ja(kl),Yo=ja(kl),Xo=ja(kl);function qa(e){if(e===kl)throw Error(z(174));return e}function jg(e,t){switch(xe(Xo,t),xe(Yo,e),xe(an,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lm(t,e)}_e(an),xe(an,t)}function us(){_e(an),_e(Yo),_e(Xo)}function r2(e){qa(Xo.current);var t=qa(an.current),r=Lm(t,e.type);t!==r&&(xe(Yo,e),xe(an,r))}function _g(e){Yo.current===e&&(_e(an),_e(Yo))}var Ae=ja(0);function _u(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Th=[];function Ng(){for(var e=0;e<Th.length;e++)Th[e]._workInProgressVersionPrimary=null;Th.length=0}var Vc=Fn.ReactCurrentDispatcher,Ih=Fn.ReactCurrentBatchConfig,ri=0,Ce=null,Xe=null,ot=null,Nu=!1,Po=!1,Qo=0,p4=0;function jt(){throw Error(z(321))}function Sg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function kg(e,t,r,n,a,i){if(ri=i,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vc.current=e===null||e.memoizedState===null?x4:b4,e=r(n,a),Po){i=0;do{if(Po=!1,Qo=0,25<=i)throw Error(z(301));i+=1,ot=Xe=null,t.updateQueue=null,Vc.current=w4,e=r(n,a)}while(Po)}if(Vc.current=Su,t=Xe!==null&&Xe.next!==null,ri=0,ot=Xe=Ce=null,Nu=!1,t)throw Error(z(300));return e}function Eg(){var e=Qo!==0;return Qo=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ce.memoizedState=ot=e:ot=ot.next=e,ot}function br(){if(Xe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ot===null?Ce.memoizedState:ot.next;if(t!==null)ot=t,Xe=e;else{if(e===null)throw Error(z(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ot===null?Ce.memoizedState=ot=e:ot=ot.next=e}return ot}function Zo(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=br(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=Xe,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ri&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ce.lanes|=d,ni|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ur(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ce.lanes|=i,ni|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mh(e){var t=br(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ur(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function n2(){}function a2(e,t){var r=Ce,n=br(),a=t(),i=!Ur(n.memoizedState,a);if(i&&(n.memoizedState=a,Ut=!0),n=n.queue,Pg(o2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Jo(9,s2.bind(null,r,n,a,t),void 0,null),ut===null)throw Error(z(349));ri&30||i2(r,t,a)}return a}function i2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function s2(e,t,r,n){t.value=r,t.getSnapshot=n,l2(t)&&c2(e)}function o2(e,t,r){return r(function(){l2(t)&&c2(e)})}function l2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function c2(e){var t=On(e,1);t!==null&&Fr(t,e,1,-1)}function Qx(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=y4.bind(null,Ce,e),[t.memoizedState,e]}function Jo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function u2(){return br().memoizedState}function Gc(e,t,r,n){var a=Zr();Ce.flags|=e,a.memoizedState=Jo(1|t,r,void 0,n===void 0?null:n)}function Ld(e,t,r,n){var a=br();n=n===void 0?null:n;var i=void 0;if(Xe!==null){var o=Xe.memoizedState;if(i=o.destroy,n!==null&&Sg(n,o.deps)){a.memoizedState=Jo(t,r,i,n);return}}Ce.flags|=e,a.memoizedState=Jo(1|t,r,i,n)}function Zx(e,t){return Gc(8390656,8,e,t)}function Pg(e,t){return Ld(2048,8,e,t)}function d2(e,t){return Ld(4,2,e,t)}function f2(e,t){return Ld(4,4,e,t)}function h2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m2(e,t,r){return r=r!=null?r.concat([e]):null,Ld(4,4,h2.bind(null,t,e),r)}function Og(){}function p2(e,t){var r=br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function g2(e,t){var r=br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function v2(e,t,r){return ri&21?(Ur(r,t)||(r=jN(),Ce.lanes|=r,ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function g4(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=Ih.transition;Ih.transition={};try{e(!1),t()}finally{de=r,Ih.transition=n}}function y2(){return br().memoizedState}function v4(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},x2(e))b2(t,r);else if(r=e2(e,t,r,n),r!==null){var a=Dt();Fr(r,e,n,a),w2(r,t,n)}}function y4(e,t,r){var n=ma(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(x2(e))b2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ur(l,o)){var c=t.interleaved;c===null?(a.next=a,bg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=e2(e,t,a,n),r!==null&&(a=Dt(),Fr(r,e,n,a),w2(r,t,n))}}function x2(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function b2(e,t){Po=Nu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sg(e,r)}}var Su={readContext:xr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},x4={readContext:xr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:Zx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gc(4194308,4,h2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gc(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=v4.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Qx,useDebugValue:Og,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Qx(!1),t=e[0];return e=g4.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,a=Zr();if(ke){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),ut===null)throw Error(z(349));ri&30||i2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Zx(o2.bind(null,n,i,e),[e]),n.flags|=2048,Jo(9,s2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zr(),t=ut.identifierPrefix;if(ke){var r=bn,n=xn;r=(n&~(1<<32-zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=p4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b4={readContext:xr,useCallback:p2,useContext:xr,useEffect:Pg,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:Dh,useRef:u2,useState:function(){return Dh(Zo)},useDebugValue:Og,useDeferredValue:function(e){var t=br();return v2(t,Xe.memoizedState,e)},useTransition:function(){var e=Dh(Zo)[0],t=br().memoizedState;return[e,t]},useMutableSource:n2,useSyncExternalStore:a2,useId:y2,unstable_isNewReconciler:!1},w4={readContext:xr,useCallback:p2,useContext:xr,useEffect:Pg,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:Mh,useRef:u2,useState:function(){return Mh(Zo)},useDebugValue:Og,useDeferredValue:function(e){var t=br();return Xe===null?t.memoizedState=e:v2(t,Xe.memoizedState,e)},useTransition:function(){var e=Mh(Zo)[0],t=br().memoizedState;return[e,t]},useMutableSource:n2,useSyncExternalStore:a2,useId:y2,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ap(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rd={isMounted:function(e){return(e=e._reactInternals)?pi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),a=ma(e),i=_n(n,a);i.payload=t,r!=null&&(i.callback=r),t=fa(e,i,a),t!==null&&(Fr(t,e,a,n),Kc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),a=ma(e),i=_n(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fa(e,i,a),t!==null&&(Fr(t,e,a,n),Kc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=ma(e),a=_n(r,n);a.tag=2,t!=null&&(a.callback=t),t=fa(e,a,n),t!==null&&(Fr(t,e,n,r),Kc(t,e,n))}};function Jx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ho(r,n)||!Ho(a,i):!0}function j2(e,t,r){var n=!1,a=xa,i=t.contextType;return typeof i=="object"&&i!==null?i=xr(i):(a=Kt(t)?ei:Pt.current,n=t.contextTypes,i=(n=n!=null)?os(e,a):xa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function eb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rd.enqueueReplaceState(t,t.state,null)}function ip(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},wg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xr(i):(i=Kt(t)?ei:Pt.current,a.context=os(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ap(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Rd.enqueueReplaceState(a,a.state,null),ju(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var r="",n=t;do r+=YC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function $h(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var j4=typeof WeakMap=="function"?WeakMap:Map;function _2(e,t,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Eu||(Eu=!0,gp=n),sp(e,t)},r}function N2(e,t,r){r=_n(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){sp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sp(e,t),typeof n!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function tb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new j4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$4.bind(null,e,t,r),t.then(e,e))}function rb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_n(-1,1),t.tag=2,fa(r,t,1))),r.lanes|=1),e)}var _4=Fn.ReactCurrentOwner,Ut=!1;function At(e,t,r,n){t.child=e===null?JN(t,null,r,n):cs(t,e.child,r,n)}function ab(e,t,r,n,a){r=r.render;var i=t.ref;return es(t,a),n=kg(e,t,r,n,i,a),r=Eg(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,An(e,t,a)):(ke&&r&&mg(t),t.flags|=1,At(e,t,n,a),t.child)}function ib(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Lg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,S2(e,t,i,n,a)):(e=Zc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(o,n)&&e.ref===t.ref)return An(e,t,a)}return t.flags|=1,e=pa(i,n),e.ref=t.ref,e.return=t,t.child=e}function S2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ho(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,An(e,t,a)}return op(e,t,r,n,a)}function k2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Vi,Xt),Xt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Vi,Xt),Xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,xe(Vi,Xt),Xt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,xe(Vi,Xt),Xt|=n;return At(e,t,a,r),t.child}function E2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function op(e,t,r,n,a){var i=Kt(r)?ei:Pt.current;return i=os(t,i),es(t,a),r=kg(e,t,r,n,i,a),n=Eg(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,An(e,t,a)):(ke&&n&&mg(t),t.flags|=1,At(e,t,r,a),t.child)}function sb(e,t,r,n,a){if(Kt(r)){var i=!0;vu(t)}else i=!1;if(es(t,a),t.stateNode===null)Yc(e,t),j2(t,r,n),ip(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=xr(u):(u=Kt(r)?ei:Pt.current,u=os(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&eb(t,o,n,u),Zn=!1;var h=t.memoizedState;o.state=h,ju(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ht.current||Zn?(typeof d=="function"&&(ap(t,r,d,n),c=t.memoizedState),(l=Zn||Jx(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,t2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Kt(r)?ei:Pt.current,c=os(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&eb(t,o,n,c),Zn=!1,h=t.memoizedState,o.state=h,ju(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Ht.current||Zn?(typeof m=="function"&&(ap(t,r,m,n),g=t.memoizedState),(u=Zn||Jx(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return lp(e,t,r,n,i,a)}function lp(e,t,r,n,a,i){E2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Hx(t,r,!1),An(e,t,i);n=t.stateNode,_4.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cs(t,e.child,null,i),t.child=cs(t,null,l,i)):At(e,t,l,i),t.memoizedState=n.state,a&&Hx(t,r,!0),t.child}function P2(e){var t=e.stateNode;t.pendingContext?qx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qx(e,t.context,!1),jg(e,t.containerInfo)}function ob(e,t,r,n,a){return ls(),gg(a),t.flags|=256,At(e,t,r,n),t.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function up(e){return{baseLanes:e,cachePool:null,transitions:null}}function O2(e,t,r){var n=t.pendingProps,a=Ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),xe(Ae,a&1),e===null)return rp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bd(o,n,0,null),e=Xa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=up(r),t.memoizedState=cp,e):Ag(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return N4(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=pa(l,i):(i=Xa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?up(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=cp,n}return i=e.child,e=i.sibling,n=pa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ag(e,t){return t=Bd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fc(e,t,r,n){return n!==null&&gg(n),cs(t,e.child,null,r),e=Ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N4(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=$h(Error(z(422))),fc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Bd({mode:"visible",children:n.children},a,0,null),i=Xa(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&cs(t,e.child,null,o),t.child.memoizedState=up(o),t.memoizedState=cp,i);if(!(t.mode&1))return fc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(z(419)),n=$h(i,n,void 0),fc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ut||l){if(n=ut,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,On(e,a),Fr(n,e,a,-1))}return $g(),n=$h(Error(z(421))),fc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=L4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Zt=da(a.nextSibling),er=t,ke=!0,Dr=null,e!==null&&(fr[hr++]=xn,fr[hr++]=bn,fr[hr++]=ti,xn=e.id,bn=e.overflow,ti=t),t=Ag(t,n.children),t.flags|=4096,t)}function lb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),np(e.return,t,r)}function Lh(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function A2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(At(e,t,n.children,r),n=Ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lb(e,r,t);else if(e.tag===19)lb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(Ae,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&_u(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Lh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_u(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Lh(t,!0,r,null,i);break;case"together":Lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S4(e,t,r){switch(t.tag){case 3:P2(t),ls();break;case 5:r2(t);break;case 1:Kt(t.type)&&vu(t);break;case 4:jg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;xe(bu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(Ae,Ae.current&1),t.flags|=128,null):r&t.child.childLanes?O2(e,t,r):(xe(Ae,Ae.current&1),e=An(e,t,r),e!==null?e.sibling:null);xe(Ae,Ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xe(Ae,Ae.current),n)break;return null;case 22:case 23:return t.lanes=0,k2(e,t,r)}return An(e,t,r)}var C2,dp,T2,I2;C2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dp=function(){};T2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,qa(an.current);var i=null;switch(r){case"input":a=Im(e,a),n=Im(e,n),i=[];break;case"select":a=Te({},a,{value:void 0}),n=Te({},n,{value:void 0}),i=[];break;case"textarea":a=$m(e,a),n=$m(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pu)}Rm(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&we("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};I2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zs(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k4(e,t,r){var n=t.pendingProps;switch(pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Kt(t.type)&&gu(),_t(t),null;case 3:return n=t.stateNode,us(),_e(Ht),_e(Pt),Ng(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(xp(Dr),Dr=null))),dp(e,t),_t(t),null;case 5:_g(t);var a=qa(Xo.current);if(r=t.type,e!==null&&t.stateNode!=null)T2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return _t(t),null}if(e=qa(an.current),uc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[en]=t,n[Go]=i,e=(t.mode&1)!==0,r){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)we(go[a],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":vx(n,i),we("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},we("invalid",n);break;case"textarea":xx(n,i),we("invalid",n)}Rm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&cc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cc(n.textContent,l,e),a=["children",""+l]):Ro.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&we("scroll",n)}switch(r){case"input":tc(n),yx(n,i,!0);break;case"textarea":tc(n),bx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[en]=t,e[Go]=n,C2(e,t,!1,!1),t.stateNode=e;e:{switch(o=zm(r,n),r){case"dialog":we("cancel",e),we("close",e),a=n;break;case"iframe":case"object":case"embed":we("load",e),a=n;break;case"video":case"audio":for(a=0;a<go.length;a++)we(go[a],e);a=n;break;case"source":we("error",e),a=n;break;case"img":case"image":case"link":we("error",e),we("load",e),a=n;break;case"details":we("toggle",e),a=n;break;case"input":vx(e,n),a=Im(e,n),we("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Te({},n,{value:void 0}),we("invalid",e);break;case"textarea":xx(e,n),a=$m(e,n),we("invalid",e);break;default:a=n}Rm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zo(e,c):typeof c=="number"&&zo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?c!=null&&i==="onScroll"&&we("scroll",e):c!=null&&eg(e,i,c,o))}switch(r){case"input":tc(e),yx(e,n,!1);break;case"textarea":tc(e),bx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ya(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)I2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=qa(Xo.current),qa(an.current),uc(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(i=n.nodeValue!==r)&&(e=er,e!==null))switch(e.tag){case 3:cc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return _t(t),null;case 13:if(_e(Ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Zt!==null&&t.mode&1&&!(t.flags&128))QN(),ls(),t.flags|=98560,i=!1;else if(i=uc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[en]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else Dr!==null&&(xp(Dr),Dr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Je===0&&(Je=3):$g())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return us(),dp(e,t),e===null&&Ko(t.stateNode.containerInfo),_t(t),null;case 10:return xg(t.type._context),_t(t),null;case 17:return Kt(t.type)&&gu(),_t(t),null;case 19:if(_e(Ae),i=t.memoizedState,i===null)return _t(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Zs(i,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_u(e),o!==null){for(t.flags|=128,Zs(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(Ae,Ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&Be()>fs&&(t.flags|=128,n=!0,Zs(i,!1),t.lanes=4194304)}else{if(!n)if(e=_u(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return _t(t),null}else 2*Be()-i.renderingStartTime>fs&&r!==1073741824&&(t.flags|=128,n=!0,Zs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Be(),t.sibling=null,r=Ae.current,xe(Ae,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return Mg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function E4(e,t){switch(pg(t),t.tag){case 1:return Kt(t.type)&&gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),_e(Ht),_e(Pt),Ng(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _g(t),null;case 13:if(_e(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ae),null;case 4:return us(),null;case 10:return xg(t.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var hc=!1,St=!1,P4=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ki(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function fp(e,t,r){try{r()}catch(n){$e(e,t,n)}}var cb=!1;function O4(e,t){if(Ym=fu,e=RN(),hg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xm={focusedElem:e,selectionRange:r},fu=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Cr(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){$e(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return g=cb,cb=!1,g}function Oo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&fp(t,r,i)}a=a.next}while(a!==n)}}function zd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D2(e){var t=e.alternate;t!==null&&(e.alternate=null,D2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Go],delete t[Jm],delete t[d4],delete t[f4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M2(e){return e.tag===5||e.tag===3||e.tag===4}function ub(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pu));else if(n!==4&&(e=e.child,e!==null))for(mp(e,t,r),e=e.sibling;e!==null;)mp(e,t,r),e=e.sibling}function pp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pp(e,t,r),e=e.sibling;e!==null;)pp(e,t,r),e=e.sibling}var vt=null,Tr=!1;function Gn(e,t,r){for(r=r.child;r!==null;)$2(e,t,r),r=r.sibling}function $2(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:St||Ki(r,t);case 6:var n=vt,a=Tr;vt=null,Gn(e,t,r),vt=n,Tr=a,vt!==null&&(Tr?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Tr?(e=vt,r=r.stateNode,e.nodeType===8?Ah(e.parentNode,r):e.nodeType===1&&Ah(e,r),Wo(e)):Ah(vt,r.stateNode));break;case 4:n=vt,a=Tr,vt=r.stateNode.containerInfo,Tr=!0,Gn(e,t,r),vt=n,Tr=a;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fp(r,t,o),a=a.next}while(a!==n)}Gn(e,t,r);break;case 1:if(!St&&(Ki(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$e(r,t,l)}Gn(e,t,r);break;case 21:Gn(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,Gn(e,t,r),St=n):Gn(e,t,r);break;default:Gn(e,t,r)}}function db(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new P4),t.forEach(function(n){var a=R4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Tr=!1;break e;case 3:vt=l.stateNode.containerInfo,Tr=!0;break e;case 4:vt=l.stateNode.containerInfo,Tr=!0;break e}l=l.return}if(vt===null)throw Error(z(160));$2(i,o,a),vt=null,Tr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){$e(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)L2(t,e),t=t.sibling}function L2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),Gr(e),n&4){try{Oo(3,e,e.return),zd(3,e)}catch(y){$e(e,e.return,y)}try{Oo(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:Pr(t,e),Gr(e),n&512&&r!==null&&Ki(r,r.return);break;case 5:if(Pr(t,e),Gr(e),n&512&&r!==null&&Ki(r,r.return),e.flags&32){var a=e.stateNode;try{zo(a,"")}catch(y){$e(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iN(a,i),zm(l,o);var u=zm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?uN(a,f):d==="dangerouslySetInnerHTML"?lN(a,f):d==="children"?zo(a,f):eg(a,d,f,u)}switch(l){case"input":Dm(a,i);break;case"textarea":sN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xi(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Xi(a,!!i.multiple,i.defaultValue,!0):Xi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Go]=i}catch(y){$e(e,e.return,y)}}break;case 6:if(Pr(t,e),Gr(e),n&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){$e(e,e.return,y)}}break;case 3:if(Pr(t,e),Gr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:Pr(t,e),Gr(e);break;case 13:Pr(t,e),Gr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ig=Be())),n&4&&db(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(St=(u=St)||d,Pr(t,e),St=u):Pr(t,e),Gr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(f=K=d;K!==null;){switch(h=K,m=h.child,h.tag){case 0:case 11:case 14:case 15:Oo(4,h,h.return);break;case 1:Ki(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){$e(n,r,y)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){hb(f);continue}}m!==null?(m.return=h,K=m):hb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cN("display",o))}catch(y){$e(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){$e(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pr(t,e),Gr(e),n&4&&db(e);break;case 21:break;default:Pr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(M2(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(zo(a,""),n.flags&=-33);var i=ub(e);pp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ub(e);mp(e,l,o);break;default:throw Error(z(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A4(e,t,r){K=e,R2(e)}function R2(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var a=K,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||hc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||St;l=hc;var u=St;if(hc=o,(St=c)&&!u)for(K=a;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?mb(a):c!==null?(c.return=o,K=c):mb(a);for(;i!==null;)K=i,R2(i),i=i.sibling;K=a,hc=l,St=u}fb(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,K=i):fb(e)}}function fb(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||zd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Cr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}St||t.flags&512&&hp(t)}catch(h){$e(t,t.return,h)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function hb(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function mb(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zd(4,t)}catch(c){$e(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){$e(t,a,c)}}var i=t.return;try{hp(t)}catch(c){$e(t,i,c)}break;case 5:var o=t.return;try{hp(t)}catch(c){$e(t,o,c)}}}catch(c){$e(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var C4=Math.ceil,ku=Fn.ReactCurrentDispatcher,Cg=Fn.ReactCurrentOwner,vr=Fn.ReactCurrentBatchConfig,oe=0,ut=null,We=null,xt=0,Xt=0,Vi=ja(0),Je=0,el=null,ni=0,Fd=0,Tg=0,Ao=null,Ft=null,Ig=0,fs=1/0,mn=null,Eu=!1,gp=null,ha=null,mc=!1,sa=null,Pu=0,Co=0,vp=null,Xc=-1,Qc=0;function Dt(){return oe&6?Be():Xc!==-1?Xc:Xc=Be()}function ma(e){return e.mode&1?oe&2&&xt!==0?xt&-xt:m4.transition!==null?(Qc===0&&(Qc=jN()),Qc):(e=de,e!==0||(e=window.event,e=e===void 0?16:ON(e.type)),e):1}function Fr(e,t,r,n){if(50<Co)throw Co=0,vp=null,Error(z(185));_l(e,r,n),(!(oe&2)||e!==ut)&&(e===ut&&(!(oe&2)&&(Fd|=r),Je===4&&ra(e,xt)),Vt(e,n),r===1&&oe===0&&!(t.mode&1)&&(fs=Be()+500,$d&&_a()))}function Vt(e,t){var r=e.callbackNode;mT(e,t);var n=du(e,e===ut?xt:0);if(n===0)r!==null&&_x(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_x(r),t===1)e.tag===0?h4(pb.bind(null,e)):GN(pb.bind(null,e)),c4(function(){!(oe&6)&&_a()}),r=null;else{switch(_N(n)){case 1:r=ig;break;case 4:r=bN;break;case 16:r=uu;break;case 536870912:r=wN;break;default:r=uu}r=K2(r,z2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function z2(e,t){if(Xc=-1,Qc=0,oe&6)throw Error(z(327));var r=e.callbackNode;if(ts()&&e.callbackNode!==r)return null;var n=du(e,e===ut?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ou(e,n);else{t=n;var a=oe;oe|=2;var i=B2();(ut!==e||xt!==t)&&(mn=null,fs=Be()+500,Ya(e,t));do try{D4();break}catch(l){F2(e,l)}while(!0);yg(),ku.current=i,oe=a,We!==null?t=0:(ut=null,xt=0,t=Je)}if(t!==0){if(t===2&&(a=qm(e),a!==0&&(n=a,t=yp(e,a))),t===1)throw r=el,Ya(e,0),ra(e,n),Vt(e,Be()),r;if(t===6)ra(e,n);else{if(a=e.current.alternate,!(n&30)&&!T4(a)&&(t=Ou(e,n),t===2&&(i=qm(e),i!==0&&(n=i,t=yp(e,i))),t===1))throw r=el,Ya(e,0),ra(e,n),Vt(e,Be()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:Ma(e,Ft,mn);break;case 3:if(ra(e,n),(n&130023424)===n&&(t=Ig+500-Be(),10<t)){if(du(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zm(Ma.bind(null,e,Ft,mn),t);break}Ma(e,Ft,mn);break;case 4:if(ra(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-zr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C4(n/1960))-n,10<n){e.timeoutHandle=Zm(Ma.bind(null,e,Ft,mn),n);break}Ma(e,Ft,mn);break;case 5:Ma(e,Ft,mn);break;default:throw Error(z(329))}}}return Vt(e,Be()),e.callbackNode===r?z2.bind(null,e):null}function yp(e,t){var r=Ao;return e.current.memoizedState.isDehydrated&&(Ya(e,t).flags|=256),e=Ou(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&xp(t)),e}function xp(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function T4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ur(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t){for(t&=~Tg,t&=~Fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zr(t),n=1<<r;e[r]=-1,t&=~n}}function pb(e){if(oe&6)throw Error(z(327));ts();var t=du(e,0);if(!(t&1))return Vt(e,Be()),null;var r=Ou(e,t);if(e.tag!==0&&r===2){var n=qm(e);n!==0&&(t=n,r=yp(e,n))}if(r===1)throw r=el,Ya(e,0),ra(e,t),Vt(e,Be()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ma(e,Ft,mn),Vt(e,Be()),null}function Dg(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(fs=Be()+500,$d&&_a())}}function ai(e){sa!==null&&sa.tag===0&&!(oe&6)&&ts();var t=oe;oe|=1;var r=vr.transition,n=de;try{if(vr.transition=null,de=1,e)return e()}finally{de=n,vr.transition=r,oe=t,!(oe&6)&&_a()}}function Mg(){Xt=Vi.current,_e(Vi)}function Ya(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l4(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(pg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gu();break;case 3:us(),_e(Ht),_e(Pt),Ng();break;case 5:_g(n);break;case 4:us();break;case 13:_e(Ae);break;case 19:_e(Ae);break;case 10:xg(n.type._context);break;case 22:case 23:Mg()}r=r.return}if(ut=e,We=e=pa(e.current,null),xt=Xt=t,Je=0,el=null,Tg=Fd=ni=0,Ft=Ao=null,Wa!==null){for(t=0;t<Wa.length;t++)if(r=Wa[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Wa=null}return e}function F2(e,t){do{var r=We;try{if(yg(),Vc.current=Su,Nu){for(var n=Ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nu=!1}if(ri=0,ot=Xe=Ce=null,Po=!1,Qo=0,Cg.current=null,r===null||r.return===null){Je=1,el=t,We=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rb(o);if(m!==null){m.flags&=-257,nb(m,o,l,i,t),m.mode&1&&tb(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){tb(i,u,t),$g();break e}c=Error(z(426))}}else if(ke&&l.mode&1){var x=rb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nb(x,o,l,i,t),gg(ds(c,l));break e}}i=c=ds(c,l),Je!==4&&(Je=2),Ao===null?Ao=[i]:Ao.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=_2(i,c,t);Yx(i,v);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ha===null||!ha.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=N2(i,l,t);Yx(i,j);break e}}i=i.return}while(i!==null)}W2(r)}catch(N){t=N,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function B2(){var e=ku.current;return ku.current=Su,e===null?Su:e}function $g(){(Je===0||Je===3||Je===2)&&(Je=4),ut===null||!(ni&268435455)&&!(Fd&268435455)||ra(ut,xt)}function Ou(e,t){var r=oe;oe|=2;var n=B2();(ut!==e||xt!==t)&&(mn=null,Ya(e,t));do try{I4();break}catch(a){F2(e,a)}while(!0);if(yg(),oe=r,ku.current=n,We!==null)throw Error(z(261));return ut=null,xt=0,Je}function I4(){for(;We!==null;)U2(We)}function D4(){for(;We!==null&&!iT();)U2(We)}function U2(e){var t=H2(e.alternate,e,Xt);e.memoizedProps=e.pendingProps,t===null?W2(e):We=t,Cg.current=null}function W2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=E4(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,We=null;return}}else if(r=k4(r,t,Xt),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Je===0&&(Je=5)}function Ma(e,t,r){var n=de,a=vr.transition;try{vr.transition=null,de=1,M4(e,t,r,n)}finally{vr.transition=a,de=n}return null}function M4(e,t,r,n){do ts();while(sa!==null);if(oe&6)throw Error(z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(pT(e,i),e===ut&&(We=ut=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mc||(mc=!0,K2(uu,function(){return ts(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vr.transition,vr.transition=null;var o=de;de=1;var l=oe;oe|=4,Cg.current=null,O4(e,r),L2(r,e),t4(Xm),fu=!!Ym,Xm=Ym=null,e.current=r,A4(r),sT(),oe=l,de=o,vr.transition=i}else e.current=r;if(mc&&(mc=!1,sa=e,Pu=a),i=e.pendingLanes,i===0&&(ha=null),cT(r.stateNode),Vt(e,Be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Eu)throw Eu=!1,e=gp,gp=null,e;return Pu&1&&e.tag!==0&&ts(),i=e.pendingLanes,i&1?e===vp?Co++:(Co=0,vp=e):Co=0,_a(),null}function ts(){if(sa!==null){var e=_N(Pu),t=vr.transition,r=de;try{if(vr.transition=null,de=16>e?16:e,sa===null)var n=!1;else{if(e=sa,sa=null,Pu=0,oe&6)throw Error(z(331));var a=oe;for(oe|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Oo(8,d,i)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var h=d.sibling,m=d.return;if(D2(d),d===u){K=null;break}if(h!==null){h.return=m,K=h;break}K=m}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var w=e.current;for(K=w;K!==null;){o=K;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,K=b;else e:for(o=w;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zd(9,l)}}catch(N){$e(l,l.return,N)}if(l===o){K=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,K=j;break e}K=l.return}}if(oe=a,_a(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Cd,e)}catch{}n=!0}return n}finally{de=r,vr.transition=t}}return!1}function gb(e,t,r){t=ds(r,t),t=_2(e,t,1),e=fa(e,t,1),t=Dt(),e!==null&&(_l(e,1,t),Vt(e,t))}function $e(e,t,r){if(e.tag===3)gb(e,e,r);else for(;t!==null;){if(t.tag===3){gb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ha===null||!ha.has(n))){e=ds(r,e),e=N2(t,e,1),t=fa(t,e,1),e=Dt(),t!==null&&(_l(t,1,e),Vt(t,e));break}}t=t.return}}function $4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(xt&r)===r&&(Je===4||Je===3&&(xt&130023424)===xt&&500>Be()-Ig?Ya(e,0):Tg|=r),Vt(e,t)}function q2(e,t){t===0&&(e.mode&1?(t=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):t=1);var r=Dt();e=On(e,t),e!==null&&(_l(e,t,r),Vt(e,r))}function L4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),q2(e,r)}function R4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),q2(e,r)}var H2;H2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,S4(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,ke&&t.flags&1048576&&YN(t,xu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yc(e,t),e=t.pendingProps;var a=os(t,Pt.current);es(t,r),a=kg(null,t,n,e,a,r);var i=Eg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,vu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wg(t),a.updater=Rd,t.stateNode=a,a._reactInternals=t,ip(t,n,e,r),t=lp(null,t,n,!0,i,r)):(t.tag=0,ke&&i&&mg(t),At(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=F4(n),e=Cr(n,e),a){case 0:t=op(null,t,n,e,r);break e;case 1:t=sb(null,t,n,e,r);break e;case 11:t=ab(null,t,n,e,r);break e;case 14:t=ib(null,t,n,Cr(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cr(n,a),op(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cr(n,a),sb(e,t,n,a,r);case 3:e:{if(P2(t),e===null)throw Error(z(387));n=t.pendingProps,i=t.memoizedState,a=i.element,t2(e,t),ju(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ds(Error(z(423)),t),t=ob(e,t,n,r,a);break e}else if(n!==a){a=ds(Error(z(424)),t),t=ob(e,t,n,r,a);break e}else for(Zt=da(t.stateNode.containerInfo.firstChild),er=t,ke=!0,Dr=null,r=JN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ls(),n===a){t=An(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return r2(t),e===null&&rp(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Qm(n,a)?o=null:i!==null&&Qm(n,i)&&(t.flags|=32),E2(e,t),At(e,t,o,r),t.child;case 6:return e===null&&rp(t),null;case 13:return O2(e,t,r);case 4:return jg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cs(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cr(n,a),ab(e,t,n,a,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,xe(bu,n._currentValue),n._currentValue=o,i!==null)if(Ur(i.value,o)){if(i.children===a.children&&!Ht.current){t=An(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=_n(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),np(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),np(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,es(t,r),a=xr(a),n=n(a),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,a=Cr(n,t.pendingProps),a=Cr(n.type,a),ib(e,t,n,a,r);case 15:return S2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Cr(n,a),Yc(e,t),t.tag=1,Kt(n)?(e=!0,vu(t)):e=!1,es(t,r),j2(t,n,a),ip(t,n,a,r),lp(null,t,n,!0,e,r);case 19:return A2(e,t,r);case 22:return k2(e,t,r)}throw Error(z(156,t.tag))};function K2(e,t){return xN(e,t)}function z4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,n){return new z4(e,t,r,n)}function Lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F4(e){if(typeof e=="function")return Lg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rg)return 11;if(e===ng)return 14}return 2}function pa(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zc(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Lg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Li:return Xa(r.children,a,i,t);case tg:o=8,a|=8;break;case Om:return e=pr(12,r,t,a|2),e.elementType=Om,e.lanes=i,e;case Am:return e=pr(13,r,t,a),e.elementType=Am,e.lanes=i,e;case Cm:return e=pr(19,r,t,a),e.elementType=Cm,e.lanes=i,e;case rN:return Bd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eN:o=10;break e;case tN:o=9;break e;case rg:o=11;break e;case ng:o=14;break e;case Qn:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=pr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Xa(e,t,r,n){return e=pr(7,e,n,t),e.lanes=r,e}function Bd(e,t,r,n){return e=pr(22,e,n,t),e.elementType=rN,e.lanes=r,e.stateNode={isHidden:!1},e}function Rh(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function zh(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Rg(e,t,r,n,a,i,o,l,c){return e=new B4(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(i),e}function U4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V2(e){if(!e)return xa;e=e._reactInternals;e:{if(pi(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Kt(r))return VN(e,r,t)}return t}function G2(e,t,r,n,a,i,o,l,c){return e=Rg(r,n,!0,e,a,i,o,l,c),e.context=V2(null),r=e.current,n=Dt(),a=ma(r),i=_n(n,a),i.callback=t??null,fa(r,i,a),e.current.lanes=a,_l(e,a,n),Vt(e,n),e}function Ud(e,t,r,n){var a=t.current,i=Dt(),o=ma(a);return r=V2(r),t.context===null?t.context=r:t.pendingContext=r,t=_n(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fa(a,t,o),e!==null&&(Fr(e,a,o,i),Kc(e,a,o)),o}function Au(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zg(e,t){vb(e,t),(e=e.alternate)&&vb(e,t)}function W4(){return null}var Y2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fg(e){this._internalRoot=e}Wd.prototype.render=Fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Ud(e,t,null,null)};Wd.prototype.unmount=Fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){Ud(null,e,null,null)}),t[Pn]=null}};function Wd(e){this._internalRoot=e}Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=kN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ta.length&&t!==0&&t<ta[r].priority;r++);ta.splice(r,0,e),r===0&&PN(e)}};function Bg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yb(){}function q4(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Au(o);i.call(u)}}var o=G2(t,n,e,0,null,!1,!1,"",yb);return e._reactRootContainer=o,e[Pn]=o.current,Ko(e.nodeType===8?e.parentNode:e),ai(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Au(c);l.call(u)}}var c=Rg(e,0,!1,null,null,!1,!1,"",yb);return e._reactRootContainer=c,e[Pn]=c.current,Ko(e.nodeType===8?e.parentNode:e),ai(function(){Ud(t,c,r,n)}),c}function Hd(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Au(o);l.call(c)}}Ud(t,o,e,a)}else o=q4(r,t,e,a,n);return Au(o)}NN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=po(t.pendingLanes);r!==0&&(sg(t,r|1),Vt(t,Be()),!(oe&6)&&(fs=Be()+500,_a()))}break;case 13:ai(function(){var n=On(e,1);if(n!==null){var a=Dt();Fr(n,e,1,a)}}),zg(e,1)}};og=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var r=Dt();Fr(t,e,134217728,r)}zg(e,134217728)}};SN=function(e){if(e.tag===13){var t=ma(e),r=On(e,t);if(r!==null){var n=Dt();Fr(r,e,t,n)}zg(e,t)}};kN=function(){return de};EN=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};Bm=function(e,t,r){switch(t){case"input":if(Dm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Md(n);if(!a)throw Error(z(90));aN(n),Dm(n,a)}}}break;case"textarea":sN(e,r);break;case"select":t=r.value,t!=null&&Xi(e,!!r.multiple,t,!1)}};hN=Dg;mN=ai;var H4={usingClientEntryPoint:!1,Events:[Sl,Bi,Md,dN,fN,Dg]},Js={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K4={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vN(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||W4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Cd=pc.inject(K4),nn=pc}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4;ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(t))throw Error(z(200));return U4(e,t,null,r)};ar.createRoot=function(e,t){if(!Bg(e))throw Error(z(299));var r=!1,n="",a=Y2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Rg(e,1,!1,null,null,r,!1,n,a),e[Pn]=t.current,Ko(e.nodeType===8?e.parentNode:e),new Fg(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=vN(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return ai(e)};ar.hydrate=function(e,t,r){if(!qd(t))throw Error(z(200));return Hd(null,e,t,!0,r)};ar.hydrateRoot=function(e,t,r){if(!Bg(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Y2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=G2(t,null,e,1,r??null,a,!1,i,o),e[Pn]=t.current,Ko(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Wd(t)};ar.render=function(e,t,r){if(!qd(t))throw Error(z(200));return Hd(null,e,t,!1,r)};ar.unmountComponentAtNode=function(e){if(!qd(e))throw Error(z(40));return e._reactRootContainer?(ai(function(){Hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};ar.unstable_batchedUpdates=Dg;ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qd(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Hd(e,t,r,!1,n)};ar.version="18.3.1-next-f1338f8080-20240426";function X2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X2)}catch(e){console.error(e)}}X2(),X_.exports=ar;var Kd=X_.exports,Q2,xb=Kd;Q2=xb.createRoot,xb.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bb="popstate";function V4(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return bp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:tl(a)}return Y4(t,r,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G4(){return Math.random().toString(36).substring(2,10)}function wb(e,t){return{usr:e.state,key:e.key,idx:t}}function bp(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ps(t):t,state:r,key:t&&t.key||n||G4()}}function tl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ps(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Y4(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:v})}function h(x,v){l="PUSH";let w=bp(y.location,x,v);u=d()+1;let b=wb(w,u),j=y.createHref(w);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function m(x,v){l="REPLACE";let w=bp(y.location,x,v);u=d();let b=wb(w,u),j=y.createHref(w);o.replaceState(b,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function g(x){return X4(x)}let y={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(bb,f),c=x,()=>{a.removeEventListener(bb,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return o.go(x)}};return y}function X4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:tl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Z2(e,t,r="/"){return Q4(e,t,r,!1)}function Q4(e,t,r,n){let a=typeof t=="string"?Ps(t):t,i=Cn(a.pathname||"/",r);if(i==null)return null;let o=J2(e);Z4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=c3(i);l=o3(o[c],u,n)}return l}function J2(e,t=[],r=[],n="",a=!1){let i=(o,l,c=a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Pe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Nn([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(Pe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J2(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:i3(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of eS(o.path))i(o,l,!0,u)}),t}function eS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=eS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Z4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var J4=/^:[\w-]+$/,e3=3,t3=2,r3=1,n3=10,a3=-2,jb=e=>e==="*";function i3(e,t){let r=e.split("/"),n=r.length;return r.some(jb)&&(n+=a3),t&&(n+=t3),r.filter(a=>!jb(a)).reduce((a,i)=>a+(J4.test(i)?e3:i===""?r3:n3),n)}function s3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function o3(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Nn([i,f.pathname]),pathnameBase:h3(Nn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Nn([i,f.pathnameBase]))}return o}function Cu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=l3(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function l3(e,t=!1,r=!0){wr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function c3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var u3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function d3(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ps(e):e,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=_b(r.substring(1),"/"):i=_b(r,t)):i=t,{pathname:i,search:m3(n),hash:p3(a)}}function _b(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fh(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ug(e){let t=f3(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Wg(e,t,r,n=!1){let a;typeof e=="string"?a=Ps(e):(a={...e},Pe(!a.pathname||!a.pathname.includes("?"),Fh("?","pathname","search",a)),Pe(!a.pathname||!a.pathname.includes("#"),Fh("#","pathname","hash",a)),Pe(!a.search||!a.search.includes("#"),Fh("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=d3(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Nn=e=>e.join("/").replace(/\/\/+/g,"/"),h3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,g3=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function v3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function y3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rS(e,t){let r=e;if(typeof r!="string"||!u3.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(tS)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),l=Cn(o.pathname,t);o.origin===i.origin&&l!=null?r=l+o.search+o.hash:a=!0}catch{wr(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var x3=["GET",...nS];new Set(x3);var Os=p.createContext(null);Os.displayName="DataRouter";var Vd=p.createContext(null);Vd.displayName="DataRouterState";var b3=p.createContext(!1),aS=p.createContext({isTransitioning:!1});aS.displayName="ViewTransition";var w3=p.createContext(new Map);w3.displayName="Fetchers";var j3=p.createContext(null);j3.displayName="Await";var sr=p.createContext(null);sr.displayName="Navigation";var El=p.createContext(null);El.displayName="Location";var Hr=p.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var qg=p.createContext(null);qg.displayName="RouteError";var iS="REACT_ROUTER_ERROR",_3="REDIRECT",N3="ROUTE_ERROR_RESPONSE";function S3(e){if(e.startsWith(`${iS}:${_3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function k3(e){if(e.startsWith(`${iS}:${N3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new g3(t.status,t.statusText,t.data)}catch{}}function E3(e,{relative:t}={}){Pe(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=p.useContext(sr),{hash:a,pathname:i,search:o}=Pl(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:Nn([r,i])),n.createHref({pathname:l,search:o,hash:a})}function As(){return p.useContext(El)!=null}function fn(){return Pe(As(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(El).location}var sS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oS(e){p.useContext(sr).static||p.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=p.useContext(Hr);return e?B3():P3()}function P3(){Pe(As(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Os),{basename:t,navigator:r}=p.useContext(sr),{matches:n}=p.useContext(Hr),{pathname:a}=fn(),i=JSON.stringify(Ug(n)),o=p.useRef(!1);return oS(()=>{o.current=!0}),p.useCallback((c,u={})=>{if(wr(o.current,sS),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Wg(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Nn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}p.createContext(null);function O3(){let{matches:e}=p.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function Pl(e,{relative:t}={}){let{matches:r}=p.useContext(Hr),{pathname:n}=fn(),a=JSON.stringify(Ug(r));return p.useMemo(()=>Wg(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function A3(e,t){return lS(e,t)}function lS(e,t,r,n,a){var w;Pe(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(sr),{matches:o}=p.useContext(Hr),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";uS(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=fn(),m;if(t){let b=typeof t=="string"?Ps(t):t;Pe(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=h;let g=m.pathname||"/",y=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Z2(e,{pathname:y});wr(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),wr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=M3(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Nn([d,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Nn([d,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),o,r,n,a);return t&&v?p.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function C3(){let e=F3(),t=v3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,o)}var T3=p.createElement(C3,null),cS=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=k3(e.digest);r&&(e=r)}let t=e!==void 0?p.createElement(Hr.Provider,{value:this.props.routeContext},p.createElement(qg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?p.createElement(I3,{error:e},t):t}};cS.contextType=b3;var Bh=new WeakMap;function I3({children:e,error:t}){let{basename:r}=p.useContext(sr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=S3(t.digest);if(n){let a=Bh.get(t);if(a)throw a;let i=rS(n.location,r);if(tS&&!Bh.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Bh.set(t,o),o}return p.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function D3({routeContext:e,match:t,children:r}){let n=p.useContext(Os);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Hr.Provider,{value:e},r)}function M3(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Pe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:y3(r.matches),errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let m,g=!1,y=null,x=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||T3,l&&(c<0&&h===0?(uS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),w=()=>{let b;return m?b=y:g?b=x:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(D3,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(cS,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):w()},null)}function Hg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $3(e){let t=p.useContext(Os);return Pe(t,Hg(e)),t}function L3(e){let t=p.useContext(Vd);return Pe(t,Hg(e)),t}function R3(e){let t=p.useContext(Hr);return Pe(t,Hg(e)),t}function Kg(e){let t=R3(e),r=t.matches[t.matches.length-1];return Pe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function z3(){return Kg("useRouteId")}function F3(){var n;let e=p.useContext(qg),t=L3("useRouteError"),r=Kg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function B3(){let{router:e}=$3("useNavigate"),t=Kg("useNavigate"),r=p.useRef(!1);return oS(()=>{r.current=!0}),p.useCallback(async(a,i={})=>{wr(r.current,sS),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Nb={};function uS(e,t,r){!t&&!Nb[e]&&(Nb[e]=!0,wr(!1,r))}p.memo(U3);function U3({routes:e,future:t,state:r,onError:n}){return lS(e,void 0,r,n,t)}function dS({to:e,replace:t,state:r,relative:n}){Pe(As(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=p.useContext(sr);wr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=p.useContext(Hr),{pathname:o}=fn(),l=Na(),c=Wg(e,Ug(i),o,n==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function pt(e){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W3({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Pe(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof r=="string"&&(r=Ps(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=p.useMemo(()=>{let y=Cn(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return wr(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(sr.Provider,{value:c},p.createElement(El.Provider,{children:t,value:g}))}function Sb({children:e,location:t}){return A3(wp(e),t)}function wp(e,t=[]){let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,wp(n.props.children,i));return}Pe(n.type===pt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wp(n.props.children,i)),r.push(o)}),r}var Jc="get",eu="application/x-www-form-urlencoded";function Gd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function q3(e){return Gd(e)&&e.tagName.toLowerCase()==="button"}function H3(e){return Gd(e)&&e.tagName.toLowerCase()==="form"}function K3(e){return Gd(e)&&e.tagName.toLowerCase()==="input"}function V3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G3(e,t){return e.button===0&&(!t||t==="_self")&&!V3(e)}function jp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Y3(e,t){let r=jp(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var gc=null;function X3(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var Q3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uh(e){return e!=null&&!Q3.has(e)?(wr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):e}function Z3(e,t){let r,n,a,i,o;if(H3(e)){let l=e.getAttribute("action");n=l?Cn(l,t):null,r=e.getAttribute("method")||Jc,a=Uh(e.getAttribute("enctype"))||eu,i=new FormData(e)}else if(q3(e)||K3(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Cn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Jc,a=Uh(e.getAttribute("formenctype"))||Uh(l.getAttribute("enctype"))||eu,i=new FormData(l,e),!X3()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Gd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jc,n=null,a=eu,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function J3(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Cn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function eI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rI(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await eI(i,r);return o.links?o.links():[]}return[]}));return sI(n.flat(1).filter(tI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function kb(e,t,r,n,a,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function nI(e,t,{includeHydrateFallback:r}={}){return aI(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function aI(e){return[...new Set(e)]}function iI(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sI(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(iI(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function fS(){let e=p.useContext(Os);return Vg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oI(){let e=p.useContext(Vd);return Vg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gg=p.createContext(void 0);Gg.displayName="FrameworkContext";function hS(){let e=p.useContext(Gg);return Vg(e,"You must render this element inside a <HydratedRouter> element"),e}function lI(e,t){let r=p.useContext(Gg),[n,a]=p.useState(!1),[i,o]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=v=>{v.forEach(w=>{o(w.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[e]),p.useEffect(()=>{if(n){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[n]);let m=()=>{a(!0)},g=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:eo(l,m),onBlur:eo(c,g),onMouseEnter:eo(u,m),onMouseLeave:eo(d,g),onTouchStart:eo(f,m)}]:[!1,h,{}]}function eo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cI({page:e,...t}){let{router:r}=fS(),n=p.useMemo(()=>Z2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?p.createElement(dI,{page:e,matches:n,...t}):null}function uI(e){let{manifest:t,routeModules:r}=hS(),[n,a]=p.useState([]);return p.useEffect(()=>{let i=!1;return rI(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function dI({page:e,matches:t,...r}){let n=fn(),{future:a,manifest:i,routeModules:o}=hS(),{basename:l}=fS(),{loaderData:c,matches:u}=oI(),d=p.useMemo(()=>kb(e,t,u,i,n,"data"),[e,t,u,i,n]),f=p.useMemo(()=>kb(e,t,u,i,n,"assets"),[e,t,u,i,n]),h=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(w=>{var j;let b=i.routes[w.route.id];!b||!b.hasLoader||(!d.some(N=>N.route.id===w.route.id)&&w.route.id in c&&((j=o[w.route.id])!=null&&j.shouldRevalidate)||b.hasClientLoader?x=!0:y.add(w.route.id))}),y.size===0)return[];let v=J3(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return x&&y.size>0&&v.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,i,d,t,e,o]),m=p.useMemo(()=>nI(f,i),[f,i]),g=uI(f);return p.createElement(p.Fragment,null,h.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:x})=>p.createElement("link",{key:y,nonce:r.nonce,...x,crossOrigin:x.crossOrigin??r.crossOrigin})))}function fI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.13.0")}catch{}function mI({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=p.useRef();a.current==null&&(a.current=V4({window:n,v5Compat:!0}));let i=a.current,[o,l]=p.useState({action:i.action,location:i.location}),c=p.useCallback(u=>{r===!1?l(u):p.startTransition(()=>l(u))},[r]);return p.useLayoutEffect(()=>i.listen(c),[i,c]),p.createElement(W3,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=p.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g){let{basename:y,unstable_useTransitions:x}=p.useContext(sr),v=typeof u=="string"&&mS.test(u),w=rS(u,y);u=w.to;let b=E3(u,{relative:a}),[j,N,_]=lI(n,m),S=yI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:x});function E(D){t&&t(D),D.defaultPrevented||S(D)}let C=p.createElement("a",{...m,..._,href:w.absoluteURL||b,onClick:w.isExternal||i?t:E,ref:fI(g,N),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?p.createElement(p.Fragment,null,C,p.createElement(cI,{page:b})):C});Mr.displayName="Link";var pI=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},d){let f=Pl(o,{relative:u.relative}),h=fn(),m=p.useContext(Vd),{navigator:g,basename:y}=p.useContext(sr),x=m!=null&&NI(f)&&l===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&y&&(b=Cn(b,y)||b);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=w===v||!a&&w.startsWith(v)&&w.charAt(j)==="/",_=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:N,isPending:_,isTransitioning:x},E=N?t:void 0,C;typeof n=="function"?C=n(S):C=[n,N?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(S):i;return p.createElement(Mr,{...u,"aria-current":E,className:C,ref:d,style:D,to:o,viewTransition:l},typeof c=="function"?c(S):c)});pI.displayName="NavLink";var gI=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Jc,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g)=>{let{unstable_useTransitions:y}=p.useContext(sr),x=jI(),v=_I(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&mS.test(l),j=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let _=N.nativeEvent.submitter,S=(_==null?void 0:_.getAttribute("formmethod"))||o,E=()=>x(_||N.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h});y&&r!==!1?p.startTransition(()=>E()):E()};return p.createElement("form",{ref:g,method:w,action:v,onSubmit:n?c:j,...m,"data-discover":!b&&e==="render"?"true":void 0})});gI.displayName="Form";function vI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pS(e){let t=p.useContext(Os);return Pe(t,vI(e)),t}function yI(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=Na(),d=fn(),f=Pl(e,{relative:i});return p.useCallback(h=>{if(G3(h,t)){h.preventDefault();let m=r!==void 0?r:tl(d)===tl(f),g=()=>u(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?p.startTransition(()=>g()):g()}},[d,u,f,r,n,t,e,a,i,o,l,c])}function xI(e){wr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(jp(e)),r=p.useRef(!1),n=fn(),a=p.useMemo(()=>Y3(n.search,r.current?null:t.current),[n.search]),i=Na(),o=p.useCallback((l,c)=>{const u=jp(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var bI=0,wI=()=>`__${String(++bI)}__`;function jI(){let{router:e}=pS("useSubmit"),{basename:t}=p.useContext(sr),r=z3(),n=e.fetch,a=e.navigate;return p.useCallback(async(i,o={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Z3(i,t);if(o.navigate===!1){let h=o.fetcherKey||wI();await n(h,r,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function _I(e,{relative:t}={}){let{basename:r}=p.useContext(sr),n=p.useContext(Hr);Pe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Pl(e||".",{relative:t})},o=fn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Nn([r,i.pathname])),tl(i)}function NI(e,{relative:t}={}){let r=p.useContext(aS);Pe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pS("useViewTransitionState"),a=Pl(e,{relative:t});if(!r.isTransitioning)return!1;let i=Cn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Cn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cu(a.pathname,o)!=null||Cu(a.pathname,i)!=null}const SI="modulepreload",kI=function(e){return"/"+e},Eb={},Cs=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=kI(c),c in Eb)return;Eb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":SI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},EI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class PI extends Yg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pb extends Yg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ob extends Yg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _p;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_p||(_p={}));var OI=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class AI{constructor(t,{headers:r={},customFetch:n,region:a=_p.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=EI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return OI(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(y=>{throw new PI(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Pb(f);if(!f.ok)throw new Ob(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Ob||a instanceof Pb?a.context:void 0}}})}}var Bt={},Xg={},Yd={},Ol={},Xd={},Qd={},CI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hs=CI();const TI=hs.fetch,gS=hs.fetch.bind(hs),vS=hs.Headers,II=hs.Request,DI=hs.Response,Ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:vS,Request:II,Response:DI,default:gS,fetch:TI},Symbol.toStringTag,{value:"Module"})),MI=xC(Ts);var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});let $I=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Zd.default=$I;var yS=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qd,"__esModule",{value:!0});const LI=yS(MI),RI=yS(Zd);let zI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,g="OK")}catch{i.status===404&&x===""?(m=204,g="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new RI.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Qd.default=zI;var FI=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xd,"__esModule",{value:!0});const BI=FI(Qd);let UI=class extends BI.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Xd.default=UI;var WI=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ol,"__esModule",{value:!0});const qI=WI(Xd);let HI=class extends qI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ol.default=HI;var KI=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yd,"__esModule",{value:!0});const to=KI(Ol);let VI=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new to.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new to.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new to.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new to.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new to.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Yd.default=VI;var xS=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xg,"__esModule",{value:!0});const GI=xS(Yd),YI=xS(Ol);let XI=class bS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new GI.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new YI.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Xg.default=XI;var Is=yr&&yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const wS=Is(Xg);Bt.PostgrestClient=wS.default;const jS=Is(Yd);Bt.PostgrestQueryBuilder=jS.default;const _S=Is(Ol);Bt.PostgrestFilterBuilder=_S.default;const NS=Is(Xd);Bt.PostgrestTransformBuilder=NS.default;const SS=Is(Qd);Bt.PostgrestBuilder=SS.default;const kS=Is(Zd);Bt.PostgrestError=kS.default;var QI=Bt.default={PostgrestClient:wS.default,PostgrestQueryBuilder:jS.default,PostgrestFilterBuilder:_S.default,PostgrestTransformBuilder:NS.default,PostgrestBuilder:SS.default,PostgrestError:kS.default};const{PostgrestClient:ZI,PostgrestQueryBuilder:CX,PostgrestFilterBuilder:TX,PostgrestTransformBuilder:IX,PostgrestBuilder:DX,PostgrestError:MX}=QI;class JI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eD="2.15.5",tD=`realtime-js/${eD}`,rD="1.0.0",Np=1e4,nD=1e3,aD=100;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var Ir;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ir||(Ir={}));var Sp;(function(e){e.websocket="websocket"})(Sp||(Sp={}));var Fa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fa||(Fa={}));class iD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ES{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const Ab=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=sD(o,e,t,a),i),{})},sD=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?PS(i,o):kp(o)},PS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uD(t,r)}switch(e){case ve.bool:return oD(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return lD(t);case ve.json:case ve.jsonb:return cD(t);case ve.timestamp:return dD(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return kp(t);default:return kp(t)}},kp=e=>e,oD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>PS(t,l))}return e},dD=e=>typeof e=="string"?e.replace(" ","T"):e,OS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Wh{constructor(t,r,n={},a=Np){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cb||(Cb={}));class Io{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Io.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Io.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),y=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tb||(Tb={}));var Do;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Do||(Do={}));var pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class Qg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new ES(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Io(this),this.broadcastEndpointURL=OS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Do.PRESENCE]&&this.bindings[Do.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(pn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(pn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let w=0;w<x;w++){const b=y[w],{filter:{event:j,schema:N,table:_,filter:S}}=b,E=m&&m[w];if(E&&E.event===j&&E.schema===N&&E.table===_&&E.filter===S)v.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(pn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ge.errored,t==null||t(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ge.joined&&t===Do.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Wh(this,Ir.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Wh(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ir;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,y,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,y,x,v,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:x,commit_timestamp:v,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Qg.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ir.close,{},t)}_onError(t){this._on(Ir.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ab(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ab(t.columns,t.old_record)),r}}const qh=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fD=[1e3,2e3,5e3,1e4],hD=1e4,mD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Np,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qh,this.ref=0,this.reconnectTimer=null,this.logger=qh,this.conn=null,this.sendBuffer=[],this.serializer=new iD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Cs(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Sp.websocket}`,this.httpEndpoint=OS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return Fa.Connecting;case To.open:return Fa.Open;case To.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Qg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ir.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:tD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ir.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ES(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Np,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:vc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>fD[f-1]||hD,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Zg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gD extends Zg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ep extends Zg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const AS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yD=()=>vD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>Ts),void 0)).Response:Response}),Pp=e=>{if(Array.isArray(e))return e.map(r=>Pp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Pp(n)}),t},xD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var gi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Hh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bD=(e,t,r)=>gi(void 0,void 0,void 0,function*(){const n=yield yD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new gD(Hh(a),i,o))}).catch(a=>{t(new Ep(Hh(a),a))}):t(new Ep(Hh(e),e))}),wD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(xD(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Al(e,t,r,n,a,i){return gi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,wD(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>bD(c,l,n))})})}function Tu(e,t,r,n){return gi(this,void 0,void 0,function*(){return Al(e,"GET",t,r,n)})}function Jr(e,t,r,n,a){return gi(this,void 0,void 0,function*(){return Al(e,"POST",t,n,a,r)})}function Op(e,t,r,n,a){return gi(this,void 0,void 0,function*(){return Al(e,"PUT",t,n,a,r)})}function jD(e,t,r,n){return gi(this,void 0,void 0,function*(){return Al(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function CS(e,t,r,n,a){return gi(this,void 0,void 0,function*(){return Al(e,"DELETE",t,n,a,r)})}var Ot=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _D={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ib={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ND{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=AS(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ot(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ib),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Op:Jr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ye(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ot(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ib.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Op(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zg("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ot(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Jr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ot(this,void 0,void 0,function*(){try{const a=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}download(t,r){return Ot(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Tu(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ye(l))return{data:null,error:l};throw l}})}info(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Tu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n)&&n instanceof Ep){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield CS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ot(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_D),r),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ye(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ot(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SD="2.12.1",kD={"X-Client-Info":`storage-js/${SD}`};var _i=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ED{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},kD),r),this.fetch=AS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _i(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _i(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _i(this,void 0,void 0,function*(){try{return{data:yield Op(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _i(this,void 0,void 0,function*(){try{return{data:yield CS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ye(r))return{data:null,error:r};throw r}})}}class PD extends ED{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new ND(this.url,this.headers,t,this.fetch)}}const OD="2.57.4";let vo="";typeof Deno<"u"?vo="deno":typeof document<"u"?vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vo="react-native":vo="node";const AD={"X-Client-Info":`supabase-js-${vo}/${OD}`},CD={headers:AD},TD={schema:"public"},ID={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DD={};var MD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $D=e=>{let t;return e?t=e:typeof fetch>"u"?t=gS:t=fetch,(...r)=>t(...r)},LD=()=>typeof Headers>"u"?vS:Headers,RD=(e,t,r)=>{const n=$D(r),a=LD();return(i,o)=>MD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var zD=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function FD(e){return e.endsWith("/")?e:e+"/"}function BD(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function UD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TS="2.71.1",Ii=30*1e3,Ap=3,Kh=Ap*Ii,WD="http://localhost:9999",qD="supabase.auth.token",HD={"X-Client-Info":`gotrue-js/${TS}`},Cp="X-Supabase-Api-Version",IS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VD=10*60*1e3;class Jg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GD extends Jg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YD(e){return re(e)&&e.name==="AuthApiError"}class DS extends Jg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Sa extends Jg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Xn extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XD(e){return re(e)&&e.name==="AuthSessionMissingError"}class yc extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends Sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bc extends Sa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QD(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Db extends Sa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tp extends Sa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Vh(e){return re(e)&&e.name==="AuthRetryableFetchError"}class Mb extends Sa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ip extends Sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$b=` 	
\r=`.split(""),ZD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$b.length;t+=1)e[$b[t].charCodeAt(0)]=-2;for(let t=0;t<Iu.length;t+=1)e[Iu[t].charCodeAt(0)]=t;return e})();function Lb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Iu[n]),t.queuedBits-=6}}function MS(e,t,r){const n=ZD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{t6(o,n,r)};for(let o=0;o<e.length;o+=1)MS(e.charCodeAt(o),a,i);return t.join("")}function JD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function e6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}JD(n,t)}}function t6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function r6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)MS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function n6(e){const t=[];return e6(e,r=>t.push(r)),new Uint8Array(t)}function a6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Lb(a,r,n)),Lb(null,r,n),t.join("")}function i6(e){return Math.round(Date.now()/1e3)+e}function s6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ar=()=>typeof window<"u"&&typeof document<"u",Ca={tested:!1,writable:!1},$S=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ca.tested)return Ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ca.tested=!0,Ca.writable=!0}catch{Ca.tested=!0,Ca.writable=!1}return Ca.writable};function o6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const LS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Di=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ta=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yn=async(e,t)=>{await e.removeItem(t)};class Jd{constructor(){this.promise=new Jd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Jd.promiseConstructor=Promise;function Gh(e){const t=e.split(".");if(t.length!==3)throw new Ip("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!KD.test(t[n]))throw new Ip("JWT not in base64url format");return{header:JSON.parse(Rb(t[0])),payload:JSON.parse(Rb(t[1])),signature:r6(t[2]),raw:{header:t[0],payload:t[1]}}}async function c6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function u6(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function d6(e){return("0"+e.toString(16)).substr(-2)}function f6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,d6).join("")}async function h6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function m6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await h6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ni(e,t,r=!1){const n=f6();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Di(e,`${t}-code-verifier`,a);const i=await m6(n);return[i,n===i?"plain":"s256"]}const p6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g6(e){const t=e.headers.get(Cp);if(!t||!t.match(p6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function v6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Si(e){if(!x6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zb(e){return JSON.parse(JSON.stringify(e))}var b6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const $a=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w6=[502,503,504];async function Fb(e){var t;if(!l6(e))throw new Tp($a(e),0);if(w6.includes(e.status))throw new Tp($a(e),e.status);let r;try{r=await e.json()}catch(i){throw new DS($a(i),i)}let n;const a=g6(e);if(a&&a.getTime()>=IS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mb($a(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mb($a(r),e.status,r.weak_password.reasons);throw new GD($a(r),e.status||500,n)}const j6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ae(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Cp]||(i[Cp]=IS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await _6(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _6(e,t,r,n,a,i){const o=j6(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Tp($a(c),0)}if(l.ok||await Fb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Fb(c)}}function hn(e){var t;let r=null;E6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=i6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bb(e){const t=hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N6(e){return{data:e,error:null}}function S6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=b6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function k6(e){return e}function E6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xh=["global","local","others"];var P6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class O6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=LS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Xh[0]){if(Xh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xh.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:na})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=P6(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:S6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:na})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:k6});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Si(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:na})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Si(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:na})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Si(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:na})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Si(t.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Si(t.userId),Si(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Ub(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function A6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ki={debug:!!(globalThis&&$S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class C6 extends RS{}async function T6(e,t,r){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new C6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ki.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}A6();const I6={url:WD,storageKey:qD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wb(e,t,r){return await r()}const Ei={};class rl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&Ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},I6),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new O6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=LS(a.fetch),this.lock=a.lock||Wb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=T6:this.lock=Wb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:$S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ub(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ub(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ei[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ei[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=o6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ar()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QD(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new DS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:hn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ni(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:hn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hn})}else throw new xc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bb})}else throw new xc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:x,wallet:v,statement:w,options:b}=t;let j;if(Ar())if(typeof v=="object")j=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:x,error:v}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:a6(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:hn});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new yc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(re(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hn});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new yc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(re(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ni(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xc("You must provide either an email or phone number.")}catch(l){if(re(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:hn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ni(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:N6})}catch(i){if(re(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xn;const{error:a}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xc("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ta(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Yh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:na}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:na})})}catch(r){if(re(r))return XD(r)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Xn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ni(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:na});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Gh(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ar())throw new bc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Db("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new bc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(YD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=s6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ni(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(re(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await u6(async a=>(a>0&&await c6(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Vh(i)&&Date.now()+o-n<Ii})}catch(n){if(this._debug(r,"error",n),re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ta(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Di(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Yh()}else if(a&&!a.user&&!a.user){const o=await Ta(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Yn(this.storage,this.storageKey+"-user"),await Di(this.storage,this.storageKey,a)):a.user=Yh()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Kh}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Vh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Jd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),re(i)){const o={session:null,error:i};return Vh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Di(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=zb(a);await Di(this.storage,this.storageKey,i)}else{const a=zb(r);await Di(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ii);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ii}ms, refresh threshold is ${Ap} ticks`),a<=Ap&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ni(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Gh(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+VD>a)return n;const{data:i,error:o}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Gh(n);r!=null&&r.allowExpired||v6(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=y6(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,n6(`${l}.${c}`)))throw new Ip("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}rl.nextInstanceID=0;const D6=rl;class M6 extends D6{constructor(t){super(t)}}var $6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class L6{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=UD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:TD,realtime:DD,auth:Object.assign(Object.assign({},ID),{storageKey:c}),global:CD},d=BD(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=RD(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ZI(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new PD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new AI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return $6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M6({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R6=(e,t,r)=>new L6(e,t,r);function z6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}z6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F6="https://mvxmavfhslavexkwtiee.supabase.co",B6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eG1hdmZoc2xhdmV4a3d0aWVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5Mjg2MjcsImV4cCI6MjA4NzUwNDYyN30.LbQuWOmnVVYfN6OedtxRajiGH_DxgdGKOPXjTNBH-LQ",U=R6(F6,B6),U6=Object.freeze(Object.defineProperty({__proto__:null,supabase:U},Symbol.toStringTag,{value:"Module"})),zS=p.createContext(void 0);function W6({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(!0);p.useEffect(()=>{U.auth.getSession().then(({data:{session:g}})=>{o(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?u(g.user.id):c(!1)});const{data:{subscription:m}}=U.auth.onAuthStateChange((g,y)=>{(async()=>(o(y),r((y==null?void 0:y.user)??null),y!=null&&y.user?await u(y.user.id):(a(null),c(!1))))()});return()=>m.unsubscribe()},[]);const u=async m=>{try{const{data:g,error:y}=await U.from("user_profiles").select("*").eq("id",m).maybeSingle();if(y)throw y;a(g)}catch(g){console.error("Error loading profile:",g)}finally{c(!1)}},h={user:t,profile:n,session:i,loading:l,signIn:async(m,g)=>{try{const{error:y}=await U.auth.signInWithPassword({email:m,password:g});return{error:y}}catch(y){return{error:y}}},signOut:async()=>{await U.auth.signOut(),a(null)}};return s.jsx(zS.Provider,{value:h,children:e})}function ev(){const e=p.useContext(zS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const FS=p.createContext(void 0);function q6({children:e}){const[t,r]=p.useState(null);p.useEffect(()=>{const o=localStorage.getItem("selectedDam");if(o)try{const l=JSON.parse(o);l.id&&l.id.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)?r(l):(console.warn("Invalid dam ID format, clearing selection"),localStorage.removeItem("selectedDam"))}catch(l){console.error("Error parsing stored dam:",l),localStorage.removeItem("selectedDam")}},[]);const i={selectedDam:t,selectDam:o=>{r(o),localStorage.setItem("selectedDam",JSON.stringify(o))},clearSelection:()=>{r(null),localStorage.removeItem("selectedDam")}};return s.jsx(FS.Provider,{value:i,children:e})}function vi(){const e=p.useContext(FS);if(e===void 0)throw new Error("useDamSelection must be used within a DamSelectionProvider");return e}function H6({children:e}){const{user:t,loading:r}=ev();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-slate-600",children:"Cargando..."})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(dS,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...K6,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${V6(e)}`,l].join(" "),...u},[...t.map(([f,h])=>p.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Y("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Y("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=Y("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Y("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Y("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Y("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Y("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Y("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=Y("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Y("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=Y("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Y("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Y("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Y("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Y("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Y("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Y("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Y("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Y("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Y("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Y("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Y("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Y("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Y("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Y("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Y("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function GS({className:e="",size:t=40,showText:r=!0,textColor:n="auto"}){return s.jsxs("div",{className:`flex flex-col items-center ${e}`,children:[s.jsxs("svg",{width:t,height:t,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"SIPRESAS Logo",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"outerRing",cx:"50%",cy:"50%",children:[s.jsx("stop",{offset:"0%",stopColor:"#7dc8f0",stopOpacity:"0.3"}),s.jsx("stop",{offset:"100%",stopColor:"#4db8e8",stopOpacity:"0.6"})]}),s.jsxs("radialGradient",{id:"middleRing",cx:"50%",cy:"50%",children:[s.jsx("stop",{offset:"0%",stopColor:"#3ba9dd",stopOpacity:"0.8"}),s.jsx("stop",{offset:"100%",stopColor:"#2b8fc9",stopOpacity:"0.95"})]}),s.jsxs("radialGradient",{id:"innerRing",cx:"50%",cy:"50%",children:[s.jsx("stop",{offset:"0%",stopColor:"#1d6fa8"}),s.jsx("stop",{offset:"100%",stopColor:"#0f5280"})]}),s.jsxs("radialGradient",{id:"centerCircle",cx:"50%",cy:"40%",children:[s.jsx("stop",{offset:"0%",stopColor:"#2b8fc9"}),s.jsx("stop",{offset:"60%",stopColor:"#1d6fa8"}),s.jsx("stop",{offset:"100%",stopColor:"#0d4470"})]})]}),s.jsx("circle",{cx:"60",cy:"60",r:"56",fill:"url(#outerRing)"}),s.jsx("circle",{cx:"60",cy:"60",r:"48",fill:"white",fillOpacity:"0.95"}),s.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"url(#middleRing)"}),s.jsx("circle",{cx:"60",cy:"60",r:"35",fill:"white",fillOpacity:"0.98"}),s.jsx("circle",{cx:"60",cy:"60",r:"32",fill:"url(#innerRing)"}),s.jsx("circle",{cx:"60",cy:"60",r:"20",fill:"white",fillOpacity:"0.15"}),s.jsx("circle",{cx:"60",cy:"60",r:"18",fill:"url(#centerCircle)"}),s.jsx("ellipse",{cx:"60",cy:"54",rx:"8",ry:"6",fill:"white",opacity:"0.35"})]}),r&&s.jsx("span",{className:`mt-1.5 text-xs font-bold tracking-wider ${n==="white"?"text-white":"text-gray-600"}`,style:{letterSpacing:"0.2em",fontFamily:"system-ui, -apple-system, sans-serif"},children:"SIPRESAS"})]})}function YS({className:e="",height:t=50}){return s.jsxs("svg",{viewBox:"0 0 575 85",height:t,className:e,xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Gobierno de Espaa - Ministerio para la Transicin Ecolgica y el Reto Demogrfico",children:[s.jsx("rect",{width:"575",height:"85",fill:"#F9E547"}),s.jsxs("g",{children:[s.jsx("rect",{x:"0",y:"0",width:"28",height:"85",fill:"#003399"}),s.jsx("circle",{cx:"14",cy:"12",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"22",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"32",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"42",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"52",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"62",r:"1.5",fill:"#FFCC00"}),s.jsx("circle",{cx:"14",cy:"72",r:"1.5",fill:"#FFCC00"}),s.jsx("rect",{x:"28",y:"0",width:"18",height:"21.25",fill:"#C8102E"}),s.jsx("rect",{x:"28",y:"21.25",width:"18",height:"42.5",fill:"#FFD700"}),s.jsx("rect",{x:"28",y:"63.75",width:"18",height:"21.25",fill:"#C8102E"})]}),s.jsxs("g",{transform:"translate(80, 15)",children:[s.jsx("path",{d:"M 0,0 L 3,5 L 6,3 L 9,5 L 12,0",fill:"#FFD700",stroke:"#C8102E",strokeWidth:"0.5"}),s.jsx("rect",{x:"-2",y:"5",width:"16",height:"20",rx:"2",fill:"#C8102E",stroke:"#FFD700",strokeWidth:"1"}),s.jsx("rect",{x:"2",y:"10",width:"3",height:"3",fill:"#FFD700"}),s.jsx("rect",{x:"9",y:"10",width:"3",height:"3",fill:"#FFD700"}),s.jsx("circle",{cx:"6",cy:"18",r:"2",fill:"#FFD700"}),s.jsx("rect",{x:"-4",y:"12",width:"2",height:"10",fill:"#C8102E"}),s.jsx("rect",{x:"14",y:"12",width:"2",height:"10",fill:"#C8102E"})]}),s.jsx("line",{x1:"268",y1:"10",x2:"268",y2:"75",stroke:"#8B7355",strokeWidth:"1.5"}),s.jsx("text",{x:"170",y:"32",fontFamily:"Arial, sans-serif",fontSize:"16",fontWeight:"bold",fill:"#000000",children:"GOBIERNO"}),s.jsx("text",{x:"170",y:"52",fontFamily:"Arial, sans-serif",fontSize:"16",fontWeight:"bold",fill:"#000000",children:"DE ESPAA"}),s.jsx("text",{x:"285",y:"24",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"MINISTERIO"}),s.jsx("text",{x:"285",y:"40",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"PARA LA TRANSICIN ECOLGICA"}),s.jsx("text",{x:"285",y:"56",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"Y EL RETO DEMOGRFICO"})]})}const dM=({children:e})=>{const[t,r]=p.useState(!1),n=fn(),a=Na(),{profile:i,signOut:o}=ev(),{selectedDam:l,clearSelection:c}=vi(),u=[{path:"/map",icon:Rp,label:"Seleccionar Presa"},{path:"/dashboard",icon:$p,label:"Ficha Principal",requiresDam:!0},{path:"/inventory",icon:Mo,label:"Inventario",section:"Mdulos",requiresDam:!0},{path:"/maintenance",icon:iv,label:"Mantenimiento",section:"Mdulos",requiresDam:!0},{path:"/technical-archive",icon:nv,label:"Archivo Tcnico",section:"Mdulos",requiresDam:!0},{path:"/auscultation",icon:Tt,label:"Auscultacin",section:"Mdulos",requiresDam:!0},{path:"/exploitation",icon:Ds,label:"Explotacin",section:"Mdulos",requiresDam:!0},{path:"/emergency",icon:av,label:"Gestin de Emergencias",section:"Mdulos",requiresDam:!0},{path:"/bim",icon:Ba,label:"BIM",section:"Mdulos",requiresDam:!0},{path:"/settings",icon:HS,label:"Configuracin"}],d=[{label:"CHG",url:"https://www.chguadalquivir.es/"},{label:"SAIH Guadalquivir",url:"https://www.chguadalquivir.es/saih/"},{label:"MITECO",url:"https://www.miteco.gob.es/es/"},{label:"IDE-CHG",url:"https://idechg.chguadalquivir.es/"}],f=async()=>{await o(),a("/login")},h=m=>({admin:"Administrador",technician:"Tcnico",operator:"Operador",consultation:"Consulta"})[m]||m;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white border-b-2 border-[#0066A1] shadow-sm",children:[s.jsxs("div",{className:"bg-white px-4 py-2 flex items-center justify-between border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"w-12 h-12 bg-[#0066A1] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CHG"})})}),s.jsx("div",{className:"h-10 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(GS,{size:40,showText:!1}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-[#0066A1]",children:"SIPRESAS"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sistema Integral de Presas y Seguridad"})]})]}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-10 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-2 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Presa Seleccionada"}),s.jsxs("p",{className:"text-sm font-semibold text-[#0066A1]",children:[l.code," - ",l.name]})]}),s.jsx("button",{onClick:()=>{c(),a("/map")},className:"ml-2 p-1 hover:bg-blue-100 rounded transition-colors",title:"Cambiar presa",children:s.jsx(Du,{size:16,className:"text-gray-600"})})]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(YS,{height:50})})]}),s.jsxs("div",{className:"bg-[#0066A1] px-4 py-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>r(!t),className:"flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/20 text-white rounded transition-colors text-sm",children:[s.jsx(rM,{size:18}),s.jsx("span",{children:"Men"})]}),s.jsx("div",{className:"flex items-center gap-1",children:d.slice(0,2).map((m,g)=>s.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-white hover:bg-white/10 rounded transition-colors text-sm flex items-center gap-1",children:[m.label,s.jsx(Mp,{size:12})]},g))})]}),i&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:i.full_name}),s.jsx("p",{className:"text-xs text-blue-100",children:h(i.role)})]}),s.jsx("button",{onClick:f,className:"p-2 hover:bg-white/10 text-white rounded transition-colors flex items-center gap-1 text-sm",title:"Cerrar sesin",children:s.jsx(eM,{size:16})})]})]}),s.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-1.5 flex items-center justify-center gap-2",children:[s.jsx(tf,{size:16,className:"text-yellow-700"}),s.jsxs("p",{className:"text-xs text-yellow-800 font-medium",children:["Los datos del portal web se obtienen mediante estaciones automticas y ",s.jsx("strong",{children:"NO estn contrastados"})]})]}),l&&s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto",children:[s.jsxs(Mr,{to:"/dashboard",className:`flex flex-col items-center justify-center gap-2 px-6 py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap min-w-[120px] shadow-sm border-2 ${n.pathname==="/dashboard"?"bg-[#0066A1] text-white border-[#0066A1] shadow-md transform scale-105":"bg-gradient-to-br from-blue-50 to-blue-100 text-[#0066A1] border-blue-300 hover:bg-blue-100 hover:shadow-md hover:border-[#0066A1]"}`,children:[s.jsx($p,{size:22,strokeWidth:2}),s.jsx("span",{className:"text-xs font-semibold",children:"Ficha Principal"})]}),s.jsx("div",{className:"h-16 w-px bg-gray-300 mx-2"}),u.filter(m=>m.requiresDam&&m.path!=="/dashboard").map(m=>{const g=m.icon,y=n.pathname===m.path;return s.jsxs(Mr,{to:m.path,className:`flex flex-col items-center justify-center gap-2 px-6 py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap min-w-[120px] shadow-sm ${y?"bg-[#0066A1] text-white shadow-md transform scale-105":"bg-blue-50 text-[#0066A1] hover:bg-blue-100 hover:shadow-md"}`,children:[s.jsx(g,{size:22,strokeWidth:2}),s.jsx("span",{className:"text-xs font-semibold",children:m.label})]},m.path)})]})})]}),s.jsxs("div",{className:"flex",children:[s.jsx("main",{className:"flex-1 p-6 min-h-screen",children:e}),s.jsx("aside",{className:`fixed left-0 top-0 bottom-0 bg-white border-r border-gray-200 shadow-lg transition-all duration-300 z-40 ${t?"w-72":"w-0"} overflow-hidden`,style:{top:l?"230px":"146px"},children:s.jsxs("div",{className:"h-full overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-[#0066A1] text-white px-4 py-3 flex items-center justify-between z-10",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Mdulos SIPRESAS"}),s.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-white/10 rounded transition-colors",children:s.jsx(Du,{size:18})})]}),s.jsxs("nav",{className:"p-3",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Principal"}),u.filter(m=>!m.section).slice(0,2).map(m=>{const g=m.icon,y=n.pathname===m.path;return m.requiresDam&&!l?s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label})]},m.path):s.jsxs(Mr,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${y?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label}),s.jsx(rs,{size:14,className:"ml-auto"})]},m.path)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Mdulos"}),u.filter(m=>m.section==="Mdulos").map(m=>{const g=m.icon,y=n.pathname===m.path;return m.requiresDam&&!l?s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label})]},m.path):s.jsxs(Mr,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${y?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label}),s.jsx(rs,{size:14,className:"ml-auto"})]},m.path)})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Otros"}),u.filter(m=>!m.section).slice(2).map(m=>{const g=m.icon,y=n.pathname===m.path;return m.requiresDam&&!l?s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label})]},m.path):s.jsxs(Mr,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${y?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[s.jsx(g,{size:16}),s.jsx("span",{children:m.label}),s.jsx(rs,{size:14,className:"ml-auto"})]},m.path)})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Enlaces Externos"}),d.map((m,g)=>s.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-700 hover:bg-blue-50 hover:text-[#0066A1] transition-all",children:[s.jsx(Mp,{size:16}),s.jsx("span",{children:m.label})]},g))]})]}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-4 text-center",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx("strong",{className:"text-[#0066A1]",children:"SIPRESAS v2.0"}),s.jsx("br",{}),"CHG - Confederacin Hidrogrfica del Guadalquivir",s.jsx("br",{})," 2026"]})})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/20 z-30",style:{top:l?"230px":"146px"},onClick:()=>r(!1)})]})]})};function fM(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,i]=p.useState(""),[o,l]=p.useState(!1),{signIn:c}=ev(),u=Na(),d=async f=>{f.preventDefault(),i(""),l(!0);try{const{error:h}=await c(e,r);h?i("Credenciales incorrectas. Por favor, intenta de nuevo."):u("/")}catch{i("Error al iniciar sesin. Por favor, intenta de nuevo.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex flex-col",children:[s.jsx("header",{className:"bg-white border-b-2 border-[#0066A1] shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-[#0066A1] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:"CHG"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-[#0066A1]",children:"Confederacin Hidrogrfica del Guadalquivir"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Sistema Automtico de Informacin Hidrolgica"})]})]}),s.jsx("div",{children:s.jsx(YS,{height:55})})]})}),s.jsx("main",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-5xl w-full grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(GS,{size:60,showText:!1}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-[#0066A1]",children:"SIPRESAS"}),s.jsx("p",{className:"text-lg text-gray-700",children:"Sistema Integral de Presas y Seguridad"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#0066A1] mb-3",children:"Mdulos del Sistema"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inventario y Gestin:"})," Control completo de presas y embalses"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Auscultacin:"})," Monitorizacin en tiempo real de sensores"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Emergencias:"})," Gestin de incidentes y planes de emergencia"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Explotacin:"})," Control de operaciones y gestin hdrica"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"BIM:"})," Modelos 3D y documentacin tcnica avanzada"]})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-xs text-blue-900",children:[s.jsx("strong",{children:"Nota:"})," Los datos del sistema se obtienen mediante estaciones automticas y deben ser contrastados antes de su uso oficial."]})})]}),s.jsxs("div",{className:"bg-white rounded-lg border-2 border-[#0066A1] shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-[#0066A1] px-6 py-4 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-white/10 rounded-full mb-2",children:s.jsx(Lp,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Inicio de Sesin"}),s.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Acceso al Sistema SIPRESAS"})]}),s.jsxs("div",{className:"p-6",children:[a&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-800",children:a})]}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario *"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0066A1] focus:border-transparent",placeholder:"usuario@ejemplo.es",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea *"}),s.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0066A1] focus:border-transparent",placeholder:"",required:!0})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-[#0066A1] hover:bg-[#004d7a] text-white font-medium py-3 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Accediendo...":"Iniciar Sesin"})]}),s.jsx("a",{href:"/setup-demo",className:"block w-full mt-4 text-center bg-blue-50 hover:bg-blue-100 text-[#0066A1] font-medium py-2 px-4 rounded-md border border-blue-200 transition-colors text-sm",children:"Configurar Usuarios de Demostracin"}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Credenciales de Demostracin:"}),s.jsxs("div",{className:"space-y-1.5 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium w-20",children:"Admin:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"admin@sipresas.es"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium w-20",children:"Tcnico:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"tecnico@sipresas.es"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium w-20",children:"Operador:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"operador@sipresas.es"})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-gray-300 mt-2",children:[s.jsx("span",{className:"font-medium w-20",children:"Contrasea:"}),s.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"demo123"})]})]})]})]})]})]})}),s.jsx("footer",{className:"bg-white border-t border-gray-200 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{children:" 2026 CHG - Confederacin Hidrogrfica del Guadalquivir"}),s.jsx("p",{className:"text-[10px] mt-0.5",children:"SIPRESAS v2.0 - Sistema Integral de Presas y Seguridad"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{children:"Ministerio para la Transicin Ecolgica"}),s.jsx("p",{className:"text-[10px] mt-0.5",children:"y el Reto Demogrfico"})]})]})})]})}function V({children:e,className:t="",onClick:r}){const n=r?"cursor-pointer hover:shadow-md transition-all":"";return s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${n} ${t}`,onClick:r,children:e})}function Kb({children:e,className:t=""}){return s.jsx("div",{className:`px-6 py-4 border-b border-gray-200 bg-sipresas-lightest/30 ${t}`,children:e})}function Vb({children:e,className:t=""}){return s.jsx("div",{className:`px-6 py-4 ${t}`,children:e})}function Gb({children:e,className:t=""}){return s.jsx("h3",{className:`text-lg font-semibold text-sipresas-dark ${t}`,children:e})}const hM={critical:{label:"Crtica",className:"bg-red-100 text-red-800 border-red-300"},high:{label:"Alta",className:"bg-orange-100 text-orange-800 border-orange-300"},medium:{label:"Media",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},low:{label:"Baja",className:"bg-green-100 text-green-800 border-green-300"}},mM={detection:{label:"Deteccin",className:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter"},evaluation:{label:"Evaluacin",className:"bg-cyan-100 text-cyan-800 border-cyan-300"},activation:{label:"Activacin",className:"bg-orange-100 text-orange-800 border-orange-300"},management:{label:"Gestin",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},resolution:{label:"Resolucin",className:"bg-lime-100 text-lime-800 border-lime-300"},closed:{label:"Cerrada",className:"bg-gray-100 text-gray-800 border-gray-300"}},pM={operational:{label:"Operativa",className:"bg-green-100 text-green-800 border-green-300"},maintenance:{label:"Mantenimiento",className:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter"},alert:{label:"Alerta",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},emergency:{label:"Emergencia",className:"bg-red-100 text-red-800 border-red-300"},warning:{label:"Advertencia",className:"bg-yellow-100 text-yellow-800 border-yellow-300"}},gM={normal:{label:"Normal",className:"bg-green-100 text-green-800 border-green-300"},caution:{label:"Precaucin",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},alert:{label:"Alerta",className:"bg-orange-100 text-orange-800 border-orange-300"},critical:{label:"Crtico",className:"bg-red-100 text-red-800 border-red-300"}},vM={active:{label:"Activo",className:"bg-green-100 text-green-800 border-green-300"},inactive:{label:"Inactivo",className:"bg-slate-100 text-slate-800 border-slate-300"},maintenance:{label:"Mantenimiento",className:"bg-blue-100 text-blue-800 border-blue-300"},fault:{label:"Fallo",className:"bg-red-100 text-red-800 border-red-300"}};function xo({status:e,type:t}){let r,n,a;switch(t){case"severity":r=hM[e];break;case"emergency":r=mM[e];break;case"operational":r=pM[e];break;case"alert":r=gM[e];break;case"sensor":r=vM[e];break}return n=(r==null?void 0:r.label)||e,a=(r==null?void 0:r.className)||"bg-slate-100 text-slate-800 border-slate-300",s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a}`,children:n})}async function sv(){const{data:e,error:t}=await U.from("dams").select("*").order("name");if(t)throw t;return e||[]}async function yM(e){const{data:t,error:r}=await U.from("dams").select("*").eq("id",e).maybeSingle();if(r)throw r;return t}async function xM(){const{data:e,error:t}=await U.from("emergencies").select(`
      *,
      dam:dams(*),
      responsible:user_profiles(*)
    `).not("status","eq","closed").order("detected_at",{ascending:!1});if(t)throw t;return e||[]}async function bM(e){const{data:t,error:r}=await U.from("emergencies").select(`
      *,
      dam:dams(*),
      responsible:user_profiles(*)
    `).eq("dam_id",e).order("detected_at",{ascending:!1});if(r)throw r;return t||[]}async function wM(){const{data:e,error:t}=await U.from("sensor_readings").select(`
      *,
      sensor:sensors(
        *,
        dam:dams(*)
      )
    `).in("alert_level",["alert","critical"]).order("timestamp",{ascending:!1}).limit(20);if(t)throw t;return e||[]}async function jM(){const[e,t,r,n]=await Promise.all([U.from("dams").select("operational_status, current_level"),U.from("emergencies").select("severity, status"),U.from("sensors").select("status"),U.from("sensor_readings").select("alert_level").in("alert_level",["alert","critical"]).gte("timestamp",new Date(Date.now()-864e5).toISOString())]),a=e.data||[],i=t.data||[],o=r.data||[],l=n.data||[],c=a.filter(g=>g.operational_status==="operational").length,u=a.filter(g=>g.operational_status==="alert").length,d=a.filter(g=>g.operational_status==="emergency").length,f=i.filter(g=>g.status!=="closed").length,h=i.filter(g=>g.severity==="critical"&&g.status!=="closed").length,m=a.length>0?a.reduce((g,y)=>g+y.current_level,0)/a.length:0;return{totalDams:a.length,operationalDams:c,damsInAlert:u,damsInEmergency:d,activeEmergencies:f,criticalEmergencies:h,totalSensors:o.length,sensorsInAlert:l.length,avgReservoirLevel:Math.round(m*10)/10}}async function _M(e,t){let r=U.from("maintenance_work_orders").select(`
      *,
      dam:dams(*),
      activity:maintenance_activities(*),
      assigned_user:user_profiles!maintenance_work_orders_assigned_to_fkey(*)
    `).eq("dam_id",e);t&&(r=r.eq("scheduled_year",t));const{data:n,error:a}=await r.order("scheduled_date",{ascending:!0});if(a)throw a;return n||[]}async function NM(e){const{data:t,error:r}=await U.from("document_folders").select("*").eq("dam_id",e).order("path");if(r)throw r;return t||[]}async function SM(e,t){let r=U.from("technical_documents").select(`
      *,
      dam:dams(*),
      folder:document_folders(*),
      uploader:user_profiles!technical_documents_uploaded_by_fkey(*)
    `).eq("dam_id",e);t&&(r=r.eq("folder_id",t));const{data:n,error:a}=await r.order("created_at",{ascending:!1});if(a)throw a;return n||[]}async function kM(){const{data:e,error:t}=await U.from("exploitation_systems").select(`
      *,
      director:user_profiles(*)
    `).order("name");if(t)throw t;return e||[]}async function EM(e){let t=U.from("exploitation_zones").select(`
      *,
      system:exploitation_systems(*)
    `).order("name");const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function PM(e,t,r){let n=U.from("exploitation_daily_data").select(`
      *,
      dam:dams(*),
      registrar:user_profiles!exploitation_daily_data_registered_by_fkey(*),
      verifier:user_profiles!exploitation_daily_data_verified_by_fkey(*)
    `).order("date",{ascending:!1});e&&(n=n.eq("dam_id",e));const{data:a,error:i}=await n;if(i)throw i;return a||[]}async function OM(e){const{data:t,error:r}=await U.from("exploitation_daily_data").insert(e).select().single();if(r)throw r;return t}function AM(){const{selectedDam:e}=vi(),t=Na(),[r,n]=p.useState(new Date),[a,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0);p.useEffect(()=>{e||t("/map")},[e,t]),p.useEffect(()=>{const y=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(y)},[]),p.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const[y,x,v]=await Promise.all([jM(),xM(),wM()]);i(y),l(x.slice(0,3)),u(v.slice(0,5))}catch(y){console.error("Error loading dashboard:",y)}finally{f(!1)}},m=y=>{const x=Math.floor((Date.now()-new Date(y).getTime())/6e4);if(x<60)return`Hace ${x} min`;const v=Math.floor(x/60);return v<24?`Hace ${v} h`:`Hace ${Math.floor(v/24)} d`},g=[{path:"/inventory",icon:Mo,label:"Inventario",description:"Gestin de activos y elementos",color:"from-blue-500 to-blue-600",bgLight:"bg-blue-50",textColor:"text-blue-700"},{path:"/maintenance",icon:iv,label:"Mantenimiento",description:"Planes y rdenes de trabajo",color:"from-orange-500 to-orange-600",bgLight:"bg-orange-50",textColor:"text-orange-700"},{path:"/technical-archive",icon:nv,label:"Archivo Tcnico",description:"Documentacin y planos",color:"from-purple-500 to-purple-600",bgLight:"bg-purple-50",textColor:"text-purple-700"},{path:"/auscultation",icon:Tt,label:"Auscultacin",description:"Monitorizacin de sensores",color:"from-green-500 to-green-600",bgLight:"bg-green-50",textColor:"text-green-700"},{path:"/exploitation",icon:Ds,label:"Explotacin",description:"Datos hidrulicos y operacin",color:"from-cyan-500 to-cyan-600",bgLight:"bg-cyan-50",textColor:"text-cyan-700"},{path:"/incidents",icon:qe,label:"Emergencias",description:"Gestin de incidencias",color:"from-red-500 to-red-600",bgLight:"bg-red-50",textColor:"text-red-700"},{path:"/bim",icon:Ba,label:"BIM",description:"Modelos 3D y visualizacin",color:"from-indigo-500 to-indigo-600",bgLight:"bg-indigo-50",textColor:"text-indigo-700"}];return e?d||!a?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Cargando dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#0066A1] to-[#004d7a] rounded-lg shadow-lg p-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Dp,{size:32}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold",children:[e.code," - ",e.name]}),s.jsxs("p",{className:"text-blue-100 mt-1",children:[e.province," - ",e.river]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Nivel Actual"}),s.jsxs("p",{className:"text-2xl font-bold",children:[e.current_level,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Estado Operacional"}),s.jsx("div",{className:"mt-1",children:s.jsx(xo,{status:e.operational_status})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-200 text-sm",children:"Capacidad"}),s.jsxs("p",{className:"text-2xl font-bold",children:[e.capacity_hm3," hm"]})]})]})]}),s.jsxs("div",{className:"text-right bg-white/10 px-6 py-4 rounded-lg backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[s.jsx(Cl,{size:20}),s.jsx("span",{className:"text-2xl font-bold",children:r.toLocaleTimeString("es-ES")})]}),s.jsx("p",{className:"text-xs text-blue-100",children:r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"w-1 h-6 bg-[#0066A1] rounded"}),"Mdulos de Gestin"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(y=>{const x=y.icon;return s.jsxs(Mr,{to:y.path,className:"group relative overflow-hidden bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-[#0066A1] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${y.bgLight} rounded-full -mr-16 -mt-16 opacity-50 group-hover:opacity-100 transition-opacity`}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`inline-flex p-3 rounded-lg bg-gradient-to-br ${y.color} text-white mb-4 shadow-lg`,children:s.jsx(x,{size:28})}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-[#0066A1] transition-colors",children:y.label}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.description}),s.jsxs("div",{className:"flex items-center text-[#0066A1] font-semibold text-sm group-hover:gap-2 transition-all",children:[s.jsx("span",{children:"Acceder"}),s.jsx(Y6,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]})]},y.path)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-[#0066A1] p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Dp,{className:"w-8 h-8 text-[#0066A1]"}),s.jsx("span",{className:"text-3xl font-bold text-[#0066A1]",children:a.totalDams})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Presas Totales"}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[a.operationalDams," operativas"]})]}),s.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.criticalEmergencies>0?"border-red-500":"border-green-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(qe,{className:`w-8 h-8 ${a.criticalEmergencies>0?"text-red-600":"text-green-600"}`}),s.jsx("span",{className:`text-3xl font-bold ${a.criticalEmergencies>0?"text-red-600":"text-green-600"}`,children:a.activeEmergencies})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Emergencias Activas"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.criticalEmergencies>0?`${a.criticalEmergencies} crticas`:"Sin emergencias crticas"})]}),s.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.avgReservoirLevel>80?"border-green-500":a.avgReservoirLevel>50?"border-yellow-500":"border-red-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(US,{className:`w-8 h-8 ${a.avgReservoirLevel>80?"text-green-600":a.avgReservoirLevel>50?"text-yellow-600":"text-red-600"}`}),s.jsxs("span",{className:`text-3xl font-bold ${a.avgReservoirLevel>80?"text-green-600":a.avgReservoirLevel>50?"text-yellow-600":"text-red-600"}`,children:[a.avgReservoirLevel,"%"]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Nivel Medio Embalses"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Capacidad promedio"})]}),s.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.sensorsInAlert>0?"border-yellow-500":"border-green-500"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Tt,{className:`w-8 h-8 ${a.sensorsInAlert>0?"text-yellow-600":"text-green-600"}`}),s.jsx("span",{className:`text-3xl font-bold ${a.sensorsInAlert>0?"text-yellow-600":"text-green-600"}`,children:a.totalSensors})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Sensores Activos"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.sensorsInAlert>0?`${a.sensorsInAlert} en alerta`:"Todos operativos"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(V,{children:[s.jsx(Kb,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Gb,{children:"Emergencias Recientes"}),o.length>0&&s.jsx(Mr,{to:"/incidents",className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"Ver todas "})]})}),s.jsx(Vb,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-slate-200",children:o.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Re,{className:"mx-auto text-green-500 mb-3",size:48}),s.jsx("p",{className:"text-slate-600 font-medium",children:"No hay emergencias activas"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Todos los sistemas operan normalmente"})]}):o.map(y=>{var x,v;return s.jsxs(Mr,{to:`/incidents?id=${y.id}`,className:"block p-4 hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:y.title}),s.jsx("span",{className:"text-xs text-slate-500",children:y.code})]}),s.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[(x=y.dam)==null?void 0:x.name," - ",(v=y.dam)==null?void 0:v.province]})]}),s.jsx("span",{className:"text-xs text-slate-500",children:m(y.detected_at)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{status:y.severity,type:"severity"}),s.jsx(xo,{status:y.status,type:"emergency"})]})]},y.id)})})})]}),s.jsxs(V,{children:[s.jsx(Kb,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Gb,{children:"Alertas de Sensores"}),c.length>0&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 text-orange-700 rounded-md border border-orange-200",children:[s.jsx(tv,{size:14}),s.jsx("span",{className:"text-xs font-medium",children:c.length})]})]})}),s.jsx(Vb,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-slate-200 max-h-80 overflow-y-auto",children:c.length===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(Re,{className:"mx-auto text-green-500 mb-2",size:36}),s.jsx("p",{className:"text-sm text-slate-600",children:"Sin alertas activas"})]}):c.map(y=>{var x,v,w,b;return s.jsxs(Mr,{to:`/auscultation?sensor=${y.sensor_id}`,className:"block p-3 hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900",children:(x=y.sensor)==null?void 0:x.name}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:(w=(v=y.sensor)==null?void 0:v.dam)==null?void 0:w.name})]}),s.jsx(xo,{status:y.alert_level,type:"alert"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-slate-500",children:["Valor: ",y.value.toFixed(2)," ",(b=y.sensor)==null?void 0:b.unit]}),s.jsx("span",{className:"text-slate-500",children:m(y.timestamp)})]})]},y.id)})})})]})]})]}):null}const Yb=[],CM=[],tm={totalOrders:0,completed:0,inProgress:0,pending:0,preventivo:{pendientes:0,completadas:0,canceladas:0},correctivo:{pendientes:0,completadas:0,canceladas:0}},Xb=[];function XS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=XS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=XS(e))&&(n&&(n+=" "),n+=t);return n}var TM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ov(e){if(typeof e!="string")return!1;var t=TM;return t.includes(e)}var IM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DM=new Set(IM);function QS(e){return typeof e!="string"?!1:DM.has(e)}function ZS(e){return typeof e=="string"&&e.startsWith("data-")}function Wr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(QS(r)||ZS(r))&&(t[r]=e[r]);return t}function sl(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Wr(t)}return typeof e=="object"&&!Array.isArray(e)?Wr(e):null}function jr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(QS(r)||ZS(r)||ov(r))&&(t[r]=e[r]);return t}var MM=["children","width","height","viewBox","className","style","title","desc"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(null,arguments)}function $M(e,t){if(e==null)return{};var r,n,a=LM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lv=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=$M(e,MM),f=i||{width:n,height:a,x:0,y:0},h=fe("recharts-surface",o);return p.createElement("svg",Up({},jr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),RM=["children","className"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(null,arguments)}function zM(e,t){if(e==null)return{};var r,n,a=FM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mt=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=zM(e,RM),i=fe("recharts-layer",n);return p.createElement("g",Wp({className:i},jr(a),{ref:t}),r)}),JS=p.createContext(null),BM=()=>p.useContext(JS);function ye(e){return function(){return e}}const ek=Math.cos,Mu=Math.sin,Kr=Math.sqrt,$u=Math.PI,rf=2*$u,qp=Math.PI,Hp=2*qp,La=1e-6,UM=Hp-La;function tk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tk;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tk:WM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>La)if(!(Math.abs(f*c-u*d)>La)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,y=c*c+u*u,x=m*m+g*g,v=Math.sqrt(y),w=Math.sqrt(h),b=i*Math.tan((qp-Math.acos((y+h-x)/(2*v*w)))/2),j=b/w,N=b/v;Math.abs(j-1)>La&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>La||Math.abs(this._y1-d)>La)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Hp+Hp),h>UM?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>La&&this._append`A${n},${n},0,${+(h>=qp)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function cv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qM(t)}function uv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rk(e){this._context=e}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nf(e){return new rk(e)}function nk(e){return e[0]}function ak(e){return e[1]}function ik(e,t){var r=ye(!0),n=null,a=nf,i=null,o=cv(l);e=typeof e=="function"?e:e===void 0?nk:ye(e),t=typeof t=="function"?t:t===void 0?ak:ye(t);function l(c){var u,d=(c=uv(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ye(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ye(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ye(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function jc(e,t,r){var n=null,a=ye(!0),i=null,o=nf,l=null,c=cv(u);e=typeof e=="function"?e:e===void 0?nk:ye(+e),t=typeof t=="function"?t:ye(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ak:ye(+r);function u(f){var h,m,g,y=(f=uv(f)).length,x,v=!1,w,b=new Array(y),j=new Array(y);for(i==null&&(l=o(w=c())),h=0;h<=y;++h){if(!(h<y&&a(x=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):j[h]))}if(w)return l=null,w+""||null}function d(){return ik().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ye(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ye(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ye(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ye(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ye(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ye(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ye(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class sk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HM(e){return new sk(e,!0)}function KM(e){return new sk(e,!1)}const dv={draw(e,t){const r=Kr(t/$u);e.moveTo(r,0),e.arc(0,0,r,0,rf)}},VM={draw(e,t){const r=Kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ok=Kr(1/3),GM=ok*2,YM={draw(e,t){const r=Kr(t/GM),n=r*ok;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},XM={draw(e,t){const r=Kr(t),n=-r/2;e.rect(n,n,r,r)}},QM=.8908130915292852,lk=Mu($u/10)/Mu(7*$u/10),ZM=Mu(rf/10)*lk,JM=-ek(rf/10)*lk,e5={draw(e,t){const r=Kr(t*QM),n=ZM*r,a=JM*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=rf*i/5,l=ek(o),c=Mu(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},rm=Kr(3),t5={draw(e,t){const r=-Kr(t/(rm*3));e.moveTo(0,r*2),e.lineTo(-rm*r,-r),e.lineTo(rm*r,-r),e.closePath()}},lr=-.5,cr=Kr(3)/2,Kp=1/Kr(12),r5=(Kp/2+1)*3,n5={draw(e,t){const r=Kr(t/r5),n=r/2,a=r*Kp,i=n,o=r*Kp+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(lr*n-cr*a,cr*n+lr*a),e.lineTo(lr*i-cr*o,cr*i+lr*o),e.lineTo(lr*l-cr*c,cr*l+lr*c),e.lineTo(lr*n+cr*a,lr*a-cr*n),e.lineTo(lr*i+cr*o,lr*o-cr*i),e.lineTo(lr*l+cr*c,lr*c-cr*l),e.closePath()}};function a5(e,t){let r=null,n=cv(a);e=typeof e=="function"?e:ye(e||dv),t=typeof t=="function"?t:ye(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ye(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ye(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Lu(){}function Ru(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ck(e){this._context=e}ck.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ru(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i5(e){return new ck(e)}function uk(e){this._context=e}uk.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s5(e){return new uk(e)}function dk(e){this._context=e}dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ru(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o5(e){return new dk(e)}function fk(e){this._context=e}fk.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l5(e){return new fk(e)}function Qb(e){return e<0?-1:1}function Zb(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Qb(i)+Qb(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Jb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function zu(e){this._context=e}zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nm(this,this._t0,Jb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nm(this,Jb(this,r=Zb(this,e,t)),r);break;default:nm(this,this._t0,r=Zb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hk(e){this._context=new mk(e)}(hk.prototype=Object.create(zu.prototype)).point=function(e,t){zu.prototype.point.call(this,t,e)};function mk(e){this._context=e}mk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function c5(e){return new zu(e)}function u5(e){return new hk(e)}function pk(e){this._context=e}pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ew(e),a=ew(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ew(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function d5(e){return new pk(e)}function af(e,t){this._context=e,this._t=t}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function f5(e){return new af(e,.5)}function h5(e){return new af(e,0)}function m5(e){return new af(e,1)}function ii(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Vp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function p5(e,t){return e[t]}function g5(e){const t=[];return t.key=e,t}function v5(){var e=ye([]),t=Vp,r=ii,n=p5;function a(i){var o=Array.from(e.apply(this,arguments),g5),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=uv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ye(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ye(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Vp:typeof i=="function"?i:ye(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ii,a):r},a}function y5(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ii(e,t)}}function x5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ii(e,t)}}function b5(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var y=e[t[g]],x=y[n][1]||0,v=y[n-1][1]||0;m+=x-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,ii(e,t)}}var sf={},gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(gk);var fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(fv);var of={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(of);var lf={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk,r=of;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(lf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk,r=fv,n=of,a=lf;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(sf);var w5=sf.get;const si=zn(w5);var j5=4;function oa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j5,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Me(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+oa(l)+i:a+i},"")}var ct=e=>e===0?0:e>0?1:-1,ln=e=>typeof e=="number"&&e!=+e,oi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,X=e=>(typeof e=="number"||e instanceof Number)&&!ln(e),cn=e=>X(e)||typeof e=="string",_5=0,ol=e=>{var t=++_5;return"".concat(e||"").concat(t)},Et=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(t)&&typeof t!="string")return n;var i;if(oi(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ln(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},yk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Qe(e,t,r){return X(e)&&X(t)?oa(e+r*(t-e)):t}function N5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):si(n,t))===r)}var dt=e=>e===null||typeof e>"u",Tl=e=>dt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wt(e){return e!=null}function Ms(){}var S5=["type","size","sizeType"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(null,arguments)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){k5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5(e,t,r){return(t=E5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5(e){var t=P5(e,"string");return typeof t=="symbol"?t:t+""}function P5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5(e,t){if(e==null)return{};var r,n,a=A5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function A5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xk={symbolCircle:dv,symbolCross:VM,symbolDiamond:YM,symbolSquare:XM,symbolStar:e5,symbolTriangle:t5,symbolWye:n5},C5=Math.PI/180,T5=e=>{var t="symbol".concat(Tl(e));return xk[t]||dv},I5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*C5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D5=(e,t)=>{xk["symbol".concat(Tl(e))]=t},hv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=O5(e,S5),i=rw(rw({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=T5(o),m=a5().type(h).size(I5(r,n,o)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=i,f=jr(i);return X(u)&&X(d)&&X(r)?p.createElement("path",Gp({},f,{className:fe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};hv.registerSymbol=D5;var bk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,M5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ov(a)&&(n[a]=i=>r[a](r,i))}),n},$5=(e,t,r)=>n=>(e(t,r,n),null),Il=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];ov(a)&&typeof i=="function"&&(n||(n={}),n[a]=$5(i,t,r))}),n};function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){R5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R5(e,t,r){return(t=z5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=F5(e,"string");return typeof t=="symbol"?t:t+""}function F5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ft(e,t){var r=L5({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fu.apply(null,arguments)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){U5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U5(e,t,r){return(t=W5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5(e){var t=q5(e,"string");return typeof t=="symbol"?t:t+""}function q5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=32,H5={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function K5(e){var{data:t,iconType:r,inactiveColor:n}=e,a=dr/2,i=dr/6,o=dr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:dr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(dr,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=B5({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(hv,{fill:l,cx:a,cy:a,size:dr,sizeType:"diameter",type:c})}function V5(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:dr,height:dr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=fe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,y=h?h(d.value,d,f):d.value;return p.createElement("li",Fu({className:m,style:c,key:"legend-item-".concat(f)},Il(e,d,f)),p.createElement(lv,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(y," legend icon")},p.createElement(K5,{data:d,iconType:o,inactiveColor:i})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var G5=e=>{var t=ft(e,H5),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:i},p.createElement(V5,Fu({},t,{payload:r})))},wk={},jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(jk);var _k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(_k);var mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mv);var Nk={},cf={},Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cf);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cf,r=kk;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Nk);var Ek={},Pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(Pk);var Ok={},pv={},Ak={},gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(gv);var vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(vv);var yv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(yv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv,r=vv,n=yv;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(g,y,x,v,w,b){const j=h(g,y,x,v,w,b);return j!==void 0?!!j:i(g,y,m,b)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<g.length;y++){const x=g[y];if(!r.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!h(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of f.entries()){const x=d.get(g);if(h(x,y,g,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<f.length;y++){const x=f[y];let v=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const b=d[w];let j=!1;if(h(b,x,y,d,f,m)&&(j=!0),j){g.add(w),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(Ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ak;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(pv);var Ck={},xv={},Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Tk);var uf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(uf);var bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",C="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=y,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(bv);var Ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,r=uf,n=bv,a=vv,i=Ik;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const y=g==null?void 0:g(d,f,h,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,h,m,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[v,w]of d)x.set(v,l(w,v,h,m,g));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const v of d)x.add(l(v,void 0,h,m,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let v=0;v<d.length;v++)x[v]=l(d[v],v,h,m,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,h,m,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,h,m,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,m,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,h,m,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,h,m,g),x}return d}function c(d,f,h=d,m,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const v=y[x],w=Object.getOwnPropertyDescriptor(d,v);(w==null||w.writable)&&(d[v]=l(f[v],v,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(xv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv,r=Ck;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Ok);var Dk={},Mk={},$k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xv,r=uf,n=bv;function a(i,o){return t.cloneDeepWith(i,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})($k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$k;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Mk);var Lk={},wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(wv);var Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fv,r=wv,n=Rk,a=lf;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(Lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv,r=of,n=Mk,a=sf,i=Lk;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(Dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mv,r=Pk,n=Ok,a=Dk;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,r=_k,n=mv,a=Nk,i=Ek;function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(wk);var Y5=wk.uniqBy;const iw=zn(Y5);function zk(e,t,r){return t===!0?iw(e,r):typeof t=="function"?iw(e,t):e}var Fk={exports:{}},Bk={},Uk={exports:{}},Wk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=p;function X5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q5=typeof Object.is=="function"?Object.is:X5,Z5=gs.useState,J5=gs.useEffect,e$=gs.useLayoutEffect,t$=gs.useDebugValue;function r$(e,t){var r=t(),n=Z5({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return e$(function(){a.value=r,a.getSnapshot=t,am(a)&&i({inst:a})},[e,r,t]),J5(function(){return am(a)&&i({inst:a}),e(function(){am(a)&&i({inst:a})})},[e]),t$(r),r}function am(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Q5(e,r)}catch{return!0}}function n$(e,t){return t()}var a$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n$:r$;Wk.useSyncExternalStore=gs.useSyncExternalStore!==void 0?gs.useSyncExternalStore:a$;Uk.exports=Wk;var i$=Uk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=p,s$=i$;function o$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l$=typeof Object.is=="function"?Object.is:o$,c$=s$.useSyncExternalStore,u$=df.useRef,d$=df.useEffect,f$=df.useMemo,h$=df.useDebugValue;Bk.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=u$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=f$(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,l$(d,m))return g;var y=n(m);return a!==void 0&&a(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=c$(e,i[0],i[1]);return d$(function(){o.hasValue=!0,o.value=l},[l]),h$(l),l};Fk.exports=Bk;var m$=Fk.exports,jv=p.createContext(null),p$=e=>e,be=()=>{var e=p.useContext(jv);return e?e.store.dispatch:p$},tu=()=>{},g$=()=>tu,v$=(e,t)=>e===t;function Q(e){var t=p.useContext(jv),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:tu,[t,e]);return m$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g$,t?t.store.getState:tu,t?t.store.getState:tu,r,v$)}function y$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function x$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function b$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var sw=e=>Array.isArray(e)?e:[e];function w$(e){const t=Array.isArray(e[0])?e[0]:e;return b$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var _$=class{constructor(e){this.value=e}deref(){return this.value}},N$=typeof WeakRef<"u"?WeakRef:_$,S$=0,ow=1;function _c(){return{s:S$,v:void 0,o:null,p:null}}function qk(e,t={}){let r=_c();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(g);x===void 0?(l=_c(),y.set(g,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(g);x===void 0?(l=_c(),y.set(g,l)):l=x}}const u=l;let d;if(l.s===ow)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new N$(d):d}return u.s=ow,u.v=d,d}return o.clearCache=()=>{r=_c(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function k$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),y$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=qk,argsMemoizeOptions:g=[],devModeChecks:y={}}=d,x=sw(h),v=sw(g),w=w$(a),b=f(function(){return i++,u.apply(null,arguments)},...x),j=m(function(){o++;const _=j$(w,arguments);return l=b.apply(null,_),l},...v);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=k$(qk),E$=Object.assign((e,t=T)=>{x$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>E$}),Hk={},Kk={},Vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(Vk);var Gk={},_v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(_v);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_v,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,r=Gk,n=lf;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let y=m;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const x=t.compareValues(m.criteria[y],g.criteria[y],l[y]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(Kk);var Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(Yk);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,r=cf,n=gv,a=yv;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=i})(Nv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,r=Yk,n=Nv;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(Hk);var P$=Hk.sortBy;const ff=zn(P$);var Xk=e=>e.legend.settings,O$=e=>e.legend.size,A$=e=>e.legend.payload,C$=T([A$,Xk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ff(n,r):n});function T$(){return Q(C$)}var Nc=1;function Qk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Nc||Math.abs(o.left-t.left)>Nc||Math.abs(o.top-t.top)>Nc||Math.abs(o.width-t.width)>Nc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I$=typeof Symbol=="function"&&Symbol.observable||"@@observable",lw=I$,im=()=>Math.random().toString(36).substring(7).split("").join("."),D$={INIT:`@@redux/INIT${im()}`,REPLACE:`@@redux/REPLACE${im()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${im()}`},Bu=D$;function Sv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Zk(e,t,r){if(typeof e!="function")throw new Error(gt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gt(1));return r(Zk)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,v)=>{o.set(v,x)}))}function d(){if(c)throw new Error(gt(3));return a}function f(x){if(typeof x!="function")throw new Error(gt(4));if(c)throw new Error(gt(5));let v=!0;u();const w=l++;return o.set(w,x),function(){if(v){if(c)throw new Error(gt(6));v=!1,u(),o.delete(w),i=null}}}function h(x){if(!Sv(x))throw new Error(gt(7));if(typeof x.type>"u")throw new Error(gt(8));if(typeof x.type!="string")throw new Error(gt(17));if(c)throw new Error(gt(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=o).forEach(w=>{w()}),x}function m(x){if(typeof x!="function")throw new Error(gt(10));n=x,h({type:Bu.REPLACE})}function g(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(gt(11));function w(){const j=v;j.next&&j.next(d())}return w(),{unsubscribe:x(w)}},[lw](){return this}}}return h({type:Bu.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[lw]:g}}function M$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bu.INIT})>"u")throw new Error(gt(12));if(typeof r(void 0,{type:Bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gt(13))})}function Jk(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{M$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(gt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Uu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function $$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(gt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Uu(...l)(a.dispatch),{...a,dispatch:i}}}function eE(e){return Sv(e)&&"type"in e&&typeof e.type=="string"}var tE=Symbol.for("immer-nothing"),cw=Symbol.for("immer-draftable"),$t=Symbol.for("immer-state");function $r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jt=Object,vs=Jt.getPrototypeOf,Wu="constructor",hf="prototype",Yp="configurable",qu="enumerable",ru="writable",ll="value",Tn=e=>!!e&&!!e[$t];function qr(e){var t;return e?rE(e)||pf(e)||!!e[cw]||!!((t=e[Wu])!=null&&t[cw])||gf(e)||vf(e):!1}var L$=Jt[hf][Wu].toString(),uw=new WeakMap;function rE(e){if(!e||!kv(e))return!1;const t=vs(e);if(t===null||t===Jt[hf])return!0;const r=Jt.hasOwnProperty.call(t,Wu)&&t[Wu];if(r===Object)return!0;if(!Mi(r))return!1;let n=uw.get(r);return n===void 0&&(n=Function.toString.call(r),uw.set(r,n)),n===L$}function mf(e,t,r=!0){Dl(e)===0?(r?Reflect.ownKeys(e):Jt.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Dl(e){const t=e[$t];return t?t.type_:pf(e)?1:gf(e)?2:vf(e)?3:0}var dw=(e,t,r=Dl(e))=>r===2?e.has(t):Jt[hf].hasOwnProperty.call(e,t),Xp=(e,t,r=Dl(e))=>r===2?e.get(t):e[t],Hu=(e,t,r,n=Dl(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function R$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pf=Array.isArray,gf=e=>e instanceof Map,vf=e=>e instanceof Set,kv=e=>typeof e=="object",Mi=e=>typeof e=="function",sm=e=>typeof e=="boolean";function z$(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var vn=e=>e.copy_||e.base_,Ev=e=>e.modified_?e.copy_:e.base_;function Qp(e,t){if(gf(e))return new Map(e);if(vf(e))return new Set(e);if(pf(e))return Array[hf].slice.call(e);const r=rE(e);if(t===!0||t==="class_only"&&!r){const n=Jt.getOwnPropertyDescriptors(e);delete n[$t];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[ru]===!1&&(l[ru]=!0,l[Yp]=!0),(l.get||l.set)&&(n[o]={[Yp]:!0,[ru]:!0,[qu]:l[qu],[ll]:e[o]})}return Jt.create(vs(e),n)}else{const n=vs(e);if(n!==null&&r)return{...e};const a=Jt.create(n);return Jt.assign(a,e)}}function Pv(e,t=!1){return yf(e)||Tn(e)||!qr(e)||(Dl(e)>1&&Jt.defineProperties(e,{set:Sc,add:Sc,clear:Sc,delete:Sc}),Jt.freeze(e),t&&mf(e,(r,n)=>{Pv(n,!0)},!1)),e}function F$(){$r(2)}var Sc={[ll]:F$};function yf(e){return e===null||!kv(e)?!0:Jt.isFrozen(e)}var Ku="MapSet",Zp="Patches",fw="ArrayMethods",nE={};function li(e){const t=nE[e];return t||$r(0,e),t}var hw=e=>!!nE[e],cl,aE=()=>cl,B$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hw(Ku)?li(Ku):void 0,arrayMethodsPlugin_:hw(fw)?li(fw):void 0});function mw(e,t){t&&(e.patchPlugin_=li(Zp),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jp(e){e0(e),e.drafts_.forEach(U$),e.drafts_=null}function e0(e){e===cl&&(cl=e.parent_)}var pw=e=>cl=B$(cl,e);function U$(e){const t=e[$t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[$t].modified_&&(Jp(t),$r(4)),qr(e)&&(e=vw(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[$t].base_,e,t)}else e=vw(t,r);return W$(t,e,!0),Jp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tE?e:void 0}function vw(e,t){if(yf(t))return t;const r=t[$t];if(!r)return Vu(t,e.handledSet_,e);if(!xf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);oE(r,e)}return r.copy_}function W$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pv(t,r)}function iE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var xf=(e,t)=>e.scope_===t,q$=[];function sE(e,t,r,n){const a=vn(e),i=e.type_;if(n!==void 0&&Xp(a,n,i)===t){Hu(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;mf(a,(c,u)=>{if(Tn(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??q$;for(const l of o)Hu(a,l,r,i)}function H$(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!xf(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=Ev(i);sE(e,i.draft_??i,o,r),oE(i,a)})}function oE(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}iE(e)}}function K$(e,t,r){const{scope_:n}=e;if(Tn(r)){const a=r[$t];xf(a,n)&&a.callbacks_.push(function(){nu(e);const o=Ev(a);sE(e,r,o,t)})}else qr(r)&&e.callbacks_.push(function(){const i=vn(e);e.type_===3?i.has(r)&&Vu(r,n.handledSet_,n):Xp(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vu(Xp(e.copy_,t,e.type_),n.handledSet_,n)})}function Vu(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Tn(e)||t.has(e)||!qr(e)||yf(e)||(t.add(e),mf(e,(n,a)=>{if(Tn(a)){const i=a[$t];if(xf(i,r)){const o=Ev(i);Hu(e,n,o,e.type_),iE(i)}}else qr(a)&&Vu(a,t,r)})),e}function V$(e,t){const r=pf(e),n={type_:r?1:0,scope_:t?t.scope_:aE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Gu;r&&(a=[n],i=ul);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var Gu={get(e,t){if(t===$t)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=vn(e);if(!dw(a,t,e.type_))return G$(e,a,t);const i=a[t];if(e.finalized_||!qr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&z$(t))return i;if(i===om(e.base_,t)){nu(e);const o=e.type_===1?+t:t,l=r0(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in vn(e)},ownKeys(e){return Reflect.ownKeys(vn(e))},set(e,t,r){const n=lE(vn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=om(vn(e),t),i=a==null?void 0:a[$t];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(R$(r,a)&&(r!==void 0||dw(e.base_,t,e.type_)))return!0;nu(e),t0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),K$(e,t,r)),!0},deleteProperty(e,t){return nu(e),om(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),t0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ru]:!0,[Yp]:e.type_!==1||t!=="length",[qu]:n[qu],[ll]:r[t]}},defineProperty(){$r(11)},getPrototypeOf(e){return vs(e.base_)},setPrototypeOf(){$r(12)}},ul={};for(let e in Gu){let t=Gu[e];ul[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ul.deleteProperty=function(e,t){return ul.set.call(this,e,t,void 0)};ul.set=function(e,t,r){return Gu.set.call(this,e[0],t,r,e[0])};function om(e,t){const r=e[$t];return(r?vn(r):e)[t]}function G$(e,t,r){var a;const n=lE(t,r);return n?ll in n?n[ll]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function lE(e,t){if(!(t in e))return;let r=vs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vs(r)}}function t0(e){e.modified_||(e.modified_=!0,e.parent_&&t0(e.parent_))}function nu(e){e.copy_||(e.assigned_=new Map,e.copy_=Qp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Y$=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Mi(r)&&!Mi(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}Mi(n)||$r(6),a!==void 0&&!Mi(a)&&$r(7);let i;if(qr(r)){const o=pw(this),l=r0(o,r,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Jp(o):e0(o)}return mw(o,a),gw(i,o)}else if(!r||!kv(r)){if(i=n(r),i===void 0&&(i=r),i===tE&&(i=void 0),this.autoFreeze_&&Pv(i,!0),a){const o=[],l=[];li(Zp).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else $r(1,r)},this.produceWithPatches=(r,n)=>{if(Mi(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,i;return[this.produce(r,n,(l,c)=>{a=l,i=c}),a,i]},sm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qr(t)||$r(8),Tn(t)&&(t=Br(t));const r=pw(this),n=r0(r,t,void 0);return n[$t].isManual_=!0,e0(r),n}finishDraft(t,r){const n=t&&t[$t];(!n||!n.isManual_)&&$r(9);const{scope_:a}=n;return mw(a,r),gw(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=li(Zp).applyPatches_;return Tn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function r0(e,t,r,n){const[a,i]=gf(t)?li(Ku).proxyMap_(t,r):vf(t)?li(Ku).proxySet_(t,r):V$(t,r);return((r==null?void 0:r.scope_)??aE()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?H$(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function Br(e){return Tn(e)||$r(10,e),cE(e)}function cE(e){if(!qr(e)||yf(e))return e;const t=e[$t];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qp(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qp(e,!0);return mf(r,(a,i)=>{Hu(r,a,cE(i))},n),t&&(t.finalized_=!1),r}var X$=new Y$,uE=X$.produce;function dE(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Q$=dE(),Z$=dE,J$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uu:Uu.apply(null,arguments)};function _r(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(tr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>eE(n)&&n.type===e,r}var fE=class bo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bo.prototype)}static get[Symbol.species](){return bo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bo(...t[0].concat(this)):new bo(...t.concat(this))}};function yw(e){return qr(e)?uE(e,()=>{}):e}function kc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function eL(e){return typeof e=="boolean"}var tL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new fE;return r&&(eL(r)?o.push(Q$):o.push(Z$(r.extraArgument))),o},hE="RTK_autoBatch",Se=()=>e=>({payload:e,meta:{[hE]:!0}}),xw=e=>t=>{setTimeout(t,e)},mE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xw(10):e.type==="callback"?e.queueNotification:xw(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[hE]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},rL=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new fE(e);return n&&a.push(mE(typeof n=="object"?n:void 0)),a};function nL(e){const t=tL(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Sv(r))c=Jk(r);else throw new Error(tr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Uu;a&&(d=J$({trace:!1,...typeof a=="object"&&a}));const f=$$(...u),h=rL(f);let m=typeof l=="function"?l(h):h();const g=d(...m);return Zk(c,o,g)}function pE(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(tr(28));if(l in t)throw new Error(tr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function aL(e){return typeof e=="function"}function iL(e,t){let[r,n,a]=pE(t),i;if(aL(e))i=()=>yw(e());else{const l=yw(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Tn(d)){const m=f(d,c);return m===void 0?d:m}else{if(qr(d))return uE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var sL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oL=(e=21)=>{let t="",r=e;for(;r--;)t+=sL[Math.random()*64|0];return t},lL=Symbol.for("rtk-slice-createasyncthunk");function cL(e,t){return`${e}/${t}`}function uL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(tr(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(fL()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(tr(12));if(_ in u.sliceCaseReducersByType)throw new Error(tr(13));return u.sliceCaseReducersByType[_]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],_={reducerName:j,type:cL(i,j),createNotation:typeof a.reducers=="function"};mL(N)?gL(_,N,d,t):hL(_,N,d)});function f(){const[j={},N=[],_=void 0]=typeof a.extraReducers=="function"?pE(a.extraReducers):[a.extraReducers],S={...j,...u.sliceCaseReducersByType};return iL(a.initialState,E=>{for(let C in S)E.addCase(C,S[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of N)E.addMatcher(C.matcher,C.reducer);_&&E.addDefaultCase(_)})}const h=j=>j,m=new Map,g=new WeakMap;let y;function x(j,N){return y||(y=f()),y(j,N)}function v(){return y||(y=f()),y.getInitialState()}function w(j,N=!1){function _(E){let C=E[j];return typeof C>"u"&&N&&(C=kc(g,_,v)),C}function S(E=h){const C=kc(m,N,()=>new WeakMap);return kc(C,E,()=>{const D={};for(const[O,A]of Object.entries(a.selectors??{}))D[O]=dL(A,E,()=>kc(g,E,v),N);return D})}return{reducerPath:j,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const b={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...w(o),injectInto(j,{reducerPath:N,..._}={}){const S=N??o;return j.inject({reducerPath:S,reducer:x},_),{...b,...w(S,!0)}}};return b}}function dL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Gt=uL();function fL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function hL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!pL(n))throw new Error(tr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?_r(e,o):_r(e))}function mL(e){return e._reducerDefinitionType==="asyncThunk"}function pL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(tr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Ec,pending:l||Ec,rejected:c||Ec,settled:u||Ec})}function Ec(){}var vL="task",gE="listener",vE="completed",Ov="cancelled",yL=`task-${Ov}`,xL=`task-${vE}`,n0=`${gE}-${Ov}`,bL=`${gE}-${vE}`,bf=class{constructor(e){hh(this,"name","TaskAbortError");hh(this,"message");this.code=e,this.message=`${vL} ${Ov} (reason: ${e})`}},Av=(e,t)=>{if(typeof e!="function")throw new TypeError(tr(32))},Yu=()=>{},yE=(e,t=Yu)=>(e.catch(t),e),xE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Qa=e=>{if(e.aborted)throw new bf(e.reason)};function bE(e,t){let r=Yu;return new Promise((n,a)=>{const i=()=>a(new bf(e.reason));if(e.aborted){i();return}r=xE(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Yu})}var wL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof bf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Xu=e=>t=>yE(bE(e,t).then(r=>(Qa(e),r))),wE=e=>{const t=Xu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:as}=Object,bw={},wf="listenerMiddleware",jL=(e,t)=>{const r=n=>xE(e,()=>n.abort(e.reason));return(n,a)=>{Av(n);const i=new AbortController;r(i);const o=wL(async()=>{Qa(e),Qa(i.signal);const l=await n({pause:Xu(i.signal),delay:wE(i.signal),signal:i.signal});return Qa(i.signal),l},()=>i.abort(xL));return a!=null&&a.autoJoin&&t.push(o.catch(Yu)),{result:Xu(e)(o),cancel(){i.abort(yL)}}}},_L=(e,t)=>{const r=async(n,a)=>{Qa(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await bE(t,Promise.race(l));return Qa(t),c}finally{i()}};return(n,a)=>yE(r(n,a))},jE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=_r(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(tr(21));return Av(i),{predicate:a,type:t,effect:i}},_E=as(e=>{const{type:t,predicate:r,effect:n}=jE(e);return{id:oL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(tr(22))}}},{withTypes:()=>_E}),ww=(e,t)=>{const{type:r,effect:n,predicate:a}=jE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},a0=e=>{e.pending.forEach(t=>{t.abort(n0)})},NL=(e,t)=>()=>{for(const r of t.keys())a0(r);e.clear()},jw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},NE=as(_r(`${wf}/add`),{withTypes:()=>NE}),SL=_r(`${wf}/removeAll`),SE=as(_r(`${wf}/remove`),{withTypes:()=>SE}),kL=(...e)=>{console.error(`${wf}/error`,...e)},Ml=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},a=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:i,onError:o=kL}=e;Av(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&a0(m)}),c=m=>{const g=ww(t,m)??_E(m);return l(g)};as(c,{withTypes:()=>c});const u=m=>{const g=ww(t,m);return g&&(g.unsubscribe(),m.cancelActive&&a0(g)),!!g};as(u,{withTypes:()=>u});const d=async(m,g,y,x)=>{const v=new AbortController,w=_L(c,v.signal),b=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(g,as({},y,{getOriginalState:x,condition:(j,N)=>w(j,N).then(Boolean),take:w,delay:wE(v.signal),pause:Xu(v.signal),extra:i,signal:v.signal,fork:jL(v.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,N,_)=>{j!==v&&(j.abort(n0),_.delete(j))})},cancel:()=>{v.abort(n0),m.pending.delete(v)},throwIfCancelled:()=>{Qa(v.signal)}})))}catch(j){j instanceof bf||jw(o,j,{raisedBy:"effect"})}finally{await Promise.all(b),v.abort(bL),a(m),m.pending.delete(v)}},f=NL(t,r);return{middleware:m=>g=>y=>{if(!eE(y))return g(y);if(NE.match(y))return c(y.payload);if(SL.match(y)){f();return}if(SE.match(y))return u(y.payload);let x=m.getState();const v=()=>{if(x===bw)throw new Error(tr(23));return x};let w;try{if(w=g(y),t.size>0){const b=m.getState(),j=Array.from(t.values());for(const N of j){let _=!1;try{_=N.predicate(y,b,x)}catch(S){_=!1,jw(o,S,{raisedBy:"predicate"})}_&&d(N,y,m,v)}}}finally{x=bw}return w},startListening:c,stopListening:u,clearListeners:f}};function tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kE=Gt({name:"chartLayout",initialState:EL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:PL,setLayout:OL,setChartSize:AL,setScale:CL}=kE.actions,TL=kE.reducer;function EE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function se(e){return Number.isFinite(e)}function un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){IL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=ML(e,"string");return typeof t=="symbol"?t:t+""}function ML(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ne(e,t,r){return dt(e)||dt(t)?r:cn(t)?si(e,t,r):typeof t=="function"?t(e):r}var $L=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&X(e[i]))return Gi(Gi({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&X(e[o]))return Gi(Gi({},e),{},{[o]:e[o]+(a||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},OE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&i&&i.length>=2?ct(i[0]-i[1])*2*y:y,f||h){var x=(f||h||[]).map((v,w)=>{var b=n?n.indexOf(v):v,j=o.map(b);return se(j)?{coordinate:j+y,value:v,offset:y,index:w}:null}).filter(Wt);return x}return c&&u?u.map((v,w)=>{var b=o.map(v);return se(b)?{coordinate:b+y,value:v,index:w,offset:y}:null}).filter(Wt):o.ticks&&!r&&d!=null?o.ticks(d).map((v,w)=>{var b=o.map(v);return se(b)?{coordinate:b+y,value:v,index:w,offset:y}:null}).filter(Wt):o.domain().map((v,w)=>{var b=o.map(v);return se(b)?{coordinate:b+y,value:n?n[v]:v,index:w,offset:y}:null}).filter(Wt)},LL=(e,t)=>{if(!t||t.length!==2||!X(t[0])||!X(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!X(e[0])||e[0]<r)&&(a[0]=r),(!X(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},RL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=ln(d)?f:d;h>=0?(u[0]=i,i+=h,u[1]=i):(u[0]=o,o+=h,u[1]=o)}}}},zL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=ln(c[1])?c[0]:c[1];u>=0?(c[0]=i,i+=u,c[1]=i):(c[0]=0,c[1]=0)}}}},FL={sign:RL,expand:y5,none:ii,silhouette:x5,wiggle:b5,positive:zL},BL=(e,t,r)=>{var n,a=(n=FL[r])!==null&&n!==void 0?n:ii,i=v5().keys(t).value((l,c)=>Number(Ne(l,c,0))).order(Vp).offset(a),o=i(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=Ne(e[d],t[c],0);Array.isArray(f)&&f.length===2&&X(f[0])&&X(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function UL(e){return e==null?void 0:String(e)}var Nw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Ne(i,t.dataKey,t.scale.domain()[o]);if(dt(l))return null;var c=t.scale.map(l);return X(c)?c-a/2+n:null},WL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},qL=e=>{var t=e.flat(2).filter(X);return[Math.min(...t),Math.max(...t)]},HL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],KL=(e,t,r)=>{if(e!=null)return HL(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((c,u)=>{var d=EE(u,t,r),f=qL(d);return!se(f[0])||!se(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Sw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qu=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ff(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function Ew(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Gi(Gi({},t),{},{dataKey:r,payload:n,value:a,name:i})}function jf(e,t){if(e)return String(e);if(typeof t=="string")return t}var VL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},GL=(e,t)=>t==="centric"?e.angle:e.radius,Bn=e=>e.layout.width,Un=e=>e.layout.height,YL=e=>e.layout.scale,AE=e=>e.layout.margin,_f=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Nf=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),CE="data-recharts-item-index",TE="data-recharts-item-id",$l=60;function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){XL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XL(e,t,r){return(t=QL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JL=e=>e.brush.height;function eR(e){var t=Nf(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:$l;return r+a}return r},0)}function tR(e){var t=Nf(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:$l;return r+a}return r},0)}function rR(e){var t=_f(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function nR(e){var t=_f(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tt=T([Bn,Un,AE,JL,eR,tR,rR,nR,Xk,O$],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=Pc(Pc({},f),d),m=h.bottom;h.bottom+=n,h=$L(h,c,u);var g=e-h.left-h.right,y=t-h.top-h.bottom;return Pc(Pc({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),aR=T(tt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Cv=T(Bn,Un,(e,t)=>({x:0,y:0,width:e,height:t})),iR=p.createContext(null),Yt=()=>p.useContext(iR)!=null,Sf=e=>e.brush,kf=T([Sf,tt,AE],(e,t,r)=>({height:e.height,x:X(e.x)?e.x:t.left,y:X(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:X(e.width)?e.width:t.width})),IE={},DE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),o=void 0,l=null},x=()=>{d()},v=function(...w){if(a!=null&&a.aborted)return;o=this,l=w;const b=h==null;m(),c&&b&&d()};return v.schedule=m,v.cancel=y,v.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(IE);var sR=IE.throttle;const oR=zn(sR);var Zu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},tn={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$E=(e,t,r)=>{var{width:n=tn.width,height:a=tn.height,aspect:i,maxHeight:o}=r,l=oi(n)?e:Number(n),c=oi(a)?t:Number(a);return i&&i>0&&(l?c=l/i:c&&(l=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},lR={width:0,height:0,overflow:"visible"},cR={width:0,overflowX:"visible"},uR={height:0,overflowY:"visible"},dR={},fR=e=>{var{width:t,height:r}=e,n=oi(t),a=oi(r);return n&&a?lR:n?cR:a?uR:dR};function hR(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a=tn.width,i=tn.height):a===void 0?a=n&&n>0?void 0:tn.width:i===void 0&&(i=n&&n>0?void 0:tn.height),{width:a,height:i}}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){mR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mR(e,t,r){return(t=pR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=gR(e,"string");return typeof t=="symbol"?t:t+""}function gR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LE=p.createContext(tn.initialDimension);function vR(e){return un(e.width)&&un(e.height)}function RE(e){var{children:t,width:r,height:n}=e,a=p.useMemo(()=>({width:r,height:n}),[r,n]);return vR(a)?p.createElement(LE.Provider,{value:a},t):null}var Tv=()=>p.useContext(LE),yR=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=tn.initialDimension,width:a,height:i,minWidth:o=tn.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=tn.debounce,id:f,className:h,onResize:m,style:g={}}=e,y=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(t,()=>y.current);var[v,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((E,C)=>{w(D=>{var O=Math.round(E),A=Math.round(C);return D.containerWidth===O&&D.containerHeight===A?D:{containerWidth:O,containerHeight:A}})},[]);p.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Ms;var E=A=>{var $,R=A[0];if(R!=null){var{width:Z,height:H}=R.contentRect;b(Z,H),($=x.current)===null||$===void 0||$.call(x,Z,H)}};d>0&&(E=oR(E,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(E),{width:D,height:O}=y.current.getBoundingClientRect();return b(D,O),C.observe(y.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:N}=v;Zu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:S}=$E(j,N,{width:a,height:i,aspect:r,maxHeight:c});return Zu(_!=null&&_>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,S,a,i,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:fe("recharts-responsive-container",h),style:Aw(Aw({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:y},p.createElement("div",{style:fR({width:a,height:i})},p.createElement(RE,{width:_,height:S},u)))}),Oc=p.forwardRef((e,t)=>{var r=Tv();if(un(r.width)&&un(r.height))return e.children;var{width:n,height:a}=hR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=$E(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return X(i)&&X(o)?p.createElement(RE,{width:i,height:o},e.children):p.createElement(yR,i0({},e,{width:n,height:a,ref:t}))});function Iv(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ef=()=>{var e,t=Yt(),r=Q(aR),n=Q(kf),a=(e=Q(Sf))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},xR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zE=()=>{var e;return(e=Q(tt))!==null&&e!==void 0?e:xR},Dv=()=>Q(Bn),Mv=()=>Q(Un),bR=()=>Q(e=>e.layout.margin),ce=e=>e.layout.layoutType,$s=()=>Q(ce),FE=()=>{var e=$s();if(e==="horizontal"||e==="vertical")return e},BE=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},wR=()=>{var e=$s();return e!==void 0},Ll=e=>{var t=be(),r=Yt(),{width:n,height:a}=e,i=Tv(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),p.useEffect(()=>{!r&&un(o)&&un(l)&&t(AL({width:o,height:l}))},[t,r,o,l]),null},UE=Symbol.for("immer-nothing"),Cw=Symbol.for("immer-draftable"),nr=Symbol.for("immer-state");function Lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dl=Object.getPrototypeOf;function ys(e){return!!e&&!!e[nr]}function ci(e){var t;return e?WE(e)||Array.isArray(e)||!!e[Cw]||!!((t=e.constructor)!=null&&t[Cw])||Rl(e)||Of(e):!1}var jR=Object.prototype.constructor.toString(),Tw=new WeakMap;function WE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Tw.get(r);return n===void 0&&(n=Function.toString.call(r),Tw.set(r,n)),n===jR}function Ju(e,t,r=!0){Pf(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Pf(e){const t=e[nr];return t?t.type_:Array.isArray(e)?1:Rl(e)?2:Of(e)?3:0}function s0(e,t){return Pf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qE(e,t,r){const n=Pf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function _R(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rl(e){return e instanceof Map}function Of(e){return e instanceof Set}function Ra(e){return e.copy_||e.base_}function o0(e,t){if(Rl(e))return new Map(e);if(Of(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[nr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(dl(e),n)}else{const n=dl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function $v(e,t=!1){return Af(e)||ys(e)||!ci(e)||(Pf(e)>1&&Object.defineProperties(e,{set:Ac,add:Ac,clear:Ac,delete:Ac}),Object.freeze(e),t&&Object.values(e).forEach(r=>$v(r,!0))),e}function NR(){Lr(2)}var Ac={value:NR};function Af(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var SR={};function ui(e){const t=SR[e];return t||Lr(0,e),t}var fl;function HE(){return fl}function kR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Iw(e,t){t&&(ui("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function l0(e){c0(e),e.drafts_.forEach(ER),e.drafts_=null}function c0(e){e===fl&&(fl=e.parent_)}function Dw(e){return fl=kR(fl,e)}function ER(e){const t=e[nr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Mw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[nr].modified_&&(l0(t),Lr(4)),ci(e)&&(e=ed(t,e),t.parent_||td(t,e)),t.patches_&&ui("Patches").generateReplacementPatches_(r[nr].base_,e,t.patches_,t.inversePatches_)):e=ed(t,r,[]),l0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UE?e:void 0}function ed(e,t,r){if(Af(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[nr];if(!a)return Ju(t,(i,o)=>$w(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return td(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Ju(o,(c,u)=>$w(e,a,i,c,u,r,l),n),td(e,i,!1),r&&e.patches_&&ui("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function $w(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=Af(a);if(!(l&&!o)){if(ys(a)){const c=i&&t&&t.type_!==3&&!s0(t.assigned_,n)?i.concat(n):void 0,u=ed(e,a,c);if(qE(r,n,u),ys(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ci(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;ed(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&td(e,a)}}}function td(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$v(t,r)}function PR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:HE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Lv;r&&(a=[n],i=hl);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Lv={get(e,t){if(t===nr)return e;const r=Ra(e);if(!s0(r,t))return OR(e,r,t);const n=r[t];return e.finalized_||!ci(n)?n:n===lm(e.base_,t)?(cm(e),e.copy_[t]=d0(n,e)):n},has(e,t){return t in Ra(e)},ownKeys(e){return Reflect.ownKeys(Ra(e))},set(e,t,r){const n=KE(Ra(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lm(Ra(e),t),i=a==null?void 0:a[nr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_R(r,a)&&(r!==void 0||s0(e.base_,t)))return!0;cm(e),u0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cm(e),u0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Lr(11)},getPrototypeOf(e){return dl(e.base_)},setPrototypeOf(){Lr(12)}},hl={};Ju(Lv,(e,t)=>{hl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hl.deleteProperty=function(e,t){return hl.set.call(this,e,t,void 0)};hl.set=function(e,t,r){return Lv.set.call(this,e[0],t,r,e[0])};function lm(e,t){const r=e[nr];return(r?Ra(r):e)[t]}function OR(e,t,r){var a;const n=KE(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KE(e,t){if(!(t in e))return;let r=dl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=dl(r)}}function u0(e){e.modified_||(e.modified_=!0,e.parent_&&u0(e.parent_))}function cm(e){e.copy_||(e.copy_=o0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Lr(6),n!==void 0&&typeof n!="function"&&Lr(7);let a;if(ci(t)){const i=Dw(this),o=d0(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?l0(i):c0(i)}return Iw(i,n),Mw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===UE&&(a=void 0),this.autoFreeze_&&$v(a,!0),n){const i=[],o=[];ui("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Lr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ci(e)||Lr(8),ys(e)&&(e=CR(e));const t=Dw(this),r=d0(e,void 0);return r[nr].isManual_=!0,c0(t),r}finishDraft(e,t){const r=e&&e[nr];(!r||!r.isManual_)&&Lr(9);const{scope_:n}=r;return Iw(n,t),Mw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ui("Patches").applyPatches_;return ys(e)?n(e,t):this.produce(e,a=>n(a,t))}};function d0(e,t){const r=Rl(e)?ui("MapSet").proxyMap_(e,t):Of(e)?ui("MapSet").proxySet_(e,t):PR(e,t);return(t?t.scope_:HE()).drafts_.push(r),r}function CR(e){return ys(e)||Lr(10,e),VE(e)}function VE(e){if(!ci(e)||Af(e))return e;const t=e[nr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=o0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=o0(e,!0);return Ju(r,(a,i)=>{qE(r,a,VE(i))},n),t&&(t.finalized_=!1),r}var TR=new AR;TR.produce;var IR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GE=Gt({name:"legend",initialState:IR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Se()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Br(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Se()},removeLegendPayload:{reducer(e,t){var r=Br(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Se()}}}),{setLegendSize:Lw,setLegendSettings:DR,addLegendPayload:YE,replaceLegendPayload:XE,removeLegendPayload:QE}=GE.actions,MR=GE.reducer,$R=["contextPayload"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(null,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){LR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LR(e,t,r){return(t=RR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RR(e){var t=zR(e,"string");return typeof t=="symbol"?t:t+""}function zR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FR(e,t){if(e==null)return{};var r,n,a=BR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UR(e){return e.value}function WR(e){var{contextPayload:t}=e,r=FR(e,$R),n=zk(t,e.payloadUniqBy,UR),a=xs(xs({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(G5,a)}function qR(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xs(xs({},u),d)}function HR(e){var t=be();return p.useEffect(()=>{t(DR(e))},[t,e]),null}function KR(e){var t=be();return p.useEffect(()=>(t(Lw(e)),()=>{t(Lw({width:0,height:0}))}),[t,e]),null}function VR(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var GR={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function h0(e){var t=ft(e,GR),r=T$(),n=BM(),a=bR(),{width:i,height:o,wrapperStyle:l,portal:c}=t,[u,d]=Qk([r]),f=Dv(),h=Mv();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),g=VR(t.layout,o,i,m),y=c?l:xs(xs({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||o||"auto"},qR(l,t,a,f,h,u)),l),x=c??n;if(x==null||r==null)return null;var v=p.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},p.createElement(HR,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(KR,{width:u.width,height:u.height}),p.createElement(WR,f0({},t,g,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return Kd.createPortal(v,x)}h0.displayName="Legend";function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(null,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){YR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YR(e,t,r){return(t=XR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XR(e){var t=QR(e,"string");return typeof t=="symbol"?t:t+""}function QR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var Pi={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},JR=e=>{var{separator:t=Pi.separator,contentStyle:r,itemStyle:n,labelStyle:a=Pi.labelStyle,payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=Pi.accessibilityLayer}=e,m=()=>{if(i&&i.length){var N={padding:0,margin:0},_=(l?ff(i,l):i).map((S,E)=>{if(S.type==="none")return null;var C=S.formatter||o||ZR,{value:D,name:O}=S,A=D,$=O;if(C){var R=C(D,O,S,E,i);if(Array.isArray(R))[A,$]=R;else if(R!=null)A=R;else return null}var Z=ro(ro({},Pi.itemStyle),{},{color:S.color||Pi.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Z},cn($)?p.createElement("span",{className:"recharts-tooltip-item-name"},$):null,cn($)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},A),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},_)}return null},g=ro(ro({},Pi.contentStyle),r),y=ro({margin:0},a),x=!dt(d),v=x?d:"",w=fe("recharts-default-tooltip",c),b=fe("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(v=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",m0({className:w,style:g},j),p.createElement("p",{className:b,style:y},p.isValidElement(v)?v:"".concat(v)),m())},no="recharts-tooltip-wrapper",ez={visibility:"hidden"};function tz(e){var{coordinate:t,translateX:r,translateY:n}=e;return fe(no,{["".concat(no,"-right")]:X(r)&&t&&X(t.x)&&r>=t.x,["".concat(no,"-left")]:X(r)&&t&&X(t.x)&&r<t.x,["".concat(no,"-bottom")]:X(n)&&t&&X(t.y)&&n>=t.y,["".concat(no,"-top")]:X(n)&&t&&X(t.y)&&n<t.y})}function Fw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&X(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,x=h+u;return y>x?Math.max(d,h):Math.max(f,h)}function rz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,h;return l.height>0&&l.width>0&&r?(f=Fw({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),h=Fw({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=rz({translateX:f,translateY:h,useTranslate3d:c})):d=ez,{cssProperties:d,cssClasses:tz({translateX:f,translateY:h,coordinate:r})}}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p0(e,t,r){return(t=az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sz extends p.PureComponent{constructor(){super(...arguments),p0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),p0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:v}=this.props,w=typeof u=="number"?u:u.x,b=typeof u=="number"?u:u.y,{cssClasses:j,cssProperties:N}=nz({allowEscapeViewBox:r,coordinate:o,offsetLeft:w,offsetTop:b,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),_=v?{}:Cc(Cc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Cc(Cc({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:S,ref:x},i)}}var ZE=()=>{var e;return(e=Q(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oz(e,t,r){return(t=lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=cz(e,"string");return typeof t=="symbol"?t:t+""}function cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qw={curveBasisClosed:s5,curveBasisOpen:o5,curveBasis:i5,curveBumpX:HM,curveBumpY:KM,curveLinearClosed:l5,curveLinear:nf,curveMonotoneX:c5,curveMonotoneY:u5,curveNatural:d5,curveStep:f5,curveStepAfter:m5,curveStepBefore:h5},rd=e=>se(e.x)&&se(e.y),Hw=e=>e.base!=null&&rd(e.base)&&rd(e),ao=e=>e.x,io=e=>e.y,uz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Tl(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=qw["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return qw[r]||nf},Kw={connectNulls:!1,type:"linear"},dz=e=>{var{type:t=Kw.type,points:r=[],baseLine:n,layout:a,connectNulls:i=Kw.connectNulls}=e,o=uz(t,a),l=i?r.filter(rd):r;if(Array.isArray(n)){var c,u=r.map((g,y)=>Ww(Ww({},g),{},{base:n[y]}));a==="vertical"?c=jc().y(io).x1(ao).x0(g=>g.base.x):c=jc().x(ao).y1(io).y0(g=>g.base.y);var d=c.defined(Hw).curve(o),f=i?u.filter(Hw):u;return d(f)}var h;a==="vertical"&&X(n)?h=jc().y(io).x1(ao).x0(n):X(n)?h=jc().x(ao).y1(io).y0(n):h=ik().x(ao).y(io);var m=h.defined(rd).curve(o);return m(l)},Rv=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=$s();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?dz(o):n;return p.createElement("path",g0({},Wr(e),M5(e),{className:fe("recharts-curve",t),d:l===null?void 0:l,ref:a}))},fz=["x","y","top","left","width","height","className"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var t=gz(e,"string");return typeof t=="symbol"?t:t+""}function gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vz(e,t){if(e==null)return{};var r,n,a=yz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xz=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),bz=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=vz(e,fz),u=hz({x:t,y:r,top:n,left:a,width:i,height:o},c);return!X(t)||!X(r)||!X(i)||!X(o)||!X(n)||!X(a)?null:p.createElement("path",v0({},jr(u),{className:fe("recharts-cross",l),d:xz(t,r,i,o,n,a)}))};function wz(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),JE=(e,t,r)=>e.map(n=>"".concat(Sz(n)," ").concat(t,"ms ").concat(r)).join(","),kz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ml=(e,t)=>Object.keys(t).reduce((r,n)=>Yw(Yw({},r),{},{[n]:e(n,t[n])}),{});function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){Ez(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ez(e,t,r){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Oz(e,"string");return typeof t=="symbol"?t:t+""}function Oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nd=(e,t,r)=>e+(t-e)*r,y0=e=>{var{from:t,to:r}=e;return t!==r},eP=(e,t,r)=>{var n=ml((a,i)=>{if(y0(i)){var[o,l]=e(i.from,i.to,i.velocity);return Ze(Ze({},i),{},{from:o,velocity:l})}return i},t);return r<1?ml((a,i)=>y0(i)&&n[a]!=null?Ze(Ze({},i),{},{velocity:nd(i.velocity,n[a].velocity,r),from:nd(i.from,n[a].from,r)}):i,t):eP(e,n,r-1)};function Az(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>Ze(Ze({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ml((h,m)=>m.from,l),u=()=>!Object.values(l).filter(y0).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=eP(r,l,g),a(Ze(Ze(Ze({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Cz(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:Ze(Ze({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=ml((y,x)=>nd(...x,r(h)),c);if(i(Ze(Ze(Ze({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=ml((y,x)=>nd(...x,r(1)),c);i(Ze(Ze(Ze({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const Tz=(e,t,r,n,a,i)=>{var o=kz(e,t);return r==null?()=>(a(Ze(Ze({},e),t)),()=>{}):r.isStepper===!0?Az(e,t,r,o,a,i):Cz(e,t,r,n,o,a,i)};var ad=1e-4,tP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Qw=(e,t)=>r=>{var n=tP(e,t);return rP(n,r)},Iz=(e,t)=>r=>{var n=tP(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return rP(a,r)},Dz=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Mz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Dz(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},$z=(e,t,r,n)=>{var a=Qw(e,r),i=Qw(t,n),o=Iz(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<ad||g<ad)return i(f);f=l(f-m/g)}return i(f)};return c.isStepper=!1,c},Zw=function(){return $z(...Mz(...arguments))},Lz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<ad&&Math.abs(f)<ad?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},Rz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zw(e);case"spring":return Lz();default:if(e.split("(")[0]==="cubic-bezier")return Zw(e)}return typeof e=="function"?e:null};function zz(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Fz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function Bz(){return zz(new Fz)}var Uz=p.createContext(Bz);function Wz(e,t){var r=p.useContext(Uz);return p.useMemo(()=>t??r(e),[e,t,r])}var qz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cf={devToolsEnabled:!0,isSsr:qz()},Hz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Jw={t:0},um={t:1};function Tf(e){var t=ft(e,Hz),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Cf.isSsr:r,f=Wz(t.animationId,t.animationManager),[h,m]=p.useState(d?Jw:um),g=p.useRef(null);return p.useEffect(()=>{d||m(um)},[d]),p.useEffect(()=>{if(!d||!n)return Ms;var y=Tz(Jw,um,Rz(i),a,m,f.getTimeoutController()),x=()=>{g.current=y()};return f.start([c,o,x,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,i,o,c,l,f]),u(h.t)}function If(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(ol(t)),n=p.useRef(e);return n.current!==e&&(r.current=ol(t),n.current=e),r.current}var Kz=["radius"],Vz=["radius"],e1,t1,r1,n1,a1,i1,s1,o1,l1,c1;function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){Gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Xz(e,"string");return typeof t=="symbol"?t:t+""}function Xz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}function f1(e,t){if(e==null)return{};var r,n,a=Qz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h1=(e,t,r,n,a)=>{var i=oa(r),o=oa(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&Array.isArray(a)){for(var h=[0,0,0,0],m=0,g=4;m<g;m++){var y,x=(y=a[m])!==null&&y!==void 0?y:0;h[m]=x>l?l:x}f=Me(e1||(e1=Yr(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=Me(t1||(t1=Yr(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Me(r1||(r1=Yr(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=Me(n1||(n1=Yr(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=Me(a1||(a1=Yr(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=Me(i1||(i1=Yr(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=Me(s1||(s1=Yr(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=Me(o1||(o1=Yr(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var v=Math.min(l,a);f=Me(l1||(l1=Yr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*v,v,v,d,e+u*v,t,e+r-u*v,t,v,v,d,e+r,t+c*v,e+r,t+n-c*v,v,v,d,e+r-u*v,t+n,e+u*v,t+n,v,v,d,e,t+n-c*v)}else f=Me(c1||(c1=Yr(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},m1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nP=e=>{var t=ft(e,m1),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=t,x=p.useRef(l),v=p.useRef(c),w=p.useRef(i),b=p.useRef(o),j=p.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=If(j,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var _=fe("recharts-rectangle",d);if(!y){var S=jr(t),E=f1(S,Kz);return p.createElement("path",id({},E,{x:oa(i),y:oa(o),width:oa(l),height:oa(c),radius:typeof u=="number"?u:void 0,className:_,d:h1(i,o,l,c,u)}))}var C=x.current,D=v.current,O=w.current,A=b.current,$="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),Z=JE(["strokeDasharray"],h,typeof f=="string"?f:m1.animationEasing);return p.createElement(Tf,{animationId:N,key:N,canBegin:n>0,duration:h,easing:f,isActive:y,begin:m},H=>{var J=Qe(C,l,H),L=Qe(D,c,H),B=Qe(O,i,H),W=Qe(A,o,H);r.current&&(x.current=J,v.current=L,w.current=B,b.current=W);var ee;g?H>0?ee={transition:Z,strokeDasharray:R}:ee={strokeDasharray:$}:ee={strokeDasharray:R};var ne=jr(t),Oe=f1(ne,Vz);return p.createElement("path",id({},Oe,{radius:typeof u=="number"?u:void 0,className:_,d:h1(B,W,J,L,u),ref:r,style:d1(d1({},ee),t.style)}))})};function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(n){Zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sd=Math.PI/180,t8=e=>e*180/Math.PI,He=(e,t,r,n)=>({x:e+Math.cos(-sd*n)*r,y:t+Math.sin(-sd*n)*r}),aP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},r8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},n8=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=r8({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:t8(c),angleInRadian:c}},a8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},i8=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},s8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=n8({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=a8(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?g1(g1({},t),{},{radius:a,angle:i8(d,t)}):null};function iP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=He(t,r,n,a),l=He(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var v1,y1,x1,b1,w1,j1,_1;function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(null,arguments)}function Ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o8=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/sd,f=c?a:a+i*d,h=He(t,r,u,f),m=He(t,r,n,f),g=c?a-i*d:a,y=He(t,r,u*Math.cos(d*sd),g);return{center:h,circleTangency:m,lineTangency:y,theta:d}},sP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=o8(i,o),c=i+l,u=He(t,r,a,i),d=He(t,r,a,c),f=Me(v1||(v1=Ha(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>c),d.x,d.y);if(n>0){var h=He(t,r,n,i),m=He(t,r,n,c);f+=Me(y1||(y1=Ha(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=c),h.x,h.y)}else f+=Me(x1||(x1=Ha(["L ",","," Z"])),t,r);return f},l8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ct(u-c),{circleTangency:f,lineTangency:h,theta:m}=Tc({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:y,theta:x}=Tc({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(v<0)return o?Me(b1||(b1=Ha(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):sP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w=Me(w1||(w1=Ha(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(v>180),+(d<0),g.x,g.y,i,i,+(d<0),y.x,y.y);if(n>0){var{circleTangency:b,lineTangency:j,theta:N}=Tc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:S,theta:E}=Tc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-N-E;if(C<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Me(j1||(j1=Ha(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,i,i,+(d<0),_.x,_.y,n,n,+(C>180),+(d>0),b.x,b.y,i,i,+(d<0),j.x,j.y)}else w+=Me(_1||(_1=Ha(["L",",","Z"])),t,r);return w},c8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oP=e=>{var t=ft(e,c8),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=fe("recharts-sector",f),m=i-a,g=Et(o,m,0,!0),y;return g>0&&Math.abs(u-d)<360?y=l8({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=sP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",x0({},jr(t),{className:h,d:y}))};function u8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(bk(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,c=He(n,a,i,l),u=He(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return iP(t)}}var lP={},cP={},uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_v;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(cP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv,r=cP;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(lP);var d8=lP.range;const dP=zn(d8);function ga(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function f8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zv(e){let t,r,n;e.length!==2?(t=ga,r=(l,c)=>ga(e(l),c),n=(l,c)=>e(l)-c):(t=e===ga||e===f8?e:h8,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function h8(){return 0}function fP(e){return e===null?NaN:+e}function*m8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const p8=zv(ga),zl=p8.right;zv(fP).center;class N1 extends Map{constructor(t,r=y8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(S1(this,t))}has(t){return super.has(S1(this,t))}set(t,r){return super.set(g8(this,t),r)}delete(t){return super.delete(v8(this,t))}}function S1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function g8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function v8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function y8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x8(e=ga){if(e===ga)return hP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const b8=Math.sqrt(50),w8=Math.sqrt(10),j8=Math.sqrt(2);function od(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=b8?10:i>=w8?5:i>=j8?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?od(e,t,r*2):[l,c,u]}function b0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?od(t,e,r):od(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function w0(e,t,r){return t=+t,e=+e,r=+r,od(e,t,r)[2]}function j0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?w0(t,e,r):w0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function k1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function E1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hP:x8(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));mP(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(so(e,r,t),a(e[n],i)>0&&so(e,r,n);o<l;){for(so(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?so(e,r,l):(++l,so(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function so(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _8(e,t,r){if(e=Float64Array.from(m8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return E1(e);if(t>=1)return k1(e);var n,a=(n-1)*t,i=Math.floor(a),o=k1(mP(e,i).subarray(0,i+1)),l=E1(e.subarray(i+1));return o+(l-o)*(a-i)}}function N8(e,t,r=fP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function S8(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Sr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _0=Symbol("implicit");function Fv(){var e=new N1,t=[],r=[],n=_0;function a(i){let o=e.get(i);if(o===void 0){if(n!==_0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new N1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Fv(t,r).unknown(n)},Sr.apply(a,arguments),a}function Bv(){var e=Fv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,y=m?n:a;i=(y-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(y-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=S8(h).map(function(v){return g+i*v});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Bv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Sr.apply(f(),arguments)}function pP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pP(t())},e}function k8(){return pP(Bv.apply(null,arguments).paddingInner(1))}function Uv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fl(){}var pl=.7,ld=1/pl,is="\\s*([+-]?\\d+)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E8=/^#([0-9a-f]{3,8})$/,P8=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),O8=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),A8=new RegExp(`^rgba\\(${is},${is},${is},${gl}\\)$`),C8=new RegExp(`^rgba\\(${on},${on},${on},${gl}\\)$`),T8=new RegExp(`^hsl\\(${gl},${on},${on}\\)$`),I8=new RegExp(`^hsla\\(${gl},${on},${on},${gl}\\)$`),P1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uv(Fl,vl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O1,formatHex:O1,formatHex8:D8,formatHsl:M8,formatRgb:A1,toString:A1});function O1(){return this.rgb().formatHex()}function D8(){return this.rgb().formatHex8()}function M8(){return vP(this).formatHsl()}function A1(){return this.rgb().formatRgb()}function vl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C1(t):r===3?new qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ic(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ic(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P8.exec(e))?new qt(t[1],t[2],t[3],1):(t=O8.exec(e))?new qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A8.exec(e))?Ic(t[1],t[2],t[3],t[4]):(t=C8.exec(e))?Ic(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=T8.exec(e))?D1(t[1],t[2]/100,t[3]/100,1):(t=I8.exec(e))?D1(t[1],t[2]/100,t[3]/100,t[4]):P1.hasOwnProperty(e)?C1(P1[e]):e==="transparent"?new qt(NaN,NaN,NaN,0):null}function C1(e){return new qt(e>>16&255,e>>8&255,e&255,1)}function Ic(e,t,r,n){return n<=0&&(e=t=r=NaN),new qt(e,t,r,n)}function $8(e){return e instanceof Fl||(e=vl(e)),e?(e=e.rgb(),new qt(e.r,e.g,e.b,e.opacity)):new qt}function N0(e,t,r,n){return arguments.length===1?$8(e):new qt(e,t,r,n??1)}function qt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Uv(qt,N0,gP(Fl,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qt(Za(this.r),Za(this.g),Za(this.b),cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:L8,formatRgb:I1,toString:I1}));function T1(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}`}function L8(){return`#${Ka(this.r)}${Ka(this.g)}${Ka(this.b)}${Ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function I1(){const e=cd(this.opacity);return`${e===1?"rgb(":"rgba("}${Za(this.r)}, ${Za(this.g)}, ${Za(this.b)}${e===1?")":`, ${e})`}`}function cd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Za(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ka(e){return e=Za(e),(e<16?"0":"")+e.toString(16)}function D1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rr(e,t,r,n)}function vP(e){if(e instanceof Rr)return new Rr(e.h,e.s,e.l,e.opacity);if(e instanceof Fl||(e=vl(e)),!e)return new Rr;if(e instanceof Rr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Rr(o,l,c,e.opacity)}function R8(e,t,r,n){return arguments.length===1?vP(e):new Rr(e,t,r,n??1)}function Rr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Uv(Rr,R8,gP(Fl,{brighter(e){return e=e==null?ld:Math.pow(ld,e),new Rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pl:Math.pow(pl,e),new Rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qt(dm(e>=240?e-240:e+120,a,n),dm(e,a,n),dm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Rr(M1(this.h),Dc(this.s),Dc(this.l),cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cd(this.opacity);return`${e===1?"hsl(":"hsla("}${M1(this.h)}, ${Dc(this.s)*100}%, ${Dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function M1(e){return e=(e||0)%360,e<0?e+360:e}function Dc(e){return Math.max(0,Math.min(1,e||0))}function dm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wv=e=>()=>e;function z8(e,t){return function(r){return e+r*t}}function F8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B8(e){return(e=+e)==1?yP:function(t,r){return r-t?F8(t,r,e):Wv(isNaN(t)?r:t)}}function yP(e,t){var r=t-e;return r?z8(e,r):Wv(isNaN(e)?t:e)}const $1=function e(t){var r=B8(t);function n(a,i){var o=r((a=N0(a)).r,(i=N0(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=yP(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function U8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function W8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ls(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function H8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ud(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K8(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ls(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var S0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(S0.source,"g");function V8(e){return function(){return e}}function G8(e){return function(t){return e(t)+""}}function Y8(e,t){var r=S0.lastIndex=fm.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=S0.exec(e))&&(a=fm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ud(n,a)})),r=fm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?G8(c[0].x):V8(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ls(e,t){var r=typeof t,n;return t==null||r==="boolean"?Wv(t):(r==="number"?ud:r==="string"?(n=vl(t))?(t=n,$1):Y8:t instanceof vl?$1:t instanceof Date?H8:W8(t)?U8:Array.isArray(t)?q8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K8:ud)(e,t)}function qv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function X8(e,t){t===void 0&&(t=e,e=Ls);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Q8(e){return function(){return e}}function dd(e){return+e}var L1=[0,1];function It(e){return e}function k0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Q8(isNaN(t)?NaN:.5)}function Z8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function J8(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=k0(a,n),i=r(o,i)):(n=k0(n,a),i=r(i,o)),function(l){return i(n(l))}}function eF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=k0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=zl(e,l,1,n)-1;return i[c](a[c](l))}}function Bl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Df(){var e=L1,t=L1,r=Ls,n,a,i,o=It,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==It&&(o=Z8(e[0],e[h-1])),l=h>2?eF:J8,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ud)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,dd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:It,d()):o!==It},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function Hv(){return Df()(It,It)}function tF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bs(e){return e=fd(Math.abs(e)),e?e[1]:NaN}function rF(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function nF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yl(e){if(!(t=aF.exec(e)))throw new Error("invalid format: "+e);var t;return new Kv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yl.prototype=Kv.prototype;function Kv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var hd;function sF(e,t){var r=fd(e,t);if(!r)return hd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(hd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+fd(e,Math.max(0,t+i-1))[0]}function R1(e,t){var r=fd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const z1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>R1(e*100,t),r:R1,s:sF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F1(e){return e}var B1=Array.prototype.map,U1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oF(e){var t=e.grouping===void 0||e.thousands===void 0?F1:rF(B1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?F1:nF(B1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=yl(f);var m=f.fill,g=f.align,y=f.sign,x=f.symbol,v=f.zero,w=f.width,b=f.comma,j=f.precision,N=f.trim,_=f.type;_==="n"?(b=!0,_="g"):z1[_]||(j===void 0&&(j=12),N=!0,_="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),E=(x==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=z1[_],D=/[defgprs%]/.test(_);j=j===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(A){var $=S,R=E,Z,H,J;if(_==="c")R=C(A)+R,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?c:C(Math.abs(A),j),N&&(A=iF(A)),L&&+A==0&&y!=="+"&&(L=!1),$=(L?y==="("?y:l:y==="-"||y==="("?"":y)+$,R=(_==="s"&&!isNaN(A)&&hd!==void 0?U1[8+hd/3]:"")+R+(L&&y==="("?")":""),D){for(Z=-1,H=A.length;++Z<H;)if(J=A.charCodeAt(Z),48>J||J>57){R=(J===46?a+A.slice(Z+1):A.slice(Z))+R,A=A.slice(0,Z);break}}}b&&!v&&(A=t(A,1/0));var B=$.length+A.length+R.length,W=B<w?new Array(w-B+1).join(m):"";switch(b&&v&&(A=t(W+A,W.length?w-R.length:1/0),W=""),g){case"<":A=$+A+R+W;break;case"=":A=$+W+A+R;break;case"^":A=W.slice(0,B=W.length>>1)+$+A+R+W.slice(B);break;default:A=W+$+A+R;break}return i(A)}return O.toString=function(){return f+""},O}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(bs(h)/3)))*3,g=Math.pow(10,-m),y=u((f=yl(f),f.type="f",f),{suffix:U1[8+m/3]});return function(x){return y(g*x)}}return{format:u,formatPrefix:d}}var Mc,Vv,xP;lF({thousands:",",grouping:[3],currency:["$",""]});function lF(e){return Mc=oF(e),Vv=Mc.format,xP=Mc.formatPrefix,Mc}function cF(e){return Math.max(0,-bs(Math.abs(e)))}function uF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bs(t)/3)))*3-bs(Math.abs(e)))}function dF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bs(t)-bs(e))+1}function bP(e,t,r,n){var a=j0(e,t,r),i;switch(n=yl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=uF(a,o))&&(n.precision=i),xP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cF(a))&&(n.precision=i-(n.type==="%")*2);break}}return Vv(n)}function Ea(e){var t=e.domain;return e.ticks=function(r){var n=t();return b0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=w0(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wP(){var e=Hv();return e.copy=function(){return Bl(e,wP())},Sr.apply(e,arguments),Ea(e)}function jP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jP(e).unknown(t)},e=arguments.length?Array.from(e,dd):[0,1],Ea(r)}function _P(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function W1(e){return Math.log(e)}function q1(e){return Math.exp(e)}function fF(e){return-Math.log(-e)}function hF(e){return-Math.exp(-e)}function mF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pF(e){return e===10?mF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H1(e){return(t,r)=>-e(-t,r)}function Gv(e){const t=e(W1,q1),r=t.domain;let n=10,a,i;function o(){return a=gF(n),i=pF(n),r()[0]<0?(a=H1(a),i=H1(i),e(fF,hF)):e(W1,q1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,y;const x=l==null?10:+l;let v=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(y=h<0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;v.push(y)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<u)){if(y>d)break;v.push(y)}v.length*2<x&&(v=b0(u,d,x))}else v=b0(h,m,Math.min(m-h,x)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yl(c)).precision==null&&(c.trim=!0),c=Vv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(_P(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function NP(){const e=Gv(Df()).domain([1,10]);return e.copy=()=>Bl(e,NP()).base(e.base()),Sr.apply(e,arguments),e}function K1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yv(e){var t=1,r=e(K1(t),V1(t));return r.constant=function(n){return arguments.length?e(K1(t=+n),V1(t)):t},Ea(r)}function SP(){var e=Yv(Df());return e.copy=function(){return Bl(e,SP()).constant(e.constant())},Sr.apply(e,arguments)}function G1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yF(e){return e<0?-e*e:e*e}function Xv(e){var t=e(It,It),r=1;function n(){return r===1?e(It,It):r===.5?e(vF,yF):e(G1(r),G1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ea(t)}function Qv(){var e=Xv(Df());return e.copy=function(){return Bl(e,Qv()).exponent(e.exponent())},Sr.apply(e,arguments),e}function xF(){return Qv.apply(null,arguments).exponent(.5)}function Y1(e){return Math.sign(e)*e*e}function bF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kP(){var e=Hv(),t=[0,1],r=!1,n;function a(i){var o=bF(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Y1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,dd)).map(Y1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sr.apply(a,arguments),Ea(a)}function EP(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=N8(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[zl(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ga),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return EP().domain(e).range(t).unknown(n)},Sr.apply(i,arguments)}function PP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[zl(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PP().domain([e,t]).range(a).unknown(i)},Sr.apply(Ea(o),arguments)}function OP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[zl(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return OP().domain(e).range(t).unknown(r)},Sr.apply(a,arguments)}const hm=new Date,mm=new Date;function rt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>rt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(hm.setTime(+i),mm.setTime(+o),e(hm),e(mm),Math.floor(r(hm,mm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const md=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);md.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):md);md.range;const wn=1e3,gr=wn*60,jn=gr*60,In=jn*24,Zv=In*7,X1=In*30,pm=In*365,Va=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCSeconds());Va.range;const Jv=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wn)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());Jv.range;const ey=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());ey.range;const ty=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wn-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getHours());ty.range;const ry=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCHours());ry.range;const Ul=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/In,e=>e.getDate()-1);Ul.range;const Mf=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/In,e=>e.getUTCDate()-1);Mf.range;const AP=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/In,e=>Math.floor(e/In));AP.range;function yi(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gr)/Zv)}const $f=yi(0),pd=yi(1),wF=yi(2),jF=yi(3),ws=yi(4),_F=yi(5),NF=yi(6);$f.range;pd.range;wF.range;jF.range;ws.range;_F.range;NF.range;function xi(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Zv)}const Lf=xi(0),gd=xi(1),SF=xi(2),kF=xi(3),js=xi(4),EF=xi(5),PF=xi(6);Lf.range;gd.range;SF.range;kF.range;js.range;EF.range;PF.range;const ny=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ny.range;const ay=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ay.range;const Dn=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Dn.range;const Mn=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mn.range;function CP(e,t,r,n,a,i){const o=[[Va,1,wn],[Va,5,5*wn],[Va,15,15*wn],[Va,30,30*wn],[i,1,gr],[i,5,5*gr],[i,15,15*gr],[i,30,30*gr],[a,1,jn],[a,3,3*jn],[a,6,6*jn],[a,12,12*jn],[n,1,In],[n,2,2*In],[r,1,Zv],[t,1,X1],[t,3,3*X1],[e,1,pm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=zv(([,,x])=>x).right(o,h);if(m===o.length)return e.every(j0(u/pm,d/pm,f));if(m===0)return md.every(Math.max(j0(u,d,f),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[l,c]}const[OF,AF]=CP(Mn,ay,Lf,AP,ry,ey),[CF,TF]=CP(Dn,ny,$f,Ul,ty,Jv);function gm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=lo(a),d=co(a),f=lo(i),h=co(i),m=lo(o),g=co(o),y=lo(l),x=co(l),v=lo(c),w=co(c),b={a:J,A:L,b:B,B:W,c:null,d:rj,e:rj,f:r7,g:f7,G:m7,H:JF,I:e7,j:t7,L:TP,m:n7,M:a7,p:ee,q:ne,Q:ij,s:sj,S:i7,u:s7,U:o7,V:l7,w:c7,W:u7,x:null,X:null,y:d7,Y:h7,Z:p7,"%":aj},j={a:Oe,A:me,b:wt,B:Ve,c:null,d:nj,e:nj,f:x7,g:O7,G:C7,H:g7,I:v7,j:y7,L:DP,m:b7,M:w7,p:he,q:M,Q:ij,s:sj,S:j7,u:_7,U:N7,V:S7,w:k7,W:E7,x:null,X:null,y:P7,Y:A7,Z:T7,"%":aj},N={a:D,A:O,b:A,B:$,c:R,d:ej,e:ej,f:YF,g:J1,G:Z1,H:tj,I:tj,j:HF,L:GF,m:qF,M:KF,p:C,q:WF,Q:QF,s:ZF,S:VF,u:RF,U:zF,V:FF,w:LF,W:BF,x:Z,X:H,y:J1,Y:Z1,Z:UF,"%":XF};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(k,F){return function(P){var I=[],te=-1,q=0,Fe=k.length,Ue,Er,or;for(P instanceof Date||(P=new Date(+P));++te<Fe;)k.charCodeAt(te)===37&&(I.push(k.slice(q,te)),(Er=Q1[Ue=k.charAt(++te)])!=null?Ue=k.charAt(++te):Er=Ue==="e"?" ":"0",(or=F[Ue])&&(Ue=or(P,Er)),I.push(Ue),q=te+1);return I.push(k.slice(q,te)),I.join("")}}function S(k,F){return function(P){var I=oo(1900,void 0,1),te=E(I,k,P+="",0),q,Fe;if(te!=P.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(F&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(q=vm(oo(I.y,0,1)),Fe=q.getUTCDay(),q=Fe>4||Fe===0?gd.ceil(q):gd(q),q=Mf.offset(q,(I.V-1)*7),I.y=q.getUTCFullYear(),I.m=q.getUTCMonth(),I.d=q.getUTCDate()+(I.w+6)%7):(q=gm(oo(I.y,0,1)),Fe=q.getDay(),q=Fe>4||Fe===0?pd.ceil(q):pd(q),q=Ul.offset(q,(I.V-1)*7),I.y=q.getFullYear(),I.m=q.getMonth(),I.d=q.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),Fe="Z"in I?vm(oo(I.y,0,1)).getUTCDay():gm(oo(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(Fe+5)%7:I.w+I.U*7-(Fe+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,vm(I)):gm(I)}}function E(k,F,P,I){for(var te=0,q=F.length,Fe=P.length,Ue,Er;te<q;){if(I>=Fe)return-1;if(Ue=F.charCodeAt(te++),Ue===37){if(Ue=F.charAt(te++),Er=N[Ue in Q1?F.charAt(te++):Ue],!Er||(I=Er(k,P,I))<0)return-1}else if(Ue!=P.charCodeAt(I++))return-1}return I}function C(k,F,P){var I=u.exec(F.slice(P));return I?(k.p=d.get(I[0].toLowerCase()),P+I[0].length):-1}function D(k,F,P){var I=m.exec(F.slice(P));return I?(k.w=g.get(I[0].toLowerCase()),P+I[0].length):-1}function O(k,F,P){var I=f.exec(F.slice(P));return I?(k.w=h.get(I[0].toLowerCase()),P+I[0].length):-1}function A(k,F,P){var I=v.exec(F.slice(P));return I?(k.m=w.get(I[0].toLowerCase()),P+I[0].length):-1}function $(k,F,P){var I=y.exec(F.slice(P));return I?(k.m=x.get(I[0].toLowerCase()),P+I[0].length):-1}function R(k,F,P){return E(k,t,F,P)}function Z(k,F,P){return E(k,r,F,P)}function H(k,F,P){return E(k,n,F,P)}function J(k){return o[k.getDay()]}function L(k){return i[k.getDay()]}function B(k){return c[k.getMonth()]}function W(k){return l[k.getMonth()]}function ee(k){return a[+(k.getHours()>=12)]}function ne(k){return 1+~~(k.getMonth()/3)}function Oe(k){return o[k.getUTCDay()]}function me(k){return i[k.getUTCDay()]}function wt(k){return c[k.getUTCMonth()]}function Ve(k){return l[k.getUTCMonth()]}function he(k){return a[+(k.getUTCHours()>=12)]}function M(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var F=_(k+="",b);return F.toString=function(){return k},F},parse:function(k){var F=S(k+="",!1);return F.toString=function(){return k},F},utcFormat:function(k){var F=_(k+="",j);return F.toString=function(){return k},F},utcParse:function(k){var F=S(k+="",!0);return F.toString=function(){return k},F}}}var Q1={"-":"",_:" ",0:"0"},ht=/^\s*\d+/,DF=/^%/,MF=/[\\^$*+?|[\]().{}]/g;function le(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $F(e){return e.replace(MF,"\\$&")}function lo(e){return new RegExp("^(?:"+e.map($F).join("|")+")","i")}function co(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LF(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RF(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Z1(e,t,r){var n=ht.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J1(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WF(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ej(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tj(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VF(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GF(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=ht.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function XF(e,t,r){var n=DF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QF(e,t,r){var n=ht.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=ht.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rj(e,t){return le(e.getDate(),t,2)}function JF(e,t){return le(e.getHours(),t,2)}function e7(e,t){return le(e.getHours()%12||12,t,2)}function t7(e,t){return le(1+Ul.count(Dn(e),e),t,3)}function TP(e,t){return le(e.getMilliseconds(),t,3)}function r7(e,t){return TP(e,t)+"000"}function n7(e,t){return le(e.getMonth()+1,t,2)}function a7(e,t){return le(e.getMinutes(),t,2)}function i7(e,t){return le(e.getSeconds(),t,2)}function s7(e){var t=e.getDay();return t===0?7:t}function o7(e,t){return le($f.count(Dn(e)-1,e),t,2)}function IP(e){var t=e.getDay();return t>=4||t===0?ws(e):ws.ceil(e)}function l7(e,t){return e=IP(e),le(ws.count(Dn(e),e)+(Dn(e).getDay()===4),t,2)}function c7(e){return e.getDay()}function u7(e,t){return le(pd.count(Dn(e)-1,e),t,2)}function d7(e,t){return le(e.getFullYear()%100,t,2)}function f7(e,t){return e=IP(e),le(e.getFullYear()%100,t,2)}function h7(e,t){return le(e.getFullYear()%1e4,t,4)}function m7(e,t){var r=e.getDay();return e=r>=4||r===0?ws(e):ws.ceil(e),le(e.getFullYear()%1e4,t,4)}function p7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+le(t/60|0,"0",2)+le(t%60,"0",2)}function nj(e,t){return le(e.getUTCDate(),t,2)}function g7(e,t){return le(e.getUTCHours(),t,2)}function v7(e,t){return le(e.getUTCHours()%12||12,t,2)}function y7(e,t){return le(1+Mf.count(Mn(e),e),t,3)}function DP(e,t){return le(e.getUTCMilliseconds(),t,3)}function x7(e,t){return DP(e,t)+"000"}function b7(e,t){return le(e.getUTCMonth()+1,t,2)}function w7(e,t){return le(e.getUTCMinutes(),t,2)}function j7(e,t){return le(e.getUTCSeconds(),t,2)}function _7(e){var t=e.getUTCDay();return t===0?7:t}function N7(e,t){return le(Lf.count(Mn(e)-1,e),t,2)}function MP(e){var t=e.getUTCDay();return t>=4||t===0?js(e):js.ceil(e)}function S7(e,t){return e=MP(e),le(js.count(Mn(e),e)+(Mn(e).getUTCDay()===4),t,2)}function k7(e){return e.getUTCDay()}function E7(e,t){return le(gd.count(Mn(e)-1,e),t,2)}function P7(e,t){return le(e.getUTCFullYear()%100,t,2)}function O7(e,t){return e=MP(e),le(e.getUTCFullYear()%100,t,2)}function A7(e,t){return le(e.getUTCFullYear()%1e4,t,4)}function C7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?js(e):js.ceil(e),le(e.getUTCFullYear()%1e4,t,4)}function T7(){return"+0000"}function aj(){return"%"}function ij(e){return+e}function sj(e){return Math.floor(+e/1e3)}var Oi,$P,LP;I7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function I7(e){return Oi=IF(e),$P=Oi.format,Oi.parse,LP=Oi.utcFormat,Oi.utcParse,Oi}function D7(e){return new Date(e)}function M7(e){return e instanceof Date?+e:+new Date(+e)}function iy(e,t,r,n,a,i,o,l,c,u){var d=Hv(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function N(_){return(c(_)<_?m:l(_)<_?g:o(_)<_?y:i(_)<_?x:n(_)<_?a(_)<_?v:w:r(_)<_?b:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,M7)):h().map(D7)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?N:u(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(_P(S,_)):d},d.copy=function(){return Bl(d,iy(e,t,r,n,a,i,o,l,c,u))},d}function $7(){return Sr.apply(iy(CF,TF,Dn,ny,$f,Ul,ty,Jv,Va,$P).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L7(){return Sr.apply(iy(OF,AF,Mn,ay,Lf,Mf,ry,ey,Va,LP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rf(){var e=0,t=1,r,n,a,i,o=It,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Ls),u.rangeRound=d(qv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RP(){var e=Ea(Rf()(It));return e.copy=function(){return Pa(e,RP())},Wn.apply(e,arguments)}function zP(){var e=Gv(Rf()).domain([1,10]);return e.copy=function(){return Pa(e,zP()).base(e.base())},Wn.apply(e,arguments)}function FP(){var e=Yv(Rf());return e.copy=function(){return Pa(e,FP()).constant(e.constant())},Wn.apply(e,arguments)}function sy(){var e=Xv(Rf());return e.copy=function(){return Pa(e,sy()).exponent(e.exponent())},Wn.apply(e,arguments)}function R7(){return sy.apply(null,arguments).exponent(.5)}function BP(){var e=[],t=It;function r(n){if(n!=null&&!isNaN(n=+n))return t((zl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ga),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>_8(e,i/n))},r.copy=function(){return BP(t).domain(e)},Wn.apply(r,arguments)}function zf(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=It,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(x){var v,w,b;return arguments.length?([v,w,b]=x,u=X8(y,[v,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ls),m.rangeRound=g(qv),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,a=y(e),i=y(t),o=y(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function UP(){var e=Ea(zf()(It));return e.copy=function(){return Pa(e,UP())},Wn.apply(e,arguments)}function WP(){var e=Gv(zf()).domain([.1,1,10]);return e.copy=function(){return Pa(e,WP()).base(e.base())},Wn.apply(e,arguments)}function qP(){var e=Yv(zf());return e.copy=function(){return Pa(e,qP()).constant(e.constant())},Wn.apply(e,arguments)}function oy(){var e=Xv(zf());return e.copy=function(){return Pa(e,oy()).exponent(e.exponent())},Wn.apply(e,arguments)}function z7(){return oy.apply(null,arguments).exponent(.5)}const wo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bv,scaleDiverging:UP,scaleDivergingLog:WP,scaleDivergingPow:oy,scaleDivergingSqrt:z7,scaleDivergingSymlog:qP,scaleIdentity:jP,scaleImplicit:_0,scaleLinear:wP,scaleLog:NP,scaleOrdinal:Fv,scalePoint:k8,scalePow:Qv,scaleQuantile:EP,scaleQuantize:PP,scaleRadial:kP,scaleSequential:RP,scaleSequentialLog:zP,scaleSequentialPow:sy,scaleSequentialQuantile:BP,scaleSequentialSqrt:R7,scaleSequentialSymlog:FP,scaleSqrt:xF,scaleSymlog:SP,scaleThreshold:OP,scaleTime:$7,scaleUtc:L7,tickFormat:bP},Symbol.toStringTag,{value:"Module"}));var qn=e=>e.chartData,Ff=T([qn],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),HP=(e,t,r,n)=>n?Ff(e):qn(e),F7=(e,t,r)=>r?Ff(e):qn(e);function $n(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(se(t)&&se(r))return!0}return!1}function oj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(se(r))a=r;else if(typeof r=="function")return;if(se(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($n(o))return o}}function B7(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($n(n))return oj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(X(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Sw.test(a)){var c=Sw.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(X(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&kw.test(i)){var d=kw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($n(h))return t==null?h:oj(h,t,r)}}}var Rs=1e9,U7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cy,Ee=!0,Nr="[DecimalError] ",Ja=Nr+"Invalid argument: ",ly=Nr+"Exponent out of range: ",zs=Math.floor,za=Math.pow,W7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qt,st=1e7,je=7,VP=9007199254740991,vd=zs(VP/je),G={};G.absoluteValue=G.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};G.comparedTo=G.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};G.decimalPlaces=G.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*je;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};G.dividedBy=G.div=function(e){return Sn(this,new this.constructor(e))};G.dividedToIntegerBy=G.idiv=function(e){var t=this,r=t.constructor;return pe(Sn(t,new r(e),0,1),r.precision)};G.equals=G.eq=function(e){return!this.cmp(e)};G.exponent=function(){return Ke(this)};G.greaterThan=G.gt=function(e){return this.cmp(e)>0};G.greaterThanOrEqualTo=G.gte=function(e){return this.cmp(e)>=0};G.isInteger=G.isint=function(){return this.e>this.d.length-2};G.isNegative=G.isneg=function(){return this.s<0};G.isPositive=G.ispos=function(){return this.s>0};G.isZero=function(){return this.s===0};G.lessThan=G.lt=function(e){return this.cmp(e)<0};G.lessThanOrEqualTo=G.lte=function(e){return this.cmp(e)<1};G.logarithm=G.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qt))throw Error(Nr+"NaN");if(r.s<1)throw Error(Nr+(r.s?"NaN":"-Infinity"));return r.eq(Qt)?new n(0):(Ee=!1,t=Sn(xl(r,i),xl(e,i),i),Ee=!0,pe(t,a))};G.minus=G.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XP(t,e):GP(t,(e.s=-e.s,e))};G.modulo=G.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nr+"NaN");return r.s?(Ee=!1,t=Sn(r,e,0,1).times(e),Ee=!0,r.minus(t)):pe(new n(r),a)};G.naturalExponential=G.exp=function(){return YP(this)};G.naturalLogarithm=G.ln=function(){return xl(this)};G.negated=G.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};G.plus=G.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GP(t,e):XP(t,(e.s=-e.s,e))};G.precision=G.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ja+e);if(t=Ke(a)+1,n=a.d.length-1,r=n*je+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};G.squareRoot=G.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nr+"NaN")}for(e=Ke(l),Ee=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=rn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=zs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Sn(l,i,o+2)).times(.5),rn(i.d).slice(0,o)===(t=rn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(pe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ee=!0,pe(n,r)};G.times=G.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%st|0,t=l/st|0;i[a]=(i[a]+t)%st|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ee?pe(e,f.precision):e};G.toDecimalPlaces=G.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dn(e,0,Rs),t===void 0?t=n.rounding:dn(t,0,8),pe(r,e+Ke(r)+1,t))};G.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=di(n,!0):(dn(e,0,Rs),t===void 0?t=a.rounding:dn(t,0,8),n=pe(new a(n),e+1,t),r=di(n,!0,e+1)),r};G.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?di(a):(dn(e,0,Rs),t===void 0?t=i.rounding:dn(t,0,8),n=pe(new i(a),e+Ke(a)+1,t),r=di(n.abs(),!1,e+Ke(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};G.toInteger=G.toint=function(){var e=this,t=e.constructor;return pe(new t(e),Ke(e)+1,t.rounding)};G.toNumber=function(){return+this};G.toPower=G.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Qt);if(l=new c(l),!l.s){if(e.s<1)throw Error(Nr+"Infinity");return l}if(l.eq(Qt))return l;if(n=c.precision,e.eq(Qt))return pe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=VP){for(a=new c(Qt),t=Math.ceil(n/je+4),Ee=!1;r%2&&(a=a.times(l),cj(a.d,t)),r=zs(r/2),r!==0;)l=l.times(l),cj(l.d,t);return Ee=!0,e.s<0?new c(Qt).div(a):pe(a,n)}}else if(i<0)throw Error(Nr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ee=!1,a=e.times(xl(l,n+u)),Ee=!0,a=YP(a),a.s=i,a};G.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ke(a),n=di(a,r<=i.toExpNeg||r>=i.toExpPos)):(dn(e,1,Rs),t===void 0?t=i.rounding:dn(t,0,8),a=pe(new i(a),e,t),r=Ke(a),n=di(a,e<=r||r<=i.toExpNeg,e)),n};G.toSignificantDigits=G.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dn(e,1,Rs),t===void 0?t=n.rounding:dn(t,0,8)),pe(new n(r),e,t)};G.toString=G.valueOf=G.val=G.toJSON=G[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ke(e),r=e.constructor;return di(e,t<=r.toExpNeg||t>=r.toExpPos)};function GP(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ee?pe(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/je),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/st|0,c[i]%=st;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ee?pe(t,f):t}function dn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ja+e)}function rn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=je-n.length,r&&(i+=Jn(r)),i+=n;o=e[t],n=o+"",r=je-n.length,r&&(i+=Jn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Sn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%st|0,o=i/st|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*st+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,y,x,v,w,b,j,N,_,S,E,C=n.constructor,D=n.s==a.s?1:-1,O=n.d,A=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Nr+"Division by zero");for(c=n.e-a.e,S=A.length,N=O.length,m=new C(D),g=m.d=[],u=0;A[u]==(O[u]||0);)++u;if(A[u]>(O[u]||0)&&--c,i==null?w=i=C.precision:o?w=i+(Ke(n)-Ke(a))+1:w=i,w<0)return new C(0);if(w=w/je+2|0,u=0,S==1)for(d=0,A=A[0],w++;(u<N||d)&&w--;u++)b=d*st+(O[u]||0),g[u]=b/A|0,d=b%A|0;else{for(d=st/(A[0]+1)|0,d>1&&(A=e(A,d),O=e(O,d),S=A.length,N=O.length),j=S,y=O.slice(0,S),x=y.length;x<S;)y[x++]=0;E=A.slice(),E.unshift(0),_=A[0],A[1]>=st/2&&++_;do d=0,l=t(A,y,S,x),l<0?(v=y[0],S!=x&&(v=v*st+(y[1]||0)),d=v/_|0,d>1?(d>=st&&(d=st-1),f=e(A,d),h=f.length,x=y.length,l=t(f,y,h,x),l==1&&(d--,r(f,S<h?E:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<x&&f.unshift(0),r(y,f,x),l==-1&&(x=y.length,l=t(A,y,S,x),l<1&&(d++,r(y,S<x?E:A,x))),x=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[x++]=O[j]||0:(y=[O[j]],x=1);while((j++<N||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=c,pe(m,o?i+Ke(m)+1:i)}}();function YP(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ke(e)>16)throw Error(ly+Ke(e));if(!e.s)return new d(Qt);for(t==null?(Ee=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(za(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Qt),d.precision=l;;){if(a=pe(a.times(e),l),r=r.times(++c),o=i.plus(Sn(a,r,l)),rn(o.d).slice(0,l)===rn(i.d).slice(0,l)){for(;u--;)i=pe(i.times(i),l);return d.precision=f,t==null?(Ee=!0,pe(i,f)):i}i=o}}function Ke(e){for(var t=e.e*je,r=e.d[0];r>=10;r/=10)t++;return t}function ym(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(Nr+"LN10 precision limit exceeded");return pe(new e(e.LN10),t)}function Jn(e){for(var t="";e--;)t+="0";return t}function xl(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Nr+(m.s?"NaN":"-Infinity"));if(m.eq(Qt))return new y(0);if(t==null?(Ee=!1,u=x):u=t,m.eq(10))return t==null&&(Ee=!0),ym(y,u);if(u+=h,y.precision=u,r=rn(g),n=r.charAt(0),i=Ke(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=rn(m.d),n=r.charAt(0),f++;i=Ke(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1))}else return c=ym(y,u+2,x).times(i+""),m=xl(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=x,t==null?(Ee=!0,pe(m,x)):m;for(l=o=m=Sn(m.minus(Qt),m.plus(Qt),u),d=pe(m.times(m),u),a=3;;){if(o=pe(o.times(d),u),c=l.plus(Sn(o,new y(a),u)),rn(c.d).slice(0,u)===rn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(ym(y,u+2,x).times(i+""))),l=Sn(l,new y(f),u),y.precision=x,t==null?(Ee=!0,pe(l,x)):l;l=c,a+=2}}function lj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=zs(r/je),e.d=[],n=(r+1)%je,r<0&&(n+=je),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=je;n<a;)e.d.push(+t.slice(n,n+=je));t=t.slice(n),n=je-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>vd||e.e<-vd))throw Error(ly+r)}else e.s=0,e.e=0,e.d=[0];return e}function pe(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=je,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/je),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=je,a=n-je+o}if(r!==void 0&&(i=za(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/za(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ke(e),f.length=1,t=t-i-1,f[0]=za(10,(je-t%je)%je),e.e=zs(-t/je)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=za(10,je-n),f[d]=a>0?(u/za(10,o-a)%za(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==st&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=st)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>vd||e.e<-vd))throw Error(ly+Ke(e));return e}function XP(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ee?pe(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/je),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=st-1;--c[i],c[a]+=st}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?pe(t,m):t):new h(0)}function di(e,t,r){var n,a=Ke(e),i=rn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Jn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jn(-a-1)+i,r&&(n=r-o)>0&&(i+=Jn(n))):a>=o?(i+=Jn(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Jn(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Jn(n))),e.s<0?"-"+i:i}function cj(e,t){if(e.length>t)return e.length=t,!0}function QP(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ja+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return lj(o,i.toString())}else if(typeof i!="string")throw Error(Ja+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,W7.test(i))lj(o,i);else throw Error(Ja+i)}if(a.prototype=G,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=QP,a.config=a.set=q7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function q7(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,r,n,a=["precision",1,Rs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(zs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ja+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ja+r+": "+n);return this}var cy=QP(U7);Qt=new cy(1);const ue=cy;function ZP(e){var t;return e===0?t=1:t=Math.floor(new ue(e).abs().log(10).toNumber())+1,t}function JP(e,t,r){for(var n=new ue(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var eO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},tO=(e,t,r)=>{if(e.lte(0))return new ue(0);var n=ZP(e.toNumber()),a=new ue(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ue(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new ue(c.toNumber()):new ue(Math.ceil(c.toNumber()))},H7=(e,t,r)=>{var n=new ue(1),a=new ue(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ue(10).pow(ZP(e)-1),a=new ue(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ue(Math.floor(e)))}else e===0?a=new ue(Math.floor((t-1)/2)):r||(a=new ue(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(a.add(new ue(c-o).mul(n)).toNumber());return l},rO=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ue(0),tickMin:new ue(0),tickMax:new ue(0)};var o=tO(new ue(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ue(0):(l=new ue(t).add(r).div(2),l=l.sub(new ue(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ue(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?rO(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new ue(c).mul(o)),tickMax:l.add(new ue(u).mul(o))})},K7=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=eO([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return H7(l,a,i);var{step:d,tickMin:f,tickMax:h}=rO(l,c,o,i,0),m=JP(f,h.add(new ue(.1).mul(d)),d);return r>n?m.reverse():m},V7=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=eO([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=tO(new ue(l).sub(o).div(c-1),i,0),d=[...JP(new ue(o),new ue(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},nO=e=>e.rootProps.maxBarSize,G7=e=>e.rootProps.barGap,aO=e=>e.rootProps.barCategoryGap,Y7=e=>e.rootProps.barSize,Wl=e=>e.rootProps.stackOffset,iO=e=>e.rootProps.reverseStackOrder,uy=e=>e.options.chartName,dy=e=>e.rootProps.syncId,sO=e=>e.rootProps.syncMethod,fy=e=>e.options.eventEmitter,et={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ia={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:et.axis},Xr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:et.axis},Bf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Uf(e,t,r){if(r!=="auto")return r;if(e!=null)return ka(e,t)?"category":"number"}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){X7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X7(e,t,r){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dj={allowDataOverflow:Ia.allowDataOverflow,allowDecimals:Ia.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},fj={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:Xr.includeHidden,name:void 0,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},J7=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},hy=T([J7,BE],(e,t)=>{var r;if(e!=null)return e;var n=(r=Uf(t,"angleAxis",dj.type))!==null&&r!==void 0?r:"category";return yd(yd({},dj),{},{type:n})}),e9=(e,t)=>e.polarAxis.radiusAxis[t],my=T([e9,BE],(e,t)=>{var r;if(e!=null)return e;var n=(r=Uf(t,"radiusAxis",fj.type))!==null&&r!==void 0?r:"category";return yd(yd({},fj),{},{type:n})}),Wf=e=>e.polarOptions,py=T([Bn,Un,tt],aP),oO=T([Wf,py],(e,t)=>{if(e!=null)return Et(e.innerRadius,t,0)}),lO=T([Wf,py],(e,t)=>{if(e!=null)return Et(e.outerRadius,t,t*.8)}),t9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},cO=T([Wf],t9);T([hy,cO],Bf);var uO=T([py,oO,lO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([my,uO],Bf);var dO=T([ce,Wf,oO,lO,Bn,Un],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Et(o,a,a/2),cy:Et(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ie=(e,t)=>t,ql=(e,t,r)=>r;function gy(e){return e==null?void 0:e.id}function fO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=gy(l);u.forEach((f,h)=>{var m=i==null||a?h:String(Ne(f,i,null)),g=Ne(f,l.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:g}),o.set(m,y)})}}),Array.from(o.values())}function qf(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Hf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Kf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function r9(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var mt=e=>{var t=ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fs=e=>e.tooltip.settings.axisId;function n9(e){if(e in wo)return wo[e]();var t="scale".concat(Tl(e));if(t in wo)return wo[t]()}function hj(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(i){function o(){return i.apply(this,arguments)}return o.toString=function(){return i.toString()},o}(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var o=a[0],l=a[1];return o<=l?i>=o&&i<=l:i>=l&&i<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,o)=>{var l=e(i);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function mj(e,t,r){if(typeof e=="function")return hj(e.copy().domain(t).range(r));if(e!=null){var n=n9(e);if(n!=null)return n.domain(t).range(r),hj(n)}}var hO=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!$n(t)){for(var r,n,a=0;a<t.length;a++){var i=t[a];se(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return(t=i9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],at={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mO=(e,t)=>e.cartesianAxis.xAxis[t],Hn=(e,t)=>{var r=mO(e,t);return r??at},it={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$l},pO=(e,t)=>e.cartesianAxis.yAxis[t],Kn=(e,t)=>{var r=pO(e,t);return r??it},o9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vy=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??o9},ze=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return Kn(e,r);case"zAxis":return vy(e,r);case"angleAxis":return hy(e,r);case"radiusAxis":return my(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},l9=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return Kn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bs=(e,t,r)=>{switch(t){case"xAxis":return Hn(e,r);case"yAxis":return Kn(e,r);case"angleAxis":return hy(e,r);case"radiusAxis":return my(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function yy(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xy=e=>e.graphicalItems.cartesianItems,c9=T([Ie,ql],yy),by=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hl=T([xy,ze,c9],by,{memoizeOptions:{resultEqualityCheck:Kf}}),vO=T([Hl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qf)),yO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),u9=T([Hl],yO),wy=e=>e.map(t=>t.data).filter(Boolean).flat(1),d9=T([Hl],wy,{memoizeOptions:{resultEqualityCheck:Kf}}),jy=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},_y=T([d9,HP],jy),Ny=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ne(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ne(a,n)}))):e.map(n=>({value:n})),Vf=T([_y,ze,Hl],Ny);function xO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function au(e){if(cn(e)||e instanceof Date){var t=Number(e);if(se(t))return t}}function gj(e){if(Array.isArray(e)){var t=[au(e[0]),au(e[1])];return $n(t)?t:void 0}var r=au(e);if(r!=null)return[r,r]}function Ln(e){return e.map(au).filter(Wt)}function f9(e,t,r){return!r||typeof t!="number"||ln(t)?[]:r.length?Ln(r.flatMap(n=>{var a=Ne(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!se(i)||!se(o)))return[t-i,t+o]})):[]}var nt=e=>{var t=mt(e),r=Fs(e);return Bs(e,t,r)},Kl=T([nt],e=>e==null?void 0:e.dataKey),h9=T([vO,HP,nt],fO),bO=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(gy);return[l,{stackedData:BL(e,d,r),graphicalItems:u}]}))},P0=T([h9,vO,Wl,iO],bO),wO=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=KL(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},m9=T([ze],e=>e.allowDataOverflow),Sy=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ln(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},ky=T([ze],Sy),Ey=T([ky,m9],KP),p9=T([P0,qn,Ie,Ey],wO,{memoizeOptions:{resultEqualityCheck:Hf}}),Gf=e=>e.errorBars,g9=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>xO(r,n)),bd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},Py=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(v=>xO(a,v)),h=Ne(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=f9(l,h,f);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(i==null||g<i)&&(i=g),(o==null||y>o)&&(o=y)}var x=gj(h);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=gj(Ne(l,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),se(i)&&se(o))return[i,o]},v9=T([_y,ze,u9,Gf,Ie],Py,{memoizeOptions:{resultEqualityCheck:Hf}});function y9(e){var{value:t}=e;if(cn(t)||t instanceof Date)return t}var x9=(e,t,r)=>{var n=e.map(y9).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&yk(n))?dP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jO=e=>e.referenceElements.dots,Us=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),b9=T([jO,Ie,ql],Us),_O=e=>e.referenceElements.areas,w9=T([_O,Ie,ql],Us),NO=e=>e.referenceElements.lines,j9=T([NO,Ie,ql],Us),SO=(e,t)=>{if(e!=null){var r=Ln(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_9=T(b9,Ie,SO),kO=(e,t)=>{if(e!=null){var r=Ln(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},N9=T([w9,Ie],kO);function S9(e){var t;if(e.x!=null)return Ln([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ln(r)}function k9(e){var t;if(e.y!=null)return Ln([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ln(r)}var EO=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?S9(n):k9(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},E9=T([j9,Ie],EO),P9=T(_9,E9,N9,(e,t,r)=>bd(e,r,t)),Oy=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?bd(n,i,a):bd(i,a);return B7(t,u,e.allowDataOverflow)},O9=T([ze,ky,Ey,p9,v9,P9,ce,Ie],Oy,{memoizeOptions:{resultEqualityCheck:Hf}}),A9=[0,1],Ay=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=ka(t,i);if(u&&l==null){var d;return dP(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?x9(n,e,u):a==="expand"?A9:o}},Cy=T([ze,ce,_y,Vf,Wl,Ie,O9],Ay);function C9(e){return e in wo}var PO=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(Tl(n));return C9(i)?i:"point"}}},Oa=T([ze,gO,uy],PO);function Ty(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?mj(e.scale,r,n):mj(t,r,n)}var Iy=(e,t,r)=>{var n=Sy(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$n(e))return K7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$n(e))return V7(e,t.tickCount,t.allowDecimals)}},Dy=T([Cy,Bs,Oa],Iy),My=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$n(t)&&Array.isArray(r)&&r.length>0){var a,i,o=t[0],l=(a=r[0])!==null&&a!==void 0?a:0,c=t[1],u=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(o,l),Math.max(c,u)]}return t},T9=T([ze,Cy,Dy,Ie],My),I9=T(Vf,ze,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ln(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),OO=T(I9,ce,aO,tt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!se(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Et(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),D9=(e,t,r)=>{var n=Hn(e,t);return n==null||typeof n.padding!="string"?0:OO(e,"xAxis",t,r,n.padding)},M9=(e,t,r)=>{var n=Kn(e,t);return n==null||typeof n.padding!="string"?0:OO(e,"yAxis",t,r,n.padding)},$9=T(Hn,D9,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),L9=T(Kn,M9,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),R9=T([tt,$9,kf,Sf,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),z9=T([tt,ce,L9,kf,Sf,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return R9(e,r,n);case"yAxis":return z9(e,r,n);case"zAxis":return(a=vy(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return cO(e);case"radiusAxis":return uO(e,r);default:return}},AO=T([ze,Vl],Bf),F9=T([Oa,T9],hO),Yf=T([ze,Oa,F9,AO],Ty);T([Hl,Gf,Ie],g9);function CO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xf=(e,t)=>t,Qf=(e,t,r)=>r,B9=T(_f,Xf,Qf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CO)),U9=T(Nf,Xf,Qf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(CO)),TO=(e,t)=>({width:e.width,height:t.height}),W9=(e,t)=>{var r=typeof t.width=="number"?t.width:$l;return{width:r,height:e.height}},IO=T(tt,Hn,TO),q9=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},H9=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},K9=T(Un,tt,B9,Xf,Qf,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=TO(t,l);o==null&&(o=q9(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),V9=T(Bn,tt,U9,Xf,Qf,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=W9(t,l);o==null&&(o=H9(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),G9=(e,t)=>{var r=Hn(e,t);if(r!=null)return K9(e,r.orientation,r.mirror)},Y9=T([tt,Hn,G9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),X9=(e,t)=>{var r=Kn(e,t);if(r!=null)return V9(e,r.orientation,r.mirror)},Q9=T([tt,Kn,X9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),DO=T(tt,Kn,(e,t)=>{var r=typeof t.width=="number"?t.width:$l;return{width:r,height:e.height}}),vj=(e,t,r)=>{switch(t){case"xAxis":return IO(e,r).width;case"yAxis":return DO(e,r).height;default:return}},MO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=ka(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&yk(c))return c}},$y=T([ce,Vf,ze,Ie],MO),$O=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=ka(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Ly=T([ce,Vf,Bs,Ie],$O),yj=T([ce,l9,Oa,Yf,$y,Ly,Vl,Dy,Ie],(e,t,r,n,a,i,o,l,c)=>{if(t!=null){var u=ka(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Z9=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=ka(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?ct(i[0]-i[1])*2*g:g;var y=f||a;return y?y.map((x,v)=>{var w=o?o.indexOf(x):x,b=n.map(w);return se(b)?{index:v,coordinate:b+g,value:x,offset:g}:null}).filter(Wt):u&&l?l.map((x,v)=>{var w=n.map(x);return se(w)?{coordinate:w+g,value:x,index:v,offset:g}:null}).filter(Wt):n.ticks?n.ticks(h).map((x,v)=>{var w=n.map(x);return se(w)?{coordinate:w+g,value:x,index:v,offset:g}:null}).filter(Wt):n.domain().map((x,v)=>{var w=n.map(x);return se(w)?{coordinate:w+g,value:o?o[x]:x,index:v,offset:g}:null}).filter(Wt)}},LO=T([ce,Bs,Oa,Yf,Dy,Vl,$y,Ly,Ie],Z9),J9=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ka(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ct(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Wt):r.ticks?r.ticks(c).map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Wt):r.domain().map((d,f)=>{var h=r.map(d);return se(h)?{coordinate:h+u,value:a?a[d]:d,index:f,offset:u}:null}).filter(Wt)}},_s=T([ce,Bs,Yf,Vl,$y,Ly,Ie],J9),Ns=T(ze,Yf,(e,t)=>{if(!(e==null||t==null))return xd(xd({},e),{},{scale:t})}),eB=T([ze,Oa,Cy,AO],Ty);T((e,t,r)=>vy(e,r),eB,(e,t)=>{if(!(e==null||t==null))return xd(xd({},e),{},{scale:t})});var tB=T([ce,_f,Nf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RO=e=>e.options.defaultTooltipEventType,zO=e=>e.options.validateTooltipEventTypes;function FO(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ry(e,t){var r=RO(e),n=zO(e);return FO(t,r,n)}function rB(e){return Q(t=>Ry(t,e))}var BO=(e,t)=>{var r,n=Number(t);if(!(ln(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},nB=e=>e.tooltip.settings,aa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},aB={itemInteraction:{click:aa,hover:aa},axisInteraction:{click:aa,hover:aa},keyboardInteraction:aa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UO=Gt({name:"tooltip",initialState:aB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Se()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Br(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Se()},removeTooltipEntrySettings:{reducer(e,t){var r=Br(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Se()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:iB,replaceTooltipEntrySettings:sB,removeTooltipEntrySettings:oB,setTooltipSettingsState:lB,setActiveMouseOverItemIndex:WO,mouseLeaveItem:cB,mouseLeaveChart:qO,setActiveClickItemIndex:uB,setMouseOverAxisIndex:HO,setMouseClickAxisIndex:dB,setSyncInteraction:O0,setKeyboardInteraction:A0}=UO.actions,fB=UO.reducer;function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){hB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hB(e,t,r){return(t=mB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=pB(e,"string");return typeof t=="symbol"?t:t+""}function pB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vB(e){return e.index!=null}var KO=(e,t,r,n)=>{if(t==null)return aa;var a=gB(e,t,r);if(a==null)return aa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(vB(a)){if(i)return $c($c({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return $c($c({},aa),{},{coordinate:a.coordinate})};function yB(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function xB(e,t){var r=yB(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function bB(e,t,r){if(r==null||t==null)return!0;var n=Ne(e,t);return n==null||!$n(r)?!0:xB(n,r)}var zy=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!se(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(i,l)),u=t[c];return u==null||bB(u,r,n)?String(c):null},VO=(e,t,r,n,a,i,o)=>{if(i!=null){var l=o[0],c=l==null?void 0:l.getPosition(i);if(c!=null)return c;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},GO=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},YO=e=>e.options.tooltipPayloadSearcher,Ws=e=>e.tooltip;function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){wB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=_B(e,"string");return typeof t=="symbol"?t:t+""}function _B(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NB(e,t){return e??t}var XO=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:y,settings:x}=m,v=NB(y,l),w=Array.isArray(v)?EE(v,u,d):v,b=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,j=x==null?void 0:x.nameKey,N;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?N=N5(w,n,a):N=i(w,t,c,j),Array.isArray(N))N.forEach(S=>{var E=wj(wj({},x),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(Ew({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:Ne(S.payload,S.dataKey),name:S.name}))});else{var _;h.push(Ew({tooltipEntrySettings:x,dataKey:b,payload:N,value:Ne(N,b),name:(_=Ne(N,j))!==null&&_!==void 0?_:x==null?void 0:x.name}))}return h},f)}},Fy=T([nt,gO,uy],PO),SB=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kB=T([mt,Fs],yy),qs=T([SB,nt,kB],by,{memoizeOptions:{resultEqualityCheck:Kf}}),EB=T([qs],e=>e.filter(qf)),PB=T([qs],wy,{memoizeOptions:{resultEqualityCheck:Kf}}),Hs=T([PB,qn],jy),OB=T([EB,qn,nt],fO),By=T([Hs,nt,qs],Ny),QO=T([nt],Sy),AB=T([nt],e=>e.allowDataOverflow),ZO=T([QO,AB],KP),CB=T([qs],e=>e.filter(qf)),TB=T([OB,CB,Wl,iO],bO),IB=T([TB,qn,mt,ZO],wO),DB=T([qs],yO),MB=T([Hs,nt,DB,Gf,mt],Py,{memoizeOptions:{resultEqualityCheck:Hf}}),$B=T([jO,mt,Fs],Us),LB=T([$B,mt],SO),RB=T([_O,mt,Fs],Us),zB=T([RB,mt],kO),FB=T([NO,mt,Fs],Us),BB=T([FB,mt],EO),UB=T([LB,BB,zB],bd),WB=T([nt,QO,ZO,IB,MB,UB,ce,mt],Oy),Gl=T([nt,ce,Hs,By,Wl,mt,WB],Ay),qB=T([Gl,nt,Fy],Iy),HB=T([nt,Gl,qB,mt],My),JO=e=>{var t=mt(e),r=Fs(e),n=!1;return Vl(e,t,r,n)},eA=T([nt,JO],Bf),tA=T([nt,Fy,HB,eA],Ty),KB=T([ce,By,nt,mt],MO),VB=T([ce,By,nt,mt],$O),GB=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=ka(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ct(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>{var g=n.map(h);return se(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(Wt):n.domain().map((h,m)=>{var g=n.map(h);return se(g)?{coordinate:g+f,value:i?i[h]:h,index:m,offset:f}:null}).filter(Wt)}}},Vn=T([ce,nt,Fy,tA,JO,KB,VB,mt],GB),Uy=T([RO,zO,nB],(e,t,r)=>FO(r.shared,e,t)),rA=e=>e.tooltip.settings.trigger,Wy=e=>e.tooltip.settings.defaultIndex,Yl=T([Ws,Uy,rA,Wy],KO),fi=T([Yl,Hs,Kl,Gl],zy),nA=T([Vn,fi],BO),qy=T([Yl],e=>{if(e)return e.dataKey}),YB=T([Yl],e=>{if(e)return e.graphicalItemId}),aA=T([Ws,Uy,rA,Wy],GO),XB=T([Bn,Un,ce,tt,Vn,Wy,aA],VO),QB=T([Yl,XB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ZB=T([Yl],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),JB=T([aA,fi,qn,Kl,nA,YO,Uy],XO);T([JB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nU=()=>Q(nt),aU=()=>{var e=nU(),t=Q(Vn),r=Q(tA);return Qu(!e||!r?void 0:_j(_j({},e),{},{scale:r}),t)};function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){iU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lU=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},cU=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Ai(Ai(Ai({},n),He(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Ai(Ai(Ai({},n),He(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function uU(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var iA=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,h,m=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,y=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||g==null||y==null))if(ct(g-m)!==ct(y-g)){var v=[];if(ct(y-g)===ct(a[1]-a[0])){x=y;var w=g+a[1]-a[0];v[0]=Math.min(w,(w+m)/2),v[1]=Math.max(w,(w+m)/2)}else{x=m;var b=y+a[1]-a[0];v[0]=Math.min(g,(b+g)/2),v[1]=Math.max(g,(b+g)/2)}var j=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>j[0]&&e<=j[1]||e>=v[0]&&e<=v[1]){var N;return(N=r[l])===null||N===void 0?void 0:N.index}}else{var _=Math.min(m,y),S=Math.max(m,y);if(e>(_+g)/2&&e<=(S+g)/2){var E;return(E=r[l])===null||E===void 0?void 0:E.index}}}else if(t)for(var C=0;C<o;C++){var D=t[C];if(D!=null){var O=t[C+1],A=t[C-1];if(C===0&&O!=null&&e<=(D.coordinate+O.coordinate)/2||C===o-1&&A!=null&&e>(D.coordinate+A.coordinate)/2||C>0&&C<o-1&&A!=null&&O!=null&&e>(D.coordinate+A.coordinate)/2&&e<=(D.coordinate+O.coordinate)/2)return D.index}}return-1},dU=()=>Q(uy),Hy=(e,t)=>t,sA=(e,t,r)=>r,Ky=(e,t,r,n)=>n,fU=T(Vn,e=>ff(e,t=>t.coordinate)),Vy=T([Ws,Hy,sA,Ky],KO),Gy=T([Vy,Hs,Kl,Gl],zy),hU=(e,t,r)=>{if(t!=null){var n=Ws(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},oA=T([Ws,Hy,sA,Ky],GO),wd=T([Bn,Un,ce,tt,Vn,Ky,oA],VO),mU=T([Vy,wd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),lA=T([Vn,Gy],BO),pU=T([oA,Gy,qn,Kl,lA,YO,Hy],XO),gU=T([Vy,Gy],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),vU=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&uU(e,o)){var l=VL(e,t),c=iA(l,i,a,r,n),u=lU(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},yU=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=s8(e,r);if(l){var c=GL(l,t),u=iA(c,o,i,n,a),d=cU(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},xU=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?vU(e,t,n,a,i,o,l):yU(e,t,r,n,a,i,o)},bU=T(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),wU=T(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(et)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:r9}});function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=_U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SU={},kU={zIndexMap:Object.values(et).reduce((e,t)=>kj(kj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),SU)},EU=new Set(Object.values(et));function PU(e){return EU.has(e)}var cA=Gt({name:"zIndex",initialState:kU,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Se()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!PU(r)&&delete e.zIndexMap[r])},prepare:Se()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Se()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Se()}}}),{registerZIndexPortal:OU,unregisterZIndexPortal:AU,registerZIndexPortalElement:CU,unregisterZIndexPortalElement:TU}=cA.actions,IU=cA.reducer;function Vr(e){var{zIndex:t,children:r}=e,n=wR(),a=n&&t!==void 0&&t!==0,i=Yt(),o=be();p.useLayoutEffect(()=>a?(o(OU({zIndex:t})),()=>{o(AU({zIndex:t}))}):Ms,[o,t,a]);var l=Q(c=>bU(c,t,i));return a?l?Kd.createPortal(r,l):null:r}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DU(e,t,r){return(t=MU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LU(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function RU(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,y,x;if(d==="ScatterChart")g=f,y=bz,x=et.cursorLine;else if(d==="BarChart")g=wz(l,f,i,o),y=nP,x=et.cursorRectangle;else if(l==="radial"&&bk(f)){var{cx:v,cy:w,radius:b,startAngle:j,endAngle:N}=iP(f);g={cx:v,cy:w,startAngle:j,endAngle:N,innerRadius:b,outerRadius:b},y=oP,x=et.cursorLine}else g={points:u8(l,f,i)},y=Rv,x=et.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,S=Lc(Lc(Lc(Lc({stroke:"#ccc",pointerEvents:"none"},i),g),sl(c)),{},{payload:h,payloadIndex:m,className:fe("recharts-tooltip-cursor",_)});return p.createElement(Vr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},p.createElement(LU,{cursor:c,cursorComp:y,cursorProps:S}))}function zU(e){var t=aU(),r=zE(),n=$s(),a=dU();return t==null||r==null||n==null||a==null?null:p.createElement(RU,C0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var uA=p.createContext(null),FU=()=>p.useContext(uA),dA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,w,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];x.fn.apply(x.context,w)}else{var j=x.length,N;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),v){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!w)for(N=1,w=new Array(v-1);N<v;N++)w[N-1]=arguments[N];x[b].fn.apply(x[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(dA);var BU=dA.exports;const UU=zn(BU);var bl=new UU,T0="recharts.syncEvent.tooltip",Pj="recharts.syncEvent.brush",fA=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!ln(r))return e[r]}},WU={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},hA=Gt({name:"options",initialState:WU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qU=hA.reducer,{createEventEmitter:HU}=hA.actions;function KU(e){return e.tooltip.syncInteraction}var VU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mA=Gt({name:"chartData",initialState:VU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Oj,setDataStartEndIndexes:GU,setComputedData:LX}=mA.actions,YU=mA.reducer,XU=["x","y"];function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=JU(e,"string");return typeof t=="symbol"?t:t+""}function JU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eW(e,t){if(e==null)return{};var r,n,a=tW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rW(){var e=Q(dy),t=Q(fy),r=be(),n=Q(sO),a=Q(Vn),i=$s(),o=Ef(),l=Q(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return Ms;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y}=m,x=eW(m,XU),{x:v,y:w,width:b,height:j}=d.payload.sourceViewBox,N=Ci(Ci({},x),{},{x:o.x+(b?(g-v)/b:0)*o.width,y:o.y+(j?(y-w)/j:0)*o.height});r(Ci(Ci({},d),{},{payload:Ci(Ci({},d.payload),{},{coordinate:N})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,S);_=a[E]}else n==="value"&&(_=a.find(H=>String(H.value)===d.payload.label));var{coordinate:C}=d.payload;if(_==null||d.payload.active===!1||C==null||o==null){r(O0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:O}=C,A=Math.min(D,o.x+o.width),$=Math.min(O,o.y+o.height),R={x:i==="horizontal"?_.coordinate:A,y:i==="horizontal"?$:_.coordinate},Z=O0({active:d.payload.active,coordinate:R,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(Z)}}};return bl.on(T0,c),()=>{bl.off(T0,c)}},[l,r,t,e,n,a,i,o])}function nW(){var e=Q(dy),t=Q(fy),r=be();p.useEffect(()=>{if(e==null)return Ms;var n=(a,i,o)=>{t!==o&&e===a&&r(GU(i))};return bl.on(Pj,n),()=>{bl.off(Pj,n)}},[r,t,e])}function aW(){var e=be();p.useEffect(()=>{e(HU())},[e]),rW(),nW()}function iW(e,t,r,n,a,i){var o=Q(m=>hU(m,e,t)),l=Q(fy),c=Q(dy),u=Q(sO),d=Q(KU),f=d==null?void 0:d.active,h=Ef();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=O0({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});bl.emit(T0,c,m,l)}},[f,r,o,a,n,l,c,u,i,h])}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return(t=oW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e){return e.dataKey}function uW(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(JR,t)}var Ij=[],dW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rc(e){var t,r,n=ft(e,dW),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:v,shared:w,trigger:b,defaultIndex:j,portal:N,axisId:_}=n,S=be(),E=typeof j=="number"?String(j):j;p.useEffect(()=>{S(lB({shared:w,trigger:b,axisId:_,active:a,defaultIndex:E}))},[S,w,b,_,a,E]);var C=Ef(),D=ZE(),O=rB(w),{activeIndex:A,isActive:$}=(t=Q(he=>gU(he,O,b,E)))!==null&&t!==void 0?t:{},R=Q(he=>pU(he,O,b,E)),Z=Q(he=>lA(he,O,b,E)),H=Q(he=>mU(he,O,b,E)),J=R,L=FU(),B=(r=a??$)!==null&&r!==void 0?r:!1,[W,ee]=Qk([J,B]),ne=O==="axis"?Z:void 0;iW(O,b,H,ne,A,B);var Oe=N??L;if(Oe==null||C==null||O==null)return null;var me=J??Ij;B||(me=Ij),u&&me.length&&(me=zk(me.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),h,cW));var wt=me.length>0,Ve=p.createElement(sz,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:B,coordinate:H,hasPayload:wt,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:C,wrapperStyle:x,lastBoundingBox:W,innerRef:ee,hasPortalFromProps:!!N},uW(c,Tj(Tj({},n),{},{payload:me,label:ne,active:B,activeIndex:A,coordinate:H,accessibilityLayer:D})));return p.createElement(p.Fragment,null,Kd.createPortal(Ve,Oe),B&&p.createElement(zU,{cursor:v,tooltipEventType:O,coordinate:H,payload:me,index:A}))}var Zf=e=>null;Zf.displayName="Cell";function fW(e,t,r){return(t=hW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pW{constructor(t){fW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW={cacheSize:2e3,enableCache:!0},pA=gW({},bW),Mj=new pW(pA.cacheSize),wW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$j="recharts_measurement_span";function jW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var Lj=(e,t)=>{try{var r=document.getElementById($j);r||(r=document.createElement("span"),r.setAttribute("id",$j),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Lo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cf.isSsr)return{width:0,height:0};if(!pA.enableCache)return Lj(t,r);var n=jW(t,r),a=Mj.get(n);if(a)return a;var i=Lj(t,r);return Mj.set(n,i),i},gA;function _W(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OW=["cm","mm","pt","pc","in","Q","px"];function AW(e){return OW.includes(e)}var Yi="NaN";function CW(e,t){return e*PW[t]}class yt{static parse(t){var r,[,n,a]=(r=EW.exec(t))!==null&&r!==void 0?r:[];return n==null?yt.NaN:new yt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ln(t)&&(this.unit=""),r!==""&&!kW.test(r)&&(this.num=NaN,this.unit=""),AW(r)&&(this.num=CW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new yt(NaN,""):new yt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yt(NaN,""):new yt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yt(NaN,""):new yt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yt(NaN,""):new yt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ln(this.num)}}gA=yt;_W(yt,"NaN",new gA(NaN,""));function vA(e){if(e==null||e.includes(Yi))return Yi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Rj.exec(t))!==null&&r!==void 0?r:[],o=yt.parse(n??""),l=yt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Yi;t=t.replace(Rj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=zj.exec(t))!==null&&u!==void 0?u:[],m=yt.parse(d??""),g=yt.parse(h??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Yi;t=t.replace(zj,y.toString())}return t}var Fj=/\(([^()]*)\)/;function TW(e){for(var t=e,r;(r=Fj.exec(t))!=null;){var[,n]=r;t=t.replace(Fj,vA(n))}return t}function IW(e){var t=e.replace(/\s+/g,"");return t=TW(t),t=vA(t),t}function DW(e){try{return IW(e)}catch{return Yi}}function xm(e){var t=DW(e.slice(5,-1));return t===Yi?"":t}var MW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$W=["dx","dy","angle","className","breakAll"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(null,arguments)}function Bj(e,t){if(e==null)return{};var r,n,a=LW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yA=/[ \f\n\r\t\v\u2028\u2029]+/,xA=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];dt(t)||(r?a=t.toString().split(""):a=t.toString().split(yA));var i=a.map(l=>({word:l,width:Lo(l,n).width})),o=r?0:Lo("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function RW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var bA=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),wA=e=>e.reduce((t,r)=>t.width>r.width?t:r),zW="",Uj=(e,t,r,n,a,i,o,l)=>{var c=e.slice(0,t),u=xA({breakAll:r,style:n,children:c+zW});if(!u)return[!1,[]];var d=bA(u.wordsWithComputedWidth,i,o,l),f=d.length>a||wA(d).width>Number(i);return[f,d]},FW=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=X(i),d=String(o),f=bA(t,n,r,a);if(!u||a)return f;var h=f.length>i||wA(f).width>Number(n);if(!h)return f;for(var m=0,g=d.length-1,y=0,x;m<=g&&y<=d.length-1;){var v=Math.floor((m+g)/2),w=v-1,[b,j]=Uj(d,w,c,l,i,n,r,a),[N]=Uj(d,v,c,l,i,n,r,a);if(!b&&!N&&(m=v+1),b&&N&&(g=v-1),!b&&N){x=j;break}y++}return x||f},Wj=e=>{var t=dt(e)?[]:e.toString().split(yA);return[{words:t,width:void 0}]},BW=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Cf.isSsr){var l,c,u=xA({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return Wj(n);return FW({breakAll:i,children:n,maxLines:o,style:a},l,c,t,!!r)}return Wj(n)},jA="#808080",UW={angle:0,breakAll:!1,capHeight:"0.71em",fill:jA,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jf=p.forwardRef((e,t)=>{var r=ft(e,UW),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Bj(r,MW),h=p.useMemo(()=>BW({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:y,className:x,breakAll:v}=f,w=Bj(f,$W);if(!cn(n)||!cn(a)||h.length===0)return null;var b=Number(n)+(X(m)?m:0),j=Number(a)+(X(g)?g:0);if(!se(b)||!se(j))return null;var N;switch(d){case"start":N=xm("calc(".concat(o,")"));break;case"middle":N=xm("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:N=xm("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[],S=h[0];if(c&&S!=null){var E=S.width,{width:C}=f;_.push("scale(".concat(X(C)&&X(E)?C/E:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(b,", ").concat(j,")")),_.length&&(w.transform=_.join(" ")),p.createElement("text",I0({},jr(w),{ref:t,x:b,y:j,className:fe("recharts-text",x),textAnchor:u,fill:l.includes("url")?jA:l}),h.map((D,O)=>{var A=D.words.join(v?"":" ");return p.createElement("tspan",{x:b,dy:O===0?N:i,key:"".concat(A,"-").concat(O)},A)}))});Jf.displayName="Text";function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KW=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a,clamp:i}=e,{x:o,y:l,height:c,upperWidth:u,lowerWidth:d}=Iv(t),f=o,h=o+(u-d)/2,m=(f+h)/2,g=(u+d)/2,y=f+u/2,x=c>=0?1:-1,v=x*n,w=x>0?"end":"start",b=x>0?"start":"end",j=u>=0?1:-1,N=j*n,_=j>0?"end":"start",S=j>0?"start":"end",E=a;if(r==="top"){var C={x:f+u/2,y:l-v,horizontalAnchor:"middle",verticalAnchor:w};return i&&E&&(C.height=Math.max(l-E.y,0),C.width=u),C}if(r==="bottom"){var D={x:h+d/2,y:l+c+v,horizontalAnchor:"middle",verticalAnchor:b};return i&&E&&(D.height=Math.max(E.y+E.height-(l+c),0),D.width=d),D}if(r==="left"){var O={x:m-N,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"};return i&&E&&(O.width=Math.max(O.x-E.x,0),O.height=c),O}if(r==="right"){var A={x:m+g+N,y:l+c/2,horizontalAnchor:S,verticalAnchor:"middle"};return i&&E&&(A.width=Math.max(E.x+E.width-A.x,0),A.height=c),A}var $=i&&E?{width:g,height:c}:{};return r==="insideLeft"?Qr({x:m+N,y:l+c/2,horizontalAnchor:S,verticalAnchor:"middle"},$):r==="insideRight"?Qr({x:m+g-N,y:l+c/2,horizontalAnchor:_,verticalAnchor:"middle"},$):r==="insideTop"?Qr({x:f+u/2,y:l+v,horizontalAnchor:"middle",verticalAnchor:b},$):r==="insideBottom"?Qr({x:h+d/2,y:l+c-v,horizontalAnchor:"middle",verticalAnchor:w},$):r==="insideTopLeft"?Qr({x:f+N,y:l+v,horizontalAnchor:S,verticalAnchor:b},$):r==="insideTopRight"?Qr({x:f+u-N,y:l+v,horizontalAnchor:_,verticalAnchor:b},$):r==="insideBottomLeft"?Qr({x:h+N,y:l+c-v,horizontalAnchor:S,verticalAnchor:w},$):r==="insideBottomRight"?Qr({x:h+d-N,y:l+c-v,horizontalAnchor:_,verticalAnchor:w},$):r&&typeof r=="object"&&(X(r.x)||oi(r.x))&&(X(r.y)||oi(r.y))?Qr({x:o+Et(r.x,g),y:l+Et(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},$):Qr({x:y,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},$)},VW=["labelRef"],GW=["content"];function Hj(e,t){if(e==null)return{};var r,n,a=YW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(null,arguments)}var _A=p.createContext(null),JW=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return p.createElement(_A.Provider,{value:c},l)},NA=()=>{var e=p.useContext(_A),t=Ef();return e||(t?Iv(t):void 0)},eq=p.createContext(null),tq=()=>{var e=p.useContext(eq),t=Q(dO);return e||t},rq=e=>{var{value:t,formatter:r}=e,n=dt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Yy=e=>e!=null&&typeof e=="function",nq=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},aq=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,y=nq(f,h),x=y>=0?1:-1,v,w;switch(t){case"insideStart":v=f+x*i,w=m;break;case"insideEnd":v=h-x*i,w=!m;break;case"end":v=h+x*i,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var b=He(l,c,g,v),j=He(l,c,g,v+(w?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),_=dt(e.id)?ol("recharts-radial-line-"):e.id;return p.createElement("text",yn({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:_,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(_)},r))},iq=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=He(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=He(n,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},iu=e=>e!=null&&"cx"in e&&X(e.cx),sq={angle:0,offset:5,zIndex:et.label,position:"middle",textBreakAll:!1};function oq(e){if(!iu(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function ea(e){var t=ft(e,sq),{viewBox:r,parentViewBox:n,position:a,value:i,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=t,f=tq(),h=NA(),m=a==="center"?h:f??h,g,y,x;r==null?g=m:iu(r)?g=r:g=Iv(r);var v=oq(g);if(!g||dt(i)&&dt(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var w=jo(jo({},t),{},{viewBox:g});if(p.isValidElement(l)){var b=Hj(w,VW);return p.cloneElement(l,b)}if(typeof l=="function"){var j=Hj(w,GW);if(y=p.createElement(l,j),p.isValidElement(y))return y}else y=rq(t);var N=jr(t);if(iu(g)){if(a==="insideStart"||a==="insideEnd"||a==="end")return aq(t,a,y,N,g);x=iq(g,t.offset,t.position)}else{if(!v)return null;var _=KW({viewBox:v,position:a,offset:t.offset,parentViewBox:iu(n)?void 0:n,clamp:!0});x=jo(jo({x:_.x,y:_.y,textAnchor:_.horizontalAnchor,verticalAnchor:_.verticalAnchor},_.width!==void 0?{width:_.width}:{}),_.height!==void 0?{height:_.height}:{})}return p.createElement(Vr,{zIndex:t.zIndex},p.createElement(Jf,yn({ref:d,className:fe("recharts-label",c)},N,x,{textAnchor:RW(N.textAnchor)?N.textAnchor:x.textAnchor,breakAll:u}),y))}ea.displayName="Label";var lq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(ea,yn({key:"label-implicit"},n)):cn(e)?p.createElement(ea,yn({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===ea?p.cloneElement(e,jo({key:"label-implicit"},n)):p.createElement(ea,yn({key:"label-implicit",content:e},n)):Yy(e)?p.createElement(ea,yn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(ea,yn({},e,{key:"label-implicit"},n)):null};function cq(e){var{label:t,labelRef:r}=e,n=NA();return lq(t,n,r)||null}var SA={},kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(kA);var EA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(EA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA,r=EA,n=cf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(SA);var uq=SA.last;const dq=zn(uq);var fq=["valueAccessor"],hq=["dataKey","clockWise","id","textBreakAll","zIndex"];function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function Vj(e,t){if(e==null)return{};var r,n,a=mq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pq=e=>Array.isArray(e.value)?dq(e.value):e.value,PA=p.createContext(void 0),gq=PA.Provider,OA=p.createContext(void 0),vq=OA.Provider;function yq(){return p.useContext(PA)}function xq(){return p.useContext(OA)}function su(e){var{valueAccessor:t=pq}=e,r=Vj(e,fq),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,c=Vj(r,hq),u=yq(),d=xq(),f=u||d;return!f||!f.length?null:p.createElement(Vr,{zIndex:l??et.label},p.createElement(Mt,{className:"recharts-label-list"},f.map((h,m)=>{var g,y=dt(n)?t(h,m):Ne(h.payload,n),x=dt(i)?{}:{id:"".concat(i,"-").concat(m)};return p.createElement(ea,jd({key:"label-".concat(m)},jr(h),c,x,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}su.displayName="LabelList";function AA(e){var{label:t}=e;return t?t===!0?p.createElement(su,{key:"labelList-implicit"}):p.isValidElement(t)||Yy(t)?p.createElement(su,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(su,jd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var CA=e=>e.graphicalItems.polarItems,bq=T([Ie,ql],yy),eh=T([CA,ze,bq],by),wq=T([eh],wy),th=T([wq,Ff],jy),jq=T([th,ze,eh],Ny);T([th,ze,eh],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=Ne(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ne(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Gj=()=>{},_q=T([th,ze,eh,Gf,Ie],Py),Nq=T([ze,ky,Ey,Gj,_q,Gj,ce,Ie],Oy),TA=T([ze,ce,th,jq,Wl,Ie,Nq],Ay),Sq=T([TA,Bs,Oa],Iy),kq=T([ze,TA,Sq,Ie],My);T([Oa,kq],hO);var Eq={radiusAxis:{},angleAxis:{}},Pq=Gt({name:"polarAxis",initialState:Eq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Oq=Pq.reducer;function IA(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iq=(e,t)=>t,Xy=T([CA,Iq],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Dq=[],Qy=(e,t,r)=>(r==null?void 0:r.length)===0?Dq:r,DA=T([Ff,Xy,Qy],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>Xj(Xj({},t.presentationProps),i.props))),a!=null)return a}}),Mq=T([DA,Xy,Qy],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=Ne(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:jf(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),$q=T([DA,Xy,Qy,tt],(e,t,r,n)=>{if(!(t==null||e==null))return LH({offset:n,pieSettings:t,displayedData:e,cells:r})}),MA={exports:{}},ge={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy=Symbol.for("react.transitional.element"),Jy=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),ih=Symbol.for("react.consumer"),sh=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),uh=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),Lq=Symbol.for("react.view_transition"),Rq=Symbol.for("react.client.reference");function kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Zy:switch(e=e.type,e){case rh:case ah:case nh:case lh:case ch:case Lq:return e;default:switch(e=e&&e.$$typeof,e){case sh:case oh:case dh:case uh:return e;case ih:return e;default:return t}}case Jy:return t}}}ge.ContextConsumer=ih;ge.ContextProvider=sh;ge.Element=Zy;ge.ForwardRef=oh;ge.Fragment=rh;ge.Lazy=dh;ge.Memo=uh;ge.Portal=Jy;ge.Profiler=ah;ge.StrictMode=nh;ge.Suspense=lh;ge.SuspenseList=ch;ge.isContextConsumer=function(e){return kr(e)===ih};ge.isContextProvider=function(e){return kr(e)===sh};ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zy};ge.isForwardRef=function(e){return kr(e)===oh};ge.isFragment=function(e){return kr(e)===rh};ge.isLazy=function(e){return kr(e)===dh};ge.isMemo=function(e){return kr(e)===uh};ge.isPortal=function(e){return kr(e)===Jy};ge.isProfiler=function(e){return kr(e)===ah};ge.isStrictMode=function(e){return kr(e)===nh};ge.isSuspense=function(e){return kr(e)===lh};ge.isSuspenseList=function(e){return kr(e)===ch};ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rh||e===ah||e===nh||e===lh||e===ch||typeof e=="object"&&e!==null&&(e.$$typeof===dh||e.$$typeof===uh||e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===oh||e.$$typeof===Rq||e.getModuleId!==void 0)};ge.typeOf=kr;MA.exports=ge;var zq=MA.exports,Qj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Zj=null,bm=null,$A=e=>{if(e===Zj&&Array.isArray(bm))return bm;var t=[];return p.Children.forEach(e,r=>{dt(r)||(zq.isFragment(r)?t=t.concat($A(r.props.children)):t.push(r))}),bm=t,Zj=e,t};function ex(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Qj(a)):n=[Qj(t)],$A(e).forEach(a=>{var i=si(a,"type.displayName")||si(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var LA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(LA);var Fq=LA.isPlainObject;const Bq=zn(Fq);var Jj,e_,t_,r_,n_;function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_d.apply(null,arguments)}function uo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s_=(e,t,r,n,a)=>{var i=r-n,o;return o=Me(Jj||(Jj=uo(["M ",",",""])),e,t),o+=Me(e_||(e_=uo(["L ",",",""])),e+r,t),o+=Me(t_||(t_=uo(["L ",",",""])),e+r-i/2,t+a),o+=Me(r_||(r_=uo(["L ",",",""])),e+r-i/2-n,t+a),o+=Me(n_||(n_=uo(["L ",","," Z"])),e,t),o},Hq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kq=e=>{var t=ft(e,Hq),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,g]=p.useState(-1),y=p.useRef(a),x=p.useRef(i),v=p.useRef(o),w=p.useRef(r),b=p.useRef(n),j=If(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var R=h.current.getTotalLength();R&&g(R)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=fe("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",_d({},jr(t),{className:N,d:s_(r,n,a,i,o)})));var _=y.current,S=x.current,E=v.current,C=w.current,D=b.current,O="0px ".concat(m===-1?1:m,"px"),A="".concat(m,"px 0px"),$=JE(["strokeDasharray"],u,c);return p.createElement(Tf,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},R=>{var Z=Qe(_,a,R),H=Qe(S,i,R),J=Qe(E,o,R),L=Qe(C,r,R),B=Qe(D,n,R);h.current&&(y.current=Z,x.current=H,v.current=J,w.current=L,b.current=B);var W=R>0?{transition:$,strokeDasharray:A}:{strokeDasharray:O};return p.createElement("path",_d({},jr(t),{className:N,d:s_(L,B,Z,H,J),ref:h,style:i_(i_({},W),t.style)}))})},Vq=["option","shapeType","activeClassName"];function Gq(e,t){if(e==null)return{};var r,n,a=Yq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e,t){return Nd(Nd({},t),e)}function eH(e,t){return e==="symbols"}function l_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(nP,r);case"trapezoid":return p.createElement(Kq,r);case"sector":return p.createElement(oP,r);case"symbols":if(eH(t))return p.createElement(hv,r);break;case"curve":return p.createElement(Rv,r);default:return null}}function tH(e){return p.isValidElement(e)?e.props:e}function RA(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Gq(e,Vq),i;if(p.isValidElement(t))i=p.cloneElement(t,Nd(Nd({},a),tH(t)));else if(typeof t=="function")i=t(a,a.index);else if(Bq(t)&&typeof t!="boolean"){var o=Jq(t,a);i=p.createElement(l_,{shapeType:r,elementProps:o})}else{var l=a;i=p.createElement(l_,{shapeType:r,elementProps:l})}return a.isActive?p.createElement(Mt,{className:n},i):i}var tx=(e,t,r)=>{var n=be();return(a,i)=>o=>{e==null||e(a,i,o),n(WO({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},rx=e=>{var t=be();return(r,n)=>a=>{e==null||e(r,n,a),t(cB())}},nx=(e,t,r)=>{var n=be();return(a,i)=>o=>{e==null||e(a,i,o),n(uB({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function zA(e){var{tooltipEntrySettings:t}=e,r=be(),n=Yt(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(iB(t)):a.current!==t&&r(sB({prev:a.current,next:t})),a.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{a.current&&(r(oB(a.current)),a.current=null)},[r]),null}function rH(e){var{legendPayload:t}=e,r=be(),n=Yt(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(YE(t)):a.current!==t&&r(XE({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(QE(a.current)),a.current=null)},[r]),null}function nH(e){var{legendPayload:t}=e,r=be(),n=Q(ce),a=p.useRef(null);return p.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(YE(t)):a.current!==t&&r(XE({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(QE(a.current)),a.current=null)},[r]),null}var wm,aH=()=>{var[e]=p.useState(()=>ol("uid-"));return e},iH=(wm=$C.useId)!==null&&wm!==void 0?wm:aH;function sH(e,t){var r=iH();return t||(e?"".concat(e,"-").concat(r):r)}var oH=p.createContext(void 0),FA=e=>{var{id:t,type:r,children:n}=e,a=sH("recharts-".concat(r),t);return p.createElement(oH.Provider,{value:a},n(a))},lH={cartesianItems:[],polarItems:[]},BA=Gt({name:"graphicalItems",initialState:lH,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Se()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Br(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Se()},removeCartesianGraphicalItem:{reducer(e,t){var r=Br(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Se()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Se()},removePolarGraphicalItem:{reducer(e,t){var r=Br(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Se()}}}),{addCartesianGraphicalItem:cH,replaceCartesianGraphicalItem:uH,removeCartesianGraphicalItem:dH,addPolarGraphicalItem:fH,removePolarGraphicalItem:hH}=BA.actions,mH=BA.reducer,pH=e=>{var t=be(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(cH(e)):r.current!==e&&t(uH({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(dH(r.current)),r.current=null)},[t]),null},gH=p.memo(pH);function vH(e){var t=be();return p.useLayoutEffect(()=>(t(fH(e)),()=>{t(hH(e))}),[t,e]),null}var yH=["key"],xH=["onMouseEnter","onClick","onMouseLeave"],bH=["id"],wH=["id"];function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(null,arguments)}function fh(e,t){if(e==null)return{};var r,n,a=SH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kH(e){var t=p.useMemo(()=>ex(e.children,Zf),[e.children]),r=Q(n=>Mq(n,e.id,t));return r==null?null:p.createElement(nH,{legendPayload:r})}var EH=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),getPosition:h=>{var m;return(m=n[Number(h)])===null||m===void 0?void 0:m.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:jf(l,t),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return p.createElement(zA,{tooltipEntrySettings:f})}),PH=(e,t)=>e>t?"start":e<t?"end":"middle",OH=(e,t,r)=>Et(typeof t=="function"?t(e):t,r,r*.8),AH=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=aP(i,o),c=a+Et(e.cx,i,i/2),u=n+Et(e.cy,o,o/2),d=Et(e.innerRadius,l,0),f=OH(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},CH=(e,t)=>{var r=ct(t-e),n=Math.min(Math.abs(t-e),360);return r*n},TH=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),n=fh(t,yH);return p.createElement(Rv,ba({},n,{type:"linear",className:r}))},IH=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=fe("recharts-pie-label-text",IA(e));return p.createElement(Jf,ba({},t,{alignmentBaseline:"middle",className:a}),n)};function DH(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=Wr(r),c=sl(a),u=sl(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,y=He(h.cx,h.cy,h.outerRadius+d,g),x=Le(Le(Le(Le({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:PH(y.x,h.cx)},y),v=Le(Le(Le(Le({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[He(h.cx,h.cy,h.outerRadius,g),y],key:"line"});return p.createElement(Vr,{zIndex:et.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},p.createElement(Mt,null,i&&TH(i,v),IH(a,x,Ne(h,o))))});return p.createElement(Mt,{className:"recharts-pie-labels"},f)}function MH(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(AA,{label:a}):p.createElement(DH,{sectors:t,props:r,showLabels:n})}function $H(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:o}=e,l=Q(fi),c=Q(qy),u=Q(YB),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,m=fh(a,xH),g=tx(d,a.dataKey,o),y=rx(h),x=nx(f,a.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((v,w)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var b=u==null||u===o,j=String(w)===l&&(c==null||a.dataKey===c)&&b,N=l?n:null,_=r&&j?r:N,S=Le(Le({},v),{},{stroke:v.stroke,tabIndex:-1,[CE]:w,[TE]:o});return p.createElement(Mt,ba({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Il(m,v,w),{onMouseEnter:g(v,w),onMouseLeave:y(v,w),onClick:x(v,w)}),p.createElement(RA,ba({option:i??_,index:w,shapeType:"sector",isActive:j},S)))}))}function LH(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=CH(l,c),g=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(_=>Ne(_,u,0)!==0).length,v=(g>=360?x:x-1)*y,w=g-x*h-v,b=n.reduce((_,S)=>{var E=Ne(S,u,0);return _+(X(E)?E:0)},0),j;if(b>0){var N;j=n.map((_,S)=>{var E=Ne(_,u,0),C=Ne(_,d,S),D=AH(r,i,_),O=(X(E)?E:0)/b,A,$=Le(Le({},_),a&&a[S]&&a[S].props);S?A=N.endAngle+ct(m)*y*(E!==0?1:0):A=l;var R=A+ct(m)*((E!==0?h:0)+O*w),Z=(A+R)/2,H=(D.innerRadius+D.outerRadius)/2,J=[{name:C,value:E,payload:$,dataKey:u,type:f,graphicalItemId:r.id}],L=He(D.cx,D.cy,H,Z);return N=Le(Le(Le(Le({},r.presentationProps),{},{percent:O,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:J,midAngle:Z,middleRadius:H,tooltipPosition:L},$),D),{},{value:E,dataKey:u,startAngle:A,endAngle:R,payload:$,paddingAngle:ct(m)*y}),N})}return j}function RH(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(vq,{value:t?a:void 0},n)}function zH(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=If(t,"recharts-pie-"),g=r.current,[y,x]=p.useState(!1),v=p.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),w=p.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return p.createElement(RH,{showLabels:!y,sectors:a},p.createElement(Tf,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationStart:w,onAnimationEnd:v,key:m},b=>{var j,N=[],_=a&&a[0],S=(j=_==null?void 0:_.startAngle)!==null&&j!==void 0?j:0;return a==null||a.forEach((E,C)=>{var D=g&&g[C],O=C>0?si(E,"paddingAngle",0):0;if(D){var A=Qe(D.endAngle-D.startAngle,E.endAngle-E.startAngle,b),$=Le(Le({},E),{},{startAngle:S+O,endAngle:S+A+O});N.push($),S=$.endAngle}else{var{endAngle:R,startAngle:Z}=E,H=Qe(0,R-Z,b),J=Le(Le({},E),{},{startAngle:S+O,endAngle:S+H+O});N.push(J),S=J.endAngle}}),r.current=N,p.createElement(Mt,null,p.createElement($H,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),p.createElement(MH,{showLabels:!y,sectors:a,props:t}),t.children)}var FH={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:et.area};function BH(e){var{id:t}=e,r=fh(e,bH),{hide:n,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>ex(e.children,Zf),[e.children]),l=Q(d=>$q(d,t,o)),c=p.useRef(null),u=fe("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Mt,{tabIndex:i,className:u})):p.createElement(Vr,{zIndex:e.zIndex},p.createElement(EH,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),p.createElement(Mt,{tabIndex:i,className:u},p.createElement(zH,{props:Le(Le({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function D0(e){var t=ft(e,FH),{id:r}=t,n=fh(t,wH),a=Wr(n);return p.createElement(FA,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(vH,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(kH,ba({},n,{id:i})),p.createElement(BH,ba({},n,{id:i}))))}D0.displayName="Pie";function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=WH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UA=0,HH={xAxis:{},yAxis:{},zAxis:{}},WA=Gt({name:"cartesianAxis",initialState:HH,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Se()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Se()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Se()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Se()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Se()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Se()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Se()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Se()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Se()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((i=o[0])!==null&&i!==void 0?i:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=d_(d_({},a),{},{width:n,widthHistory:l})}}}}),{addXAxis:KH,replaceXAxis:VH,removeXAxis:GH,addYAxis:YH,replaceYAxis:XH,removeYAxis:QH,addZAxis:RX,replaceZAxis:zX,removeZAxis:FX,updateYAxisWidth:ZH}=WA.actions,JH=WA.reducer,eK=T([tt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tK=T([eK,Bn,Un],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qA=()=>Q(tK),f_=(e,t,r)=>{var n=r??e;if(!dt(n))return Et(n,t,0)},rK=(e,t,r)=>{var n={},a=e.filter(qf),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},n),l=Object.entries(o).map(u=>{var d,[f,h]=u,m=h.map(y=>y.dataKey),g=f_(t,r,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:m,barSize:g}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=f_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sK(e,t,r,n,a){var i,o=n.length;if(!(o<1)){var l=Et(e,r,0,!0),c,u=[];if(se((i=n[0])===null||i===void 0?void 0:i.barSize)){var d=!1,f=r/o,h=n.reduce((w,b)=>w+(b.barSize||0),0);h+=(o-1)*l,h>=r&&(h-=(o-1)*l,l=0),h>=r&&f>0&&(d=!0,f*=.9,h=o*f);var m=(r-h)/2>>0,g={offset:m-l,size:0};c=n.reduce((w,b)=>{var j,N={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g.offset+g.size+l,size:d?f:(j=b.barSize)!==null&&j!==void 0?j:0}},_=[...w,N];return g=N.position,_},u)}else{var y=Et(t,r,0,!0);r-2*y-(o-1)*l<=0&&(l=0);var x=(r-2*y-(o-1)*l)/o;x>1&&(x>>=0);var v=se(a)?Math.min(x,a):x;c=n.reduce((w,b,j)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:y+(x+l)*j+(x-v)/2,size:v}}],u)}return c}}var oK=(e,t,r,n,a,i,o)=>{var l=dt(o)?t:o,c=sK(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>zc(zc({},u),{},{position:zc(zc({},u.position),{},{offset:u.position.offset-a/2})}))),c},lK=(e,t)=>{var r=gy(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},cK=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function uK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&se(e.zIndex)?e.zIndex:t}var HA=e=>{var{chartData:t}=e,r=be(),n=Yt();return p.useEffect(()=>n?()=>{}:(r(Oj(t)),()=>{r(Oj(void 0))}),[t,r,n]),null},m_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dK=Gt({name:"brush",initialState:m_,reducers:{setBrushSettings(e,t){return t.payload==null?m_:t.payload}}}),fK=dK.reducer;function hK(e){return(e%180+180)%180}var mK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=hK(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pK={dots:[],areas:[],lines:[]},gK=Gt({name:"referenceElements",initialState:pK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Br(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Br(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Br(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),vK=gK.reducer,yK=p.createContext(void 0),xK=e=>{var{children:t}=e,[r]=p.useState("".concat(ol("recharts"),"-clip")),n=qA();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return p.createElement(yK.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function KA(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function bK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mK(n,r)}function wK(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function wl(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function jK(e,t){return KA(e,t+1)}function _K(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:KA(n,u)};var y=c,x,v=()=>(x===void 0&&(x=r(g,y)),x),w=g.coordinate,b=c===0||wl(e,w,v,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function NK(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var j=n[y];if(j==null)return 0;var N=y,_,S=()=>(_===void 0&&(_=r(j,N)),_),E=j.coordinate,C=y===d||wl(e,E,S,f,c);if(!C)return h=!1,1;C&&(f=E+e*(S()/2+a))},g,y=d;y<o&&(g=m(),!(g!==0&&g===1));y+=u);if(h){for(var x=[],v=d;v<o;v+=u){var w=n[v];w!=null&&x.push(w)}return x}}return[]}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=kK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h];if(m==null)return 1;var g=m,y,x=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var v=e*(g.coordinate+e*x()/2-c);i[h]=g=Nt(Nt({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate})}else i[h]=g=Nt(Nt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=wl(e,g.tickCoord,x,l,c);w&&(c=g.tickCoord-e*(x()/2+a),i[h]=Nt(Nt({},g),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function OK(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1];if(d!=null){var f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Nt(Nt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=wl(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Nt(Nt({},d),{},{isShow:!0}))}}}for(var g=i?l-1:l,y=function(w){var b=o[w];if(b==null)return 1;var j=b,N,_=()=>(N===void 0&&(N=r(b,w)),N);if(w===0){var S=e*(j.coordinate-e*_()/2-c);o[w]=j=Nt(Nt({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[w]=j=Nt(Nt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var E=wl(e,j.tickCoord,_,c,u);E&&(c=j.tickCoord+e*(_()/2+a),o[w]=Nt(Nt({},j),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return o}function ax(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(X(c)||Cf.isSsr){var h;return(h=jK(a,X(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?Lo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(N,_)=>{var S=typeof u=="function"?u(N.value,_):N.value;return g==="width"?bK(Lo(S,{fontSize:t,letterSpacing:r}),y,f):Lo(S,{fontSize:t,letterSpacing:r})[g]},v=a[0],w=a[1],b=a.length>=2&&v!=null&&w!=null?ct(w.coordinate-v.coordinate):1,j=wK(i,b,g);return c==="equidistantPreserveStart"?_K(b,j,x,a,o):c==="equidistantPreserveEnd"?NK(b,j,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=OK(b,j,x,a,o,c==="preserveStartEnd"):m=PK(b,j,x,a,o),m.filter(N=>N.isShow))}var AK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},CK=["axisLine","width","height","className","hide","ticks","axisType"];function TK(e,t){if(e==null)return{};var r,n,a=IK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(null,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:et.axis};function LK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=De(De(De({},c),Wr(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=De(De({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=De(De({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",hi({},u,{className:fe("recharts-cartesian-axis-line",si(l,"className"))}))}function RK(e,t,r,n,a,i,o,l,c){var u,d,f,h,m,g,y=l?-1:1,x=e.tickSize||o,v=X(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-y*x,g=f-y*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-y*x,m=u-y*c,g=v;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+y*x,m=u+y*c,g=v;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+y*x,g=f+y*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function zK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function BK(e){var{option:t,tickProps:r,value:n}=e,a,i=fe(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,De(De({},r),{},{className:i}));else if(typeof t=="function")a=t(De(De({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fe(o,IA(t))),a=p.createElement(Jf,hi({},r,{className:o}),n)}return a}var UK=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:y,tickSize:x,tickMargin:v,fontSize:w,letterSpacing:b,getTicksConfig:j,events:N,axisType:_}=e,S=ax(De(De({},j),{},{ticks:r}),w,b),E=zK(d,f),C=FK(d,f),D=Wr(j),O=sl(n),A={};typeof a=="object"&&(A=a);var $=De(De({},D),{},{fill:"none"},A),R=S.map(J=>De({entry:J},RK(J,h,m,g,y,d,x,f,v))),Z=R.map(J=>{var{entry:L,line:B}=J;return p.createElement(Mt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},a&&p.createElement("line",hi({},$,B,{className:fe("recharts-cartesian-axis-tick-line",si(a,"className"))})))}),H=R.map((J,L)=>{var B,W,{entry:ee,tick:ne}=J,Oe=De(De(De(De({verticalAnchor:C},D),{},{textAnchor:E,stroke:"none",fill:i},ne),{},{index:L,payload:ee,visibleTicksCount:S.length,tickFormatter:o,padding:c},u),{},{angle:(B=(W=u==null?void 0:u.angle)!==null&&W!==void 0?W:D.angle)!==null&&B!==void 0?B:0}),me=De(De({},Oe),O);return p.createElement(Mt,hi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Il(N,ee,L)),n&&p.createElement(BK,{option:n,tickProps:me,value:"".concat(typeof o=="function"?o(ee.value,L):ee.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},H.length>0&&p.createElement(Vr,{zIndex:et.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},H)),Z.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},Z))}),WK=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:c}=e,u=TK(e,CK),[d,f]=p.useState(""),[h,m]=p.useState(""),g=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return AK({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=p.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var w=v[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,N=b.letterSpacing;(j!==d||N!==h)&&(f(j),m(N))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Vr,{zIndex:e.zIndex},p.createElement(Mt,{className:fe("recharts-cartesian-axis",i)},p.createElement(LK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Wr(e)}),p.createElement(UK,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(JW,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(cq,{label:e.label,labelRef:e.labelRef}),e.children)))}),ix=p.forwardRef((e,t)=>{var r=ft(e,kn);return p.createElement(WK,hi({},r,{ref:t}))});ix.displayName="CartesianAxis";var qK=["x1","y1","x2","y2","key"],HK=["offset"],KK=["xAxisId","yAxisId"],VK=["xAxisId","yAxisId"];function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(null,arguments)}function Sd(e,t){if(e==null)return{};var r,n,a=QK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VA(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:c,key:u}=r,d=Sd(r,qK),f=(a=Wr(d))!==null&&a!==void 0?a:{},h=Sd(f,HK);n=p.createElement("line",Ga({},h,{x1:i,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function JK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Sd(e,KK),o=a.map((l,c)=>{var u=kt(kt({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return p.createElement(VA,{key:"line-".concat(c),option:n,lineItemProps:u})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eV(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Sd(e,VK),o=a.map((l,c)=>{var u=kt(kt({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return p.createElement(VA,{option:n,lineItemProps:u,key:"line-".concat(c)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tV(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,y=g?a+o-f:m-f;if(y<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rV(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,y=g?a+o-f:m-f;if(y<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nV=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return PE(ax(kt(kt(kt({},kn),r),{},{ticks:OE(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},aV=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return PE(ax(kt(kt(kt({},kn),r),{},{ticks:OE(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},iV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:et.grid};function M0(e){var t=Dv(),r=Mv(),n=zE(),a=kt(kt({},ft(e,iV)),{},{x:X(e.x)?e.x:n.left,y:X(e.y)?e.y:n.top,width:X(e.width)?e.width:n.width,height:X(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=Yt(),y=Q(C=>yj(C,"xAxis",i,g)),x=Q(C=>yj(C,"yAxis",o,g));if(!un(u)||!un(d)||!X(l)||!X(c))return null;var v=a.verticalCoordinatesGenerator||nV,w=a.horizontalCoordinatesGenerator||aV,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var N=h&&h.length,_=w({yAxis:x?kt(kt({},x),{},{ticks:N?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Zu(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!j||!j.length)&&typeof v=="function"){var S=m&&m.length,E=v({xAxis:y?kt(kt({},y),{},{ticks:S?m:y.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Zu(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return p.createElement(Vr,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(ZK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(tV,Ga({},a,{horizontalPoints:b})),p.createElement(rV,Ga({},a,{verticalPoints:j})),p.createElement(JK,Ga({},a,{offset:n,horizontalPoints:b,xAxis:y,yAxis:x})),p.createElement(eV,Ga({},a,{offset:n,verticalPoints:j,xAxis:y,yAxis:x}))))}M0.displayName="CartesianGrid";var sV={},oV=Gt({name:"errorBars",initialState:sV,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),lV=oV.reducer,cV=["children"];function uV(e,t){if(e==null)return{};var r,n,a=dV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fV={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hV=p.createContext(fV);function mV(e){var{children:t}=e,r=uV(e,cV);return p.createElement(hV.Provider,{value:r},t)}function GA(e,t){var r,n,a=Q(u=>Hn(u,e)),i=Q(u=>Kn(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:at.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:it.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function pV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=qA(),{needClipX:i,needClipY:o,needClip:l}=GA(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var gV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=p;function vV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yV=typeof Object.is=="function"?Object.is:vV,xV=Xl.useSyncExternalStore,bV=Xl.useRef,wV=Xl.useEffect,jV=Xl.useMemo,_V=Xl.useDebugValue;gV.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=bV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=jV(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,yV(d,m))return g;var y=n(m);return a!==void 0&&a(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=xV(e,i[0],i[1]);return wV(function(){o.hasValue=!0,o.value=l},[l]),_V(l),l};function NV(e){e()}function SV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NV(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var y_={notify(){},get:()=>[]};function kV(e,t){let r,n=y_,a=0,i=!1;function o(y){d();const x=n.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=SV())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=y_)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var EV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PV=EV(),OV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AV=OV(),CV=()=>PV||AV?p.useLayoutEffect:p.useEffect,TV=CV();function x_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function IV(e,t){if(x_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!x_(e[r[a]],t[r[a]]))return!1;return!0}var jm=Symbol.for("react-redux-context"),_m=typeof globalThis<"u"?globalThis:{};function DV(){if(!p.createContext)return{};const e=_m[jm]??(_m[jm]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var MV=DV();function $V(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=kV(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);TV(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||MV;return p.createElement(l.Provider,{value:i},t)}var LV=$V,RV=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function zV(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(RV.has(n)){if(e[n]==null&&t[n]==null)continue;if(!IV(e[n],t[n]))return!1}else if(!zV(e[n],t[n]))return!1;return!0}function bi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:UA}function wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:UA}var FV="Invariant failed";function BV(e,t){throw new Error(FV)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function kd(e){return p.createElement(RA,$0({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var UV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(X(t))return t;var i=X(n)||dt(n);return i?t(n,a):(i||BV(),r)}},WV=(e,t,r)=>r,qV=(e,t)=>t,Ql=T([xy,qV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),HV=T([Ql],e=>e==null?void 0:e.maxBarSize),KV=(e,t,r,n)=>n,VV=T([ce,xy,bi,wi,WV],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),GV=(e,t,r)=>{var n=ce(e),a=bi(e,t),i=wi(e,t);if(!(a==null||i==null))return n==="horizontal"?P0(e,"yAxis",i,r):P0(e,"xAxis",a,r)},YV=(e,t)=>{var r=ce(e),n=bi(e,t),a=wi(e,t);if(!(n==null||a==null))return r==="horizontal"?vj(e,"xAxis",n):vj(e,"yAxis",a)},XV=T([VV,Y7,YV],rK),QV=(e,t,r)=>{var n,a,i=Ql(e,t);if(i==null)return 0;var o=bi(e,t),l=wi(e,t);if(o==null||l==null)return 0;var c=ce(e),u=nO(e),{maxBarSize:d}=i,f=dt(d)?u:d,h,m;return c==="horizontal"?(h=Ns(e,"xAxis",o,r),m=_s(e,"xAxis",o,r)):(h=Ns(e,"yAxis",l,r),m=_s(e,"yAxis",l,r)),(n=(a=Qu(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0},YA=(e,t,r)=>{var n=ce(e),a=bi(e,t),i=wi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=Ns(e,"xAxis",a,r),l=_s(e,"xAxis",a,r)):(o=Ns(e,"yAxis",i,r),l=_s(e,"yAxis",i,r)),Qu(o,l)}},ZV=T([XV,nO,G7,aO,QV,YA,HV],oK),JV=(e,t,r)=>{var n=bi(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},eG=(e,t,r)=>{var n=wi(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},tG=(e,t,r)=>{var n=bi(e,t);if(n!=null)return _s(e,"xAxis",n,r)},rG=(e,t,r)=>{var n=wi(e,t);if(n!=null)return _s(e,"yAxis",n,r)},nG=T([ZV,Ql],cK),aG=T([GV,Ql],lK),iG=T([tt,Cv,JV,eG,tG,rG,nG,ce,F7,YA,aG,Ql,KV],(e,t,r,n,a,i,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=f,v;if(x!=null&&x.length>0?v=x:v=m==null?void 0:m.slice(g,y+1),v!=null)return IG({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:h,dataStartIndex:g})}}),sG=["index"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function oG(e,t){if(e==null)return{};var r,n,a=lG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XA=p.createContext(void 0),cG=e=>{var t=p.useContext(XA);if(t!=null)return t.stackId;if(e!=null)return UL(e)},uG=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),dG=e=>{var t=p.useContext(XA);if(t!=null){var{stackId:r}=t;return"url(#".concat(uG(r,e),")")}},QA=e=>{var{index:t}=e,r=oG(e,sG),n=dG(t);return p.createElement(Mt,L0({className:"recharts-bar-stack-layer",clipPath:n},r))},fG=["onMouseEnter","onMouseLeave","onClick"],hG=["value","background","tooltipPosition"],mG=["id"],pG=["onMouseEnter","onClick","onMouseLeave"];function Rn(){return Rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rn.apply(null,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ed(e,t){if(e==null)return{};var r,n,a=xG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bG=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:jf(r,t),payload:e}]},wG=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:Ms,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:jf(i,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return p.createElement(zA,{tooltipEntrySettings:d})});function jG(e){var t=Q(fi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Ed(i,fG),d=tx(o,n,i.id),f=rx(l),h=nx(c,n,i.id);if(!a||r==null)return null;var m=sl(a);return p.createElement(Vr,{zIndex:uK(a,et.barBackground)},r.map((g,y)=>{var{value:x,background:v,tooltipPosition:w}=g,b=Ed(g,hG);if(!v)return null;var j=d(g,y),N=f(g,y),_=h(g,y),S=Ct(Ct(Ct(Ct(Ct({option:a,isActive:String(y)===t},b),{},{fill:"#eee"},v),m),Il(u,g,y)),{},{onMouseEnter:j,onMouseLeave:N,onClick:_,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return p.createElement(kd,Rn({key:"background-bar-".concat(y)},S))}))}function _G(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ct(Ct({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(gq,{value:t?a:void 0},r)}function NG(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Q(fi),c=Q(qy),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return u?p.createElement(Vr,{zIndex:et.activeBar},p.createElement(QA,{index:i},p.createElement(kd,Rn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o})))):p.createElement(kd,Rn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function SG(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(kd,Rn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function kG(e){var t,{data:r,props:n}=e,a=(t=Wr(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Ed(a,mG),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=Ed(n,pG),g=tx(d,c,i),y=rx(h),x=nx(f,c,i);return r?p.createElement(p.Fragment,null,r.map((v,w)=>p.createElement(QA,Rn({index:w,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(w),className:"recharts-bar-rectangle"},Il(m,v,w),{onMouseEnter:g(v,w),onMouseLeave:y(v,w),onClick:x(v,w)}),u?p.createElement(NG,{shape:l,activeBar:u,baseProps:o,entry:v,index:w,dataKey:c}):p.createElement(SG,{shape:l,baseProps:o,entry:v,index:w,dataKey:c})))):null}function EG(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=If(t,"recharts-bar-"),[m,g]=p.useState(!1),y=!m,x=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(_G,{showLabels:y,rects:n},p.createElement(Tf,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:v,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((j,N)=>{var _=f&&f[N];if(_)return Ct(Ct({},j),{},{x:Qe(_.x,j.x,w),y:Qe(_.y,j.y,w),width:Qe(_.width,j.width,w),height:Qe(_.height,j.height,w)});if(a==="horizontal"){var S=Qe(0,j.height,w),E=Qe(j.stackedBarStart,j.y,w);return Ct(Ct({},j),{},{y:E,height:S})}var C=Qe(0,j.width,w),D=Qe(j.stackedBarStart,j.x,w);return Ct(Ct({},j),{},{width:C,x:D})});return w>0&&(r.current=b??null),b==null?null:p.createElement(Mt,null,p.createElement(kG,{props:t,data:b}))}),p.createElement(AA,{label:t.label}),t.children)}function PG(e){var t=p.useRef(null);return p.createElement(EG,{previousRectanglesRef:t,props:e})}var ZA=0,OG=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ne(e,t)}};class AG extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=fe("recharts-bar",a),f=u;return p.createElement(Mt,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(pV,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(Mt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(jG,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(PG,this.props)))}}var CG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZA,xAxisId:0,yAxisId:0,zIndex:et.bar};function TG(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=GA(t,r),h=$s(),m=Yt(),g=ex(e.children,Zf),y=Q(w=>iG(w,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var x,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?x=0:x=h==="vertical"?v.height/2:v.width/2,p.createElement(mV,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:OG,errorBarOffset:x},p.createElement(AG,Rn({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function IG(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:y}=e,x=t==="horizontal"?l:o,v=d?x.scale.domain():null,w=WL({numericAxis:x}),b=x.scale.map(w);return f.map((j,N)=>{var _,S,E,C,D,O;if(d){var A=d[N+y];if(A==null)return null;_=LL(A,v)}else _=Ne(j,r),Array.isArray(_)||(_=[w,_]);var $=UV(n,ZA)(_[1],N);if(t==="horizontal"){var R,Z=l.scale.map(_[0]),H=l.scale.map(_[1]);if(Z==null||H==null)return null;S=Nw({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:N}),E=(R=H??Z)!==null&&R!==void 0?R:void 0,C=a.size;var J=Z-H;if(D=ln(J)?0:J,O={x:S,y:h.top,width:C,height:h.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var L=ct(D||$)*(Math.abs($)-Math.abs(D));E-=L,D+=L}}else{var B=o.scale.map(_[0]),W=o.scale.map(_[1]);if(B==null||W==null)return null;if(S=B,E=Nw({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:j,index:N}),C=W-B,D=a.size,O={x:h.left,y:E,width:h.width,height:D},Math.abs($)>0&&Math.abs(C)<Math.abs($)){var ee=ct(C||$)*(Math.abs($)-Math.abs(C));C+=ee}}if(S==null||E==null||C==null||D==null)return null;var ne=Ct(Ct({},j),{},{stackedBarStart:b,x:S,y:E,width:C,height:D,value:d?_:_[1],payload:j,background:O,tooltipPosition:{x:S+C/2,y:E+D/2},parentViewBox:g},m&&m[N]&&m[N].props);return ne}).filter(Boolean)}function DG(e){var t=ft(e,CG),r=cG(t.stackId),n=Yt();return p.createElement(FA,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(rH,{legendPayload:bG(t)}),p.createElement(wG,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(gH,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(Vr,{zIndex:t.zIndex},p.createElement(TG,Rn({},t,{id:a})))))}var R0=p.memo(DG,sx);R0.displayName="Bar";var MG=["domain","range"],$G=["domain","range"];function w_(e,t){if(e==null)return{};var r,n,a=LG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function JA(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=w_(e,MG),{domain:i,range:o}=t,l=w_(t,$G);return!j_(r,i)||!j_(n,o)?!1:sx(a,l)}var RG=["type"],zG=["dangerouslySetInnerHTML","ticks","scale"],FG=["id","scale"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0(e,t){if(e==null)return{};var r,n,a=qG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HG(e){var t=be(),r=p.useRef(null),n=FE(),{type:a}=e,i=F0(e,RG),o=Uf(n,"xAxis",a),l=p.useMemo(()=>{if(o!=null)return N_(N_({},i),{},{type:o})},[i,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(KH(l)):r.current!==l&&t(VH({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(GH(r.current)),r.current=null)},[t]),null}var KG=e=>{var{xAxisId:t,className:r}=e,n=Q(Cv),a=Yt(),i="xAxis",o=Q(h=>LO(h,i,t,a)),l=Q(h=>IO(h,t)),c=Q(h=>Y9(h,t)),u=Q(h=>mO(h,t));if(l==null||c==null||u==null)return null;var d=F0(e,zG),f=F0(u,FG);return p.createElement(ix,z0({},d,f,{x:c.x,y:c.y,width:l.width,height:l.height,className:fe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},VG={allowDataOverflow:at.allowDataOverflow,allowDecimals:at.allowDecimals,allowDuplicatedCategory:at.allowDuplicatedCategory,angle:at.angle,axisLine:kn.axisLine,height:at.height,hide:!1,includeHidden:at.includeHidden,interval:at.interval,label:!1,minTickGap:at.minTickGap,mirror:at.mirror,orientation:at.orientation,padding:at.padding,reversed:at.reversed,scale:at.scale,tick:at.tick,tickCount:at.tickCount,tickLine:kn.tickLine,tickSize:kn.tickSize,type:at.type,xAxisId:0},GG=e=>{var t=ft(e,VG);return p.createElement(p.Fragment,null,p.createElement(HG,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(KG,t))},B0=p.memo(GG,JA);B0.displayName="XAxis";var YG=["type"],XG=["dangerouslySetInnerHTML","ticks","scale"],QG=["id","scale"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(null,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){ZG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t,r){return(t=JG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(e,t){if(e==null)return{};var r,n,a=tY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rY(e){var t=be(),r=p.useRef(null),n=FE(),{type:a}=e,i=W0(e,YG),o=Uf(n,"yAxis",a),l=p.useMemo(()=>{if(o!=null)return k_(k_({},i),{},{type:o})},[o,i]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(YH(l)):r.current!==l&&t(XH({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(QH(r.current)),r.current=null)},[t]),null}function nY(e){var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),l=Q(Cv),c=Yt(),u=be(),d="yAxis",f=Q(v=>DO(v,t)),h=Q(v=>Q9(v,t)),m=Q(v=>LO(v,d,t,c)),g=Q(v=>pO(v,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Yy(a)||p.isValidElement(a)||g==null)){var v=i.current;if(v){var w=v.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&u(ZH({id:t,width:w}))}}},[m,f,u,a,t,n,g]),f==null||h==null||g==null)return null;var y=W0(e,XG),x=W0(g,QG);return p.createElement(ix,U0({},y,x,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:fe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))}var aY={allowDataOverflow:it.allowDataOverflow,allowDecimals:it.allowDecimals,allowDuplicatedCategory:it.allowDuplicatedCategory,angle:it.angle,axisLine:kn.axisLine,hide:!1,includeHidden:it.includeHidden,interval:it.interval,label:!1,minTickGap:it.minTickGap,mirror:it.mirror,orientation:it.orientation,padding:it.padding,reversed:it.reversed,scale:it.scale,tick:it.tick,tickCount:it.tickCount,tickLine:kn.tickLine,tickSize:kn.tickSize,type:it.type,width:it.width,yAxisId:0},iY=e=>{var t=ft(e,aY);return p.createElement(p.Fragment,null,p.createElement(rY,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(nY,t))},q0=p.memo(iY,JA);q0.displayName="YAxis";var sY=(e,t)=>t,ox=T([sY,ce,dO,mt,eA,Vn,fU,tt],xU),lx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},eC=_r("mouseClick"),tC=Ml();tC.startListening({actionCreator:eC,effect:(e,t)=>{var r=e.payload,n=ox(t.getState(),lx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(dB({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var H0=_r("mouseMove"),rC=Ml(),Fc=null;rC.startListening({actionCreator:H0,effect:(e,t)=>{var r=e.payload;Fc!==null&&cancelAnimationFrame(Fc);var n=lx(r);Fc=requestAnimationFrame(()=>{var a=t.getState(),i=Ry(a,a.tooltip.settings.shared);if(i==="axis"){var o=ox(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(HO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(qO())}Fc=null})}});function oY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var E_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nC=Gt({name:"rootProps",initialState:E_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:E_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),lY=nC.reducer,{updateOptions:cY}=nC.actions,uY=null,dY={updatePolarOptions:(e,t)=>t.payload},aC=Gt({name:"polarOptions",initialState:uY,reducers:dY}),{updatePolarOptions:fY}=aC.actions,hY=aC.reducer,iC=_r("keyDown"),sC=_r("focus"),cx=Ml();cx.startListening({actionCreator:iC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=zy(a,Hs(r),Kl(r),Gl(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Vn(r);if(i==="Enter"){var u=wd(r,"axis","hover",String(a.index));t.dispatch(A0({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=tB(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var g=wd(r,"axis","hover",String(m));t.dispatch(A0({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});cx.startListening({actionCreator:sC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=wd(r,"axis","hover",String(i));t.dispatch(A0({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var ur=_r("externalEvent"),oC=Ml(),Nm=new Map;oC.startListening({actionCreator:ur,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Nm.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:QB(l),activeDataKey:qy(l),activeIndex:fi(l),activeLabel:nA(l),activeTooltipIndex:fi(l),isTooltipActive:ZB(l)};r(c,n)}finally{Nm.delete(a)}});Nm.set(a,o)}}});var mY=T([Ws],e=>e.tooltipItemPayloads),pY=T([mY,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),lC=_r("touchMove"),cC=Ml();cC.startListening({actionCreator:lC,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Ry(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=ox(n,lx({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(HO({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(CE),f=(l=u.getAttribute(TE))!==null&&l!==void 0?l:void 0,h=qs(n).find(y=>y.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=pY(n,d,f);t.dispatch(WO({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var gY=Jk({brush:fK,cartesianAxis:JH,chartData:YU,errorBars:lV,graphicalItems:mH,layout:TL,legend:MR,options:qU,polarAxis:Oq,polarOptions:hY,referenceElements:vK,rootProps:lY,tooltip:fB,zIndex:IU}),vY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nL({reducer:gY,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([tC.middleware,rC.middleware,cx.middleware,oC.middleware,cC.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(mE({type:"raf"}))},devTools:{serialize:{replacer:oY},name:"recharts-".concat(r)}})};function uC(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Yt(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=vY(t,n));var o=jv;return p.createElement(LV,{context:o,store:i.current},r)}function yY(e){var{layout:t,margin:r}=e,n=be(),a=Yt();return p.useEffect(()=>{a||(n(OL(t)),n(PL(r)))},[n,a,t,r]),null}var dC=p.memo(yY,sx);function fC(e){var t=be();return p.useEffect(()=>{t(cY(e))},[t,e]),null}function P_(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),a=be();return p.useLayoutEffect(()=>(n.current&&a(CU({zIndex:t,element:n.current,isPanorama:r})),()=>{a(TU({zIndex:t,isPanorama:r}))}),[a,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function O_(e){var{children:t,isPanorama:r}=e,n=Q(wU);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(P_,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>p.createElement(P_,{key:o,zIndex:o,isPanorama:r})))}var xY=["children"];function bY(e,t){if(e==null)return{};var r,n,a=wY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}var jY={width:"100%",height:"100%",display:"block"},_Y=p.forwardRef((e,t)=>{var r=Dv(),n=Mv(),a=ZE();if(!un(r)||!un(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(lv,Pd({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:jY,ref:t}),i)}),NY=e=>{var{children:t}=e,r=Q(kf);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(lv,{width:n,height:a,x:o,y:i},t)},A_=p.forwardRef((e,t)=>{var{children:r}=e,n=bY(e,xY),a=Yt();return a?p.createElement(NY,null,p.createElement(O_,{isPanorama:!0},r)):p.createElement(_Y,Pd({ref:t},n),p.createElement(O_,{isPanorama:!1},r))});function SY(){var e=be(),[t,r]=p.useState(null),n=Q(YL);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;se(i)&&i!==n&&e(CL(i))}},[t,e,n]),r}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=PY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(null,arguments)}var AY=()=>(aW(),null);function Od(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var CY=p.forwardRef((e,t)=>{var r,n,a=p.useRef(null),[i,o]=p.useState({containerWidth:Od((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Od((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var y=g[0];if(y!=null){var{width:x,height:v}=y.contentRect;l(x,v)}},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(Ll,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",va({ref:c},e)))}),TY=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=p.useState({containerWidth:Od(r),containerHeight:Od(n)}),o=p.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(Ll,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",va({ref:l},e)))}),IY=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(Ll,{width:r,height:n}),p.createElement("div",va({ref:t},e)))}),DY=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(TY,va({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(IY,va({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(Ll,{width:r,height:n}),p.createElement("div",va({ref:t},e)))});function MY(e){return e?CY:DY}var $Y=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:x,width:v,responsive:w,dispatchTouchEvents:b=!0}=e,j=p.useRef(null),N=be(),[_,S]=p.useState(null),[E,C]=p.useState(null),D=SY(),O=Tv(),A=(O==null?void 0:O.width)>0?O.width:v,$=(O==null?void 0:O.height)>0?O.height:a,R=p.useCallback(k=>{D(k),typeof t=="function"&&t(k),S(k),C(k),k!=null&&(j.current=k)},[D,t,S,C]),Z=p.useCallback(k=>{N(eC(k)),N(ur({handler:i,reactEvent:k}))},[N,i]),H=p.useCallback(k=>{N(H0(k)),N(ur({handler:u,reactEvent:k}))},[N,u]),J=p.useCallback(k=>{N(qO()),N(ur({handler:d,reactEvent:k}))},[N,d]),L=p.useCallback(k=>{N(H0(k)),N(ur({handler:f,reactEvent:k}))},[N,f]),B=p.useCallback(()=>{N(sC())},[N]),W=p.useCallback(k=>{N(iC(k.key))},[N]),ee=p.useCallback(k=>{N(ur({handler:o,reactEvent:k}))},[N,o]),ne=p.useCallback(k=>{N(ur({handler:l,reactEvent:k}))},[N,l]),Oe=p.useCallback(k=>{N(ur({handler:c,reactEvent:k}))},[N,c]),me=p.useCallback(k=>{N(ur({handler:h,reactEvent:k}))},[N,h]),wt=p.useCallback(k=>{N(ur({handler:y,reactEvent:k}))},[N,y]),Ve=p.useCallback(k=>{b&&N(lC(k)),N(ur({handler:g,reactEvent:k}))},[N,b,g]),he=p.useCallback(k=>{N(ur({handler:m,reactEvent:k}))},[N,m]),M=MY(w);return p.createElement(uA.Provider,{value:_},p.createElement(JS.Provider,{value:E},p.createElement(M,{width:A??(x==null?void 0:x.width),height:$??(x==null?void 0:x.height),className:fe("recharts-wrapper",n),style:kY({position:"relative",cursor:"default",width:A,height:$},x),onClick:Z,onContextMenu:ee,onDoubleClick:ne,onFocus:B,onKeyDown:W,onMouseDown:Oe,onMouseEnter:H,onMouseLeave:J,onMouseMove:L,onMouseUp:me,onTouchEnd:he,onTouchMove:Ve,onTouchStart:wt,ref:R},p.createElement(AY,null),r)))}),LY=["width","height","responsive","children","className","style","compact","title","desc"];function RY(e,t){if(e==null)return{};var r,n,a=zY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hC=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,f=RY(e,LY),h=Wr(f);return c?p.createElement(p.Fragment,null,p.createElement(Ll,{width:r,height:n}),p.createElement(A_,{otherAttributes:h,title:u,desc:d},i)):p.createElement($Y,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(A_,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(xK,null,i)))});function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}var FY={top:5,right:5,bottom:5,left:5},BY={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:FY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},UY=p.forwardRef(function(t,r){var n,a=ft(t.categoricalChartProps,BY),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(uC,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},p.createElement(HA,{chartData:u.data}),p.createElement(dC,{layout:a.layout,margin:a.margin}),p.createElement(fC,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(hC,K0({},a,{ref:r})))}),WY=["axis","item"],T_=p.forwardRef((e,t)=>p.createElement(UY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WY,tooltipPayloadSearcher:fA,categoricalChartProps:e,ref:t}));function qY(e){var t=be();return p.useEffect(()=>{t(fY(e))},[t,e]),null}var HY=["layout"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function KY(e,t){if(e==null)return{};var r,n,a=VY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GY={top:5,right:5,bottom:5,left:5},mC={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},YY=p.forwardRef(function(t,r){var n,a=ft(t.categoricalChartProps,mC),{layout:i}=a,o=KY(a,HY),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(uC,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},p.createElement(HA,{chartData:a.data}),p.createElement(dC,{layout:i,margin:a.margin}),p.createElement(fC,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(qY,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(hC,V0({},o,{ref:r})))});function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JY=["item"],eX=D_(D_({},mC),{},{layout:"centric",startAngle:0,endAngle:360}),M_=p.forwardRef((e,t)=>{var r=ft(e,eX);return p.createElement(YY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:JY,tooltipPayloadSearcher:fA,categoricalChartProps:r,ref:t})});function tX(){const{id:e}=O3(),t=Na(),[r,n]=p.useState(null),[a,i]=p.useState([]),[o,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{if(!e){l(!1);return}try{console.log("Loading dam with ID:",e);const[f,h]=await Promise.all([yM(e),bM(e)]);if(console.log("Dam data loaded:",f),f)n(f),i(h);else{console.log("Dam data not found, trying mock data...");const m=CM.find(g=>g.id===e);if(m){const g={id:m.id,code:m.codigo,name:m.nombre,province:m.provincia,municipality:m.municipio,river:m.rio,dam_type:m.tipo,height:m.altura,max_capacity:m.capacidad_maxima,current_level:m.nivel_actual,current_volume:m.volumen_actual,operational_status:m.estado_operacional,latitude:m.lat,longitude:m.lon,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),i([])}}}catch(f){console.error("Error loading dam data:",f)}finally{l(!1)}})()},[e]),o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?((d=>d>=90?{color:"text-red-600",icon:qe,label:"Nivel Crtico"}:d>=75?{color:"text-green-600",icon:Ds,label:"Nivel ptimo"}:d>=50?{color:"text-blue-600",icon:Tt,label:"Nivel Normal"}:{color:"text-orange-600",icon:VS,label:"Nivel Bajo"})(r.current_level).icon,s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-blue-900 text-white px-6 py-4 rounded-xl shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/map"),className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:s.jsx(G6,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold",children:r.code}),s.jsx(xo,{status:r.operational_status})]}),s.jsx("p",{className:"text-blue-100 mt-1",children:r.name})]}),s.jsx(nl,{className:"h-6 w-6 text-blue-300"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[s.jsx("div",{className:"lg:col-span-5",children:s.jsxs(V,{className:"h-full p-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-[4/3] rounded-lg overflow-hidden",children:s.jsx("img",{src:"https://images.pexels.com/photos/1624496/pexels-photo-1624496.jpeg?auto=compress&cs=tinysrgb&w=800",alt:r.name,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute bottom-3 left-3 bg-slate-900 bg-opacity-80 text-white px-2 py-1 rounded text-xs font-semibold",children:"Vista area de la presa"}),s.jsx("div",{className:"absolute bottom-3 right-3 bg-white px-3 py-1.5 rounded-lg shadow-lg border-2 border-blue-500",children:s.jsx("p",{className:"text-xs font-bold text-blue-900",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})})]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b-2 border-slate-300",children:[s.jsx("span",{className:"text-xs font-bold text-slate-900",children:new Date().toLocaleDateString("es-ES")}),s.jsx("span",{className:"text-xs font-bold text-slate-900",children:"VALORES"})]}),s.jsxs("div",{className:"space-y-0.5 text-xs max-h-[400px] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"NIVEL DE EMBALSE (m.s.n.m)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"VOLUMEN EMBALSADO (hm3)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"SUPERFICIE DEL EMBALSE (m2)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"PRECIPITACIN (l/m2)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"APORTACIN AL EMBALSE (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"DESEMBALSE TOTAL (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MNIMA (C)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MXIMA (C)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MEDIA (C)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"NIVEL TANQUE EVAPORACIN (mm)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"ALTURA EVAPORADA (mm/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"VOLUMEN EVAPORADO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE DE FONDO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL ALIVIADERO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE AUXILIAR (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE INTERMEDIO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL TOMAS (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL TURBINADO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"BOMBEO DE ENTRADA (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"FILTRACIONES/PRDIDAS CONTROLADAS (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[s.jsx("span",{className:"text-slate-600",children:"AJUSTES/DESFASES (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),s.jsxs("div",{className:"flex justify-between py-1.5",children:[s.jsx("span",{className:"text-slate-600",children:"TOTAL DESTINO ABASTECIMIENTO (m3/da)"}),s.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]})]})]})]})}),s.jsx("div",{className:"lg:col-span-7",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full",children:[s.jsxs(V,{className:"flex flex-col p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"rdenes de Trabajo Preventivo"}),s.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sin datos. Ao hidrulico en mantenimientos"}),s.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),s.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[200px]",children:s.jsx(Oc,{width:"100%",height:200,children:s.jsxs(M_,{children:[s.jsx(D0,{data:[{name:"No realizado",value:tm.preventivo.pendientes,fill:"#ef4444"},{name:"Realizado",value:tm.preventivo.completadas,fill:"#10b981"},{name:"Evaluado",value:tm.preventivo.canceladas,fill:"#f59e0b"},{name:"En curso",value:5,fill:"#fbbf24"},{name:"Aplazado",value:2,fill:"#d1d5db"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:75,paddingAngle:2,dataKey:"value",label:d=>`${d.value}`}),s.jsx(Rc,{})]})})}),s.jsxs("div",{className:"flex justify-center gap-2 text-xs mt-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),s.jsx("span",{children:"No realizado"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),s.jsx("span",{children:"Realizado"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500"}),s.jsx("span",{children:"Evaluado"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400"}),s.jsx("span",{children:"En curso"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-300"}),s.jsx("span",{children:"Aplazado"})]})]})]}),s.jsxs(V,{className:"flex flex-col p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Correctivos y Mejoras"}),s.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sin datos. Ao hidrulico en mantenimientos"}),s.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),s.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[200px]",children:s.jsx(Oc,{width:"100%",height:200,children:s.jsxs(M_,{children:[s.jsx(D0,{data:[{name:"Detenido",value:0,fill:"#ef4444"},{name:"En pausa",value:0,fill:"#f59e0b"},{name:"Realizado",value:100,fill:"#10b981"},{name:"Evaluado",value:0,fill:"#fbbf24"},{name:"En curso",value:0,fill:"#9ca3af"},{name:"Planificado",value:0,fill:"#d1d5db"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:75,paddingAngle:0,dataKey:"value",label:d=>d.value>0?`${d.value}%`:""}),s.jsx(Rc,{formatter:d=>`${d}%`})]})})}),s.jsxs("div",{className:"flex justify-center gap-2 text-xs mt-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),s.jsx("span",{children:"Detenido"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500"}),s.jsx("span",{children:"En pausa"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),s.jsx("span",{children:"Realizado"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400"}),s.jsx("span",{children:"Evaluado"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-400"}),s.jsx("span",{children:"En curso"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-300"}),s.jsx("span",{children:"Planificado"})]})]})]}),s.jsxs(V,{className:"flex flex-col p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-3",children:"Leyenda Cronogramas"}),s.jsxs("div",{className:"space-y-3 text-xs overflow-y-auto max-h-[400px]",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Periodicidad:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"D"}),s.jsx("span",{className:"text-xs",children:"Diaria"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"S"}),s.jsx("span",{className:"text-xs",children:"Semanal"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"Q"}),s.jsx("span",{className:"text-xs",children:"Quincenal"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"M"}),s.jsx("span",{className:"text-xs",children:"Mensual"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"2M"}),s.jsx("span",{className:"text-xs",children:"Bimestral"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"3M"}),s.jsx("span",{className:"text-xs",children:"Trimestral"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"4M"}),s.jsx("span",{className:"text-xs",children:"Cuatrimestral"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"6M"}),s.jsx("span",{className:"text-xs",children:"Semestral"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"3A"}),s.jsx("span",{className:"text-xs",children:"Trienal"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"5A"}),s.jsx("span",{className:"text-xs",children:"Quinquenal"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"A"}),s.jsx("span",{className:"text-xs",children:"Anual"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"2A"}),s.jsx("span",{className:"text-xs",children:"Bianual"})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Estado:"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-yellow-400"}),s.jsx("span",{className:"text-xs",children:"Asignado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),s.jsx("span",{className:"text-xs",children:"En curso"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),s.jsx("span",{className:"text-xs",children:"Realizado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-red-600"}),s.jsx("span",{className:"text-xs",children:"No realizado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-slate-900"}),s.jsx("span",{className:"text-xs",children:"Rechazado"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border-2 border-slate-400 bg-white"}),s.jsx("span",{className:"text-xs",children:"Planificada"})]})]})]}),s.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[s.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Tipo de personal:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"PP"}),s.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"EE"}),s.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"OCA"})]})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(V,{className:"p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Nivel de Embalse/Precipitacin"}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Sin datos. Ao hidrulico en embalse"}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),s.jsx("div",{className:"flex items-center justify-center h-[220px] bg-slate-50 rounded border border-slate-200",children:s.jsx("p",{className:"text-slate-400 text-sm",children:"Sin registros"})})]}),s.jsxs(V,{className:"p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Aportacin Desembalse"}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Sin datos. Ao hidrulico en embalse"}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),s.jsx("div",{className:"flex items-center justify-center h-[220px] bg-slate-50 rounded border border-slate-200",children:s.jsx("p",{className:"text-slate-400 text-sm",children:"Sin registros"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(V,{className:"p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Cronograma Preventivos"}),s.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-3 mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Quincenas - Febrero"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Vista de calendario de mantenimientos preventivos programados"})]}),s.jsx(Oc,{width:"100%",height:220,children:s.jsxs(T_,{data:Xb,children:[s.jsx(M0,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(B0,{dataKey:"mes",tick:{fontSize:11}}),s.jsx(q0,{tick:{fontSize:11}}),s.jsx(Rc,{contentStyle:{fontSize:"11px"}}),s.jsx(h0,{wrapperStyle:{fontSize:"11px"}}),s.jsx(R0,{dataKey:"preventivo",fill:"#3b82f6",name:"Preventivos",radius:[4,4,0,0]})]})})]}),s.jsxs(V,{className:"p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Cronograma Correctivos"}),s.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 p-3 mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Mantenimientos Correctivos"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Vista de calendario de mantenimientos correctivos realizados"})]}),s.jsx(Oc,{width:"100%",height:220,children:s.jsxs(T_,{data:Xb,children:[s.jsx(M0,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(B0,{dataKey:"mes",tick:{fontSize:11}}),s.jsx(q0,{tick:{fontSize:11}}),s.jsx(Rc,{contentStyle:{fontSize:"11px"}}),s.jsx(h0,{wrapperStyle:{fontSize:"11px"}}),s.jsx(R0,{dataKey:"correctivo",fill:"#10b981",name:"Correctivos",radius:[4,4,0,0]})]})})]})]}),s.jsxs(V,{className:"p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Incidencias"}),s.jsxs("span",{className:"text-sm text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:["Fichas de mantenimientos: ",s.jsx("span",{className:"font-bold text-[#0066A1]",children:"0"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 border-b-2 border-slate-300",children:[s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Cdigo"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Nombre"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Estado"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Fecha Alta"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Correctivo"})]})}),s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500 text-sm bg-slate-50",children:"Sin registros."})})})]})}),s.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-slate-200 pt-3",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Mostrando 0 registros"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-600",children:"Filas por pgina:"}),s.jsxs("select",{className:"border border-slate-300 rounded px-2 py-1 text-xs",children:[s.jsx("option",{children:"5"}),s.jsx("option",{children:"10"}),s.jsx("option",{children:"25"}),s.jsx("option",{children:"50"})]})]})]})]})]})):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-500",children:"Presa no encontrada"}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Volver al Dashboard"})]})}function rX(){const{selectedDam:e}=vi();xI();const[t,r]=p.useState([]),[n,a]=p.useState("ACTIVOS"),[i,o]=p.useState([]),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState("general"),[m,g]=p.useState(""),[y,x]=p.useState(new Set);p.useEffect(()=>{v()},[]),p.useEffect(()=>{e&&n&&t.length>0&&w()},[e,n,t]);const v=async()=>{try{const{data:_,error:S}=await U.from("inventory_asset_categories").select("*").order("sort_order");if(S)throw S;r(_||[])}catch(_){console.error("Error loading categories:",_)}},w=async()=>{if(e)try{d(!0);const _=t.find(D=>D.code===n);if(!_)return;const{data:S,error:E}=await U.from("inventory_assets").select("*").eq("dam_id",e.id).eq("category_id",_.id).order("sort_order");if(E)throw E;const C=b(S||[]);o(C),C.length>0&&!l&&(c(C[0]),C[0].children&&C[0].children.length>0&&x(new Set([C[0].id])))}catch(_){console.error("Error loading assets:",_)}finally{d(!1)}},b=_=>{const S=new Map,E=[];return _.forEach(C=>{S.set(C.id,{...C,children:[]})}),_.forEach(C=>{const D=S.get(C.id);if(C.parent_asset_id){const O=S.get(C.parent_asset_id);O?(O.children=O.children||[],O.children.push(D)):E.push(D)}else E.push(D)}),E},j=_=>{const S=new Set(y);S.has(_)?S.delete(_):S.add(_),x(S)},N=(_,S=0)=>(m?_.filter(C=>C.name.toLowerCase().includes(m.toLowerCase())||C.code.toLowerCase().includes(m.toLowerCase())):_).map(C=>{const D=y.has(C.id),O=C.children&&C.children.length>0,A=(l==null?void 0:l.id)===C.id;return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 cursor-pointer hover:bg-blue-50 border-l-2 transition-colors ${A?"bg-blue-50 border-blue-600 text-blue-900":"border-transparent text-gray-700"}`,style:{paddingLeft:`${S*20+12}px`},onClick:()=>c(C),children:[O?s.jsx("button",{onClick:$=>{$.stopPropagation(),j(C.id)},className:"p-0 hover:text-blue-600",children:D?s.jsx(X6,{size:16}):s.jsx(rs,{size:16})}):s.jsx("div",{className:"w-4"}),s.jsx(Dp,{size:16,className:"text-blue-600 flex-shrink-0"}),s.jsxs("span",{className:"text-sm flex-1 truncate",children:[C.code," - ",C.name]})]}),O&&D&&s.jsx("div",{children:N(C.children,S+1)})]},C.id)});return e?s.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-[#00416A] to-[#4682B4] p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h1",{className:"text-xl font-bold text-white",children:[e.code," ",e.name.toUpperCase()]})}),s.jsx("div",{className:"flex gap-2 mb-4",children:t.map(_=>s.jsx("button",{onClick:()=>a(_.code),className:`px-6 py-2 rounded-t-lg font-medium transition-colors ${n===_.code?"bg-white text-[#0066A1]":"bg-[#0066A1] text-white hover:bg-[#004d7a]"}`,children:_.name.toUpperCase()},_.id))}),s.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[s.jsxs("div",{className:"w-72 flex flex-col bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"FILTRO"}),s.jsx("button",{className:"ml-auto p-1 hover:bg-gray-200 rounded",children:s.jsx(il,{size:16})}),s.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",children:s.jsx(ef,{size:16})})]}),s.jsx("input",{type:"text",placeholder:"Ubicacin",value:m,onChange:_=>g(_.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:u?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Mo,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No hay elementos"})]}):N(i)})]}),s.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg overflow-hidden flex flex-col",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3",children:s.jsx("h2",{className:"text-xl font-bold",children:l.name.toUpperCase()})}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:()=>h("general"),className:`px-6 py-3 font-medium text-sm transition-colors ${f==="general"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:"Datos generales"}),s.jsx("button",{onClick:()=>h("technical"),className:`px-6 py-3 font-medium text-sm transition-colors ${f==="technical"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:"Datos tcnicos adicionales"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:f==="general"?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Datos generales"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-48",children:"Cdigo:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.code})]}),s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-48",children:"Descripcin:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.name})]}),l.extended_description&&s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Descripcin Ampliada:"}),s.jsx("p",{className:"text-sm text-gray-900 mt-2 leading-relaxed",children:l.extended_description})]})]})]}),l.parent_asset_id===null&&s.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[l.status&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"En fase de:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.status})]}),l.owner&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Titular de la presa:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.owner})]}),l.operator&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Titular de la explotacin:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.operator})]}),l.designer&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Proyectista:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.designer})]}),l.construction_manager&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Direccin de obra:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.construction_manager})]}),l.construction_end_date&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Fin de las obras:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.construction_end_date).toLocaleDateString("es-ES")})]}),l.commissioning_date&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Puesta en explotacin:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.commissioning_date).toLocaleDateString("es-ES")})]}),l.risk_category&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Categora segn riesgo:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.risk_category})]}),l.usage_type&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Usos del embalse:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.usage_type})]}),l.emergency_plan_approval&&s.jsxs("div",{className:"flex",children:[s.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Aprobacin del Plan de Emergencia:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.emergency_plan_approval})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fotografas"}),s.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-100 to-green-100 rounded-lg overflow-hidden border-2 border-gray-200",children:s.jsx("img",{src:"https://images.pexels.com/photos/1624496/pexels-photo-1624496.jpeg?auto=compress&cs=tinysrgb&w=800",alt:l.name,className:"w-full h-full object-cover"})})]}),l.parent_asset_id===null&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Datos hidrulicos"}),s.jsxs("div",{className:"space-y-2",children:[l.capacity_nmn&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Capacidad (NMN) (hm):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.capacity_nmn})]}),l.surface_nmn&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Superficie (NMN)(ha):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.surface_nmn})]}),l.avg_precipitation!==void 0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Precipitacin media anual (mm):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.avg_precipitation})]}),l.avg_inflow!==void 0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Aportacin media anual (hm):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.avg_inflow})]}),l.design_flood&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Avenida de proyecto(m/s):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.design_flood})]}),l.extreme_flood&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Avenida extrema(m/s):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.extreme_flood})]})]})]}),l.parent_asset_id===null&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Datos tcnicos"}),s.jsxs("div",{className:"space-y-2",children:[l.dam_type&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Tipo de presa:"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.dam_type})]}),l.height_above_riverbed&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Altura sobre cauce (m):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.height_above_riverbed})]}),l.height_from_foundation&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Altura desde cimientos (m):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.height_from_foundation})]}),l.crest_length&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Longitud de coronacin (m):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.crest_length})]}),l.crest_elevation&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-700",children:"Cota coronacin (m):"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.crest_elevation})]})]})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center py-12 text-gray-500",children:s.jsx("p",{children:"No hay datos tcnicos adicionales registrados"})})})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Mo,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Selecciona un elemento del inventario"}),s.jsx("p",{className:"text-sm mt-1",children:"para ver sus detalles"})]})})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Mo,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Selecciona una presa desde el mapa"}),s.jsx("p",{className:"text-sm mt-1",children:"para ver su inventario"})]})})}const nX={default:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-green-100 text-green-800 border-green-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter",purple:"bg-purple-100 text-purple-800 border-purple-200",secondary:"bg-sipresas-lightest text-sipresas-dark border-sipresas-lighter"};function mr({children:e,variant:t="default",className:r=""}){return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${nX[t]} ${r}`,children:e})}function $_({workOrderId:e,isClosed:t,onOperationsChange:r}){const[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(!1),[f,h]=p.useState(null),[m,g]=p.useState({operation_name:"",operation_description:"",status:"pending"}),[y,x]=p.useState({operation_name:"",operation_description:"",status:"pending",result:"",notes:""});p.useEffect(()=>{v()},[e]);const v=async()=>{try{o(!0);const{data:A,error:$}=await U.from("maintenance_work_order_operations").select("*").eq("work_order_id",e).order("operation_number",{ascending:!0});if($)throw $;a(A||[])}catch(A){console.error("Error loading operations:",A)}finally{o(!1)}},w=async A=>{if(m.operation_name.trim())try{let $;A!==void 0&&A<n.length||($=n.length+1);const{error:R}=await U.from("maintenance_work_order_operations").insert({work_order_id:e,operation_number:$,operation_name:m.operation_name,operation_description:m.operation_description||null,status:m.status});if(R)throw R;g({operation_name:"",operation_description:"",status:"pending"}),d(!1),await v(),r==null||r()}catch($){console.error("Error adding operation:",$),alert("Error al aadir la operacin")}},b=async A=>{var $,R;try{const Z={operation_name:y.operation_name,operation_description:y.operation_description||null,status:y.status,result:y.result||null,notes:y.notes||null};y.status==="completed"&&!(($=n.find(J=>J.id===A))!=null&&$.completed_at)&&(Z.completed_at=new Date().toISOString(),Z.completed_by=(R=(await U.auth.getUser()).data.user)==null?void 0:R.id);const{error:H}=await U.from("maintenance_work_order_operations").update(Z).eq("id",A);if(H)throw H;c(null),await v(),r==null||r()}catch(Z){console.error("Error updating operation:",Z),alert("Error al actualizar la operacin")}},j=async A=>{if(confirm("Eliminar esta operacin?"))try{const $=n.find(H=>H.id===A);if(!$)return;const{error:R}=await U.from("maintenance_work_order_operations").delete().eq("id",A);if(R)throw R;const Z=n.filter(H=>H.operation_number>$.operation_number).map(H=>({id:H.id,operation_number:H.operation_number-1}));for(const H of Z)await U.from("maintenance_work_order_operations").update({operation_number:H.operation_number}).eq("id",H.id);await v(),r==null||r()}catch($){console.error("Error deleting operation:",$),alert("Error al eliminar la operacin")}},N=async(A,$)=>{if(A!==$)try{const R=[...n],[Z]=R.splice(A,1);R.splice($,0,Z);const H=R.map((J,L)=>({id:J.id,operation_number:L+1}));for(const J of H)await U.from("maintenance_work_order_operations").update({operation_number:J.operation_number}).eq("id",J.id);await v(),r==null||r()}catch(R){console.error("Error reordering operations:",R),alert("Error al reordenar las operaciones")}},_=A=>{t||h(A)},S=(A,$)=>{A.preventDefault()},E=(A,$)=>{A.preventDefault(),f!==null&&f!==$&&N(f,$),h(null)},C=A=>{c(A.id),x({operation_name:A.operation_name,operation_description:A.operation_description||"",status:A.status,result:A.result||"",notes:A.notes||""})},D=A=>{switch(A){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";default:return"text-orange-600 bg-orange-50"}},O=A=>{switch(A){case"completed":return"Completada";case"in_progress":return"En Progreso";default:return"Pendiente"}};return i?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Cargando operaciones..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Operaciones"}),!t&&s.jsxs("button",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-sm flex items-center gap-2",onClick:()=>d(!0),children:[s.jsx(qS,{className:"w-4 h-4"}),"Aadir Operacin"]})]}),u&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Nueva Operacin"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Operacin *"}),s.jsx("input",{type:"text",value:m.operation_name,onChange:A=>g({...m,operation_name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Inspeccin visual de aliviadero"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),s.jsx("textarea",{value:m.operation_description,onChange:A=>g({...m,operation_description:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripcin detallada de la operacin..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>w(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(al,{className:"w-4 h-4"}),"Guardar al Final"]}),s.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]}),s.jsx("div",{className:"space-y-2",children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No hay operaciones registradas. ",!t&&"Aade la primera operacin."]}):n.map((A,$)=>s.jsxs("div",{draggable:!t,onDragStart:()=>_($),onDragOver:R=>S(R),onDrop:R=>E(R,$),className:`flex items-start gap-2 p-3 rounded-lg border ${t?"bg-gray-50 border-gray-200":"bg-white border-gray-300"} ${f===$?"opacity-50":""}`,children:[!t&&s.jsx(Z6,{className:"w-5 h-5 text-gray-400 cursor-move flex-shrink-0 mt-1"}),s.jsx("div",{className:"flex-1",children:l===A.id?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:y.operation_name,onChange:R=>x({...y,operation_name:R.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}),s.jsx("textarea",{value:y.operation_description,onChange:R=>x({...y,operation_description:R.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Descripcin..."}),s.jsxs("select",{value:y.status,onChange:R=>x({...y,status:R.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"pending",children:"Pendiente"}),s.jsx("option",{value:"in_progress",children:"En Progreso"}),s.jsx("option",{value:"completed",children:"Completada"})]}),s.jsx("textarea",{value:y.result,onChange:R=>x({...y,result:R.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Resultado de la operacin..."}),s.jsx("textarea",{value:y.notes,onChange:R=>x({...y,notes:R.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Notas adicionales..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>b(A.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Guardar"}),s.jsx("button",{onClick:()=>c(null),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300",children:"Cancelar"})]})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[$+1,". ",A.operation_name]}),A.operation_description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:A.operation_description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D(A.status)}`,children:O(A.status)}),A.completed_at&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Completada: ",new Date(A.completed_at).toLocaleDateString("es-ES")]})]}),A.result&&s.jsxs("p",{className:"text-xs text-gray-700 mt-2",children:[s.jsx("strong",{children:"Resultado:"})," ",A.result]}),A.notes&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[s.jsx("strong",{children:"Notas:"})," ",A.notes]})]})})})}),!t&&l!==A.id&&s.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[s.jsx("button",{onClick:()=>C(A),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Editar operacin",children:s.jsx(Bp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j(A.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar operacin",children:s.jsx(KS,{className:"w-4 h-4"})})]})]},A.id))})]})}async function L_(e){var t;try{const{data:r,error:n}=await U.from("maintenance_work_orders").select(`
        *,
        dam:dams(code, name),
        assigned_user:user_profiles(full_name),
        activity:maintenance_activities(name)
      `).eq("id",e).single();if(n||!r)throw new Error("Work order not found");const{data:a,error:i}=await U.from("maintenance_work_order_operations").select("*").eq("work_order_id",e).order("operation_number",{ascending:!0});if(i)throw new Error("Error loading operations");const{data:o,error:l}=await U.from("maintenance_work_order_closure").select(`
        *,
        closed_by_user:user_profiles!maintenance_work_order_closure_closed_by_fkey(full_name)
      `).eq("work_order_id",e).maybeSingle();if(l)throw new Error("Error loading closure info");const c={workOrder:{code:r.code,title:r.title,description:r.description,order_type:r.order_type,status:r.status,scheduled_date:r.scheduled_date,priority:r.priority,dam:r.dam,assigned_user:r.assigned_user,activity:r.activity},operations:a||[],closure:o?{closed_at:o.closed_at,closed_by_name:((t=o.closed_by_user)==null?void 0:t.full_name)||"Desconocido",observations:o.observations}:{closed_at:new Date().toISOString(),closed_by_name:"Sistema",observations:null}},u=aX(c);return`/maintenance-reports/${`parte_mantenimiento_${r.code}_${Date.now()}.pdf`}`}catch(r){throw console.error("Error generating PDF:",r),r}}function aX(e){const t=a=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Completada",cancelled:"Cancelada"})[a]||a,r=a=>a==="preventive"?"Preventivo":"Correctivo";return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Parte de Mantenimiento - ${e.workOrder.code}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      color: #333;
    }
    .header {
      border-bottom: 3px solid #1e40af;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }
    .header h1 {
      color: #1e40af;
      margin: 0 0 10px 0;
    }
    .header .subtitle {
      color: #666;
      font-size: 14px;
    }
    .info-section {
      margin-bottom: 30px;
    }
    .info-section h2 {
      color: #1e40af;
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 10px;
      margin-bottom: 15px;
      font-size: 18px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
      background-color: #f9fafb;
      border-left: 3px solid #1e40af;
    }
    .info-item label {
      font-weight: bold;
      color: #4b5563;
      font-size: 12px;
      display: block;
      margin-bottom: 5px;
    }
    .info-item .value {
      color: #111827;
      font-size: 14px;
    }
    .operations-list {
      margin-top: 20px;
    }
    .operation-item {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background-color: #ffffff;
    }
    .operation-header {
      font-weight: bold;
      color: #1e40af;
      margin-bottom: 10px;
      font-size: 15px;
    }
    .operation-detail {
      margin-bottom: 8px;
      font-size: 13px;
    }
    .operation-detail label {
      font-weight: bold;
      color: #4b5563;
      margin-right: 5px;
    }
    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }
    .status-completed {
      background-color: #d1fae5;
      color: #065f46;
    }
    .status-in-progress {
      background-color: #dbeafe;
      color: #1e40af;
    }
    .status-pending {
      background-color: #fed7aa;
      color: #9a3412;
    }
    .closure-section {
      background-color: #f0f9ff;
      border: 2px solid #1e40af;
      border-radius: 8px;
      padding: 20px;
      margin-top: 30px;
    }
    .closure-section h3 {
      color: #1e40af;
      margin-top: 0;
    }
    .footer {
      margin-top: 50px;
      padding-top: 20px;
      border-top: 2px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 12px;
    }
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }
    .badge-preventive {
      background-color: #dbeafe;
      color: #1e40af;
    }
    .badge-corrective {
      background-color: #fed7aa;
      color: #9a3412;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>PARTE DE MANTENIMIENTO</h1>
    <div class="subtitle">
      Confederacin Hidrogrfica del Guadalquivir - Sistema SIPRESAS
    </div>
  </div>

  <div class="info-section">
    <h2>Datos Generales</h2>
    <div class="info-grid">
      <div class="info-item">
        <label>Cdigo de Orden:</label>
        <div class="value">${e.workOrder.code}</div>
      </div>
      <div class="info-item">
        <label>Presa:</label>
        <div class="value">${e.workOrder.dam.code} - ${e.workOrder.dam.name}</div>
      </div>
      <div class="info-item">
        <label>Tipo de Mantenimiento:</label>
        <div class="value">
          <span class="badge ${e.workOrder.order_type==="preventive"?"badge-preventive":"badge-corrective"}">
            ${r(e.workOrder.order_type)}
          </span>
        </div>
      </div>
      <div class="info-item">
        <label>Estado:</label>
        <div class="value">${t(e.workOrder.status)}</div>
      </div>
      ${e.workOrder.scheduled_date?`
      <div class="info-item">
        <label>Fecha Programada:</label>
        <div class="value">${new Date(e.workOrder.scheduled_date).toLocaleDateString("es-ES")}</div>
      </div>
      `:""}
      ${e.workOrder.assigned_user?`
      <div class="info-item">
        <label>Asignado a:</label>
        <div class="value">${e.workOrder.assigned_user.full_name}</div>
      </div>
      `:""}
    </div>

    <div class="info-item" style="grid-column: span 2;">
      <label>Ttulo:</label>
      <div class="value">${e.workOrder.title}</div>
    </div>

    ${e.workOrder.description?`
    <div class="info-item" style="grid-column: span 2; margin-top: 15px;">
      <label>Descripcin:</label>
      <div class="value">${e.workOrder.description}</div>
    </div>
    `:""}

    ${e.workOrder.activity?`
    <div class="info-item" style="grid-column: span 2; margin-top: 15px;">
      <label>Actividad:</label>
      <div class="value">${e.workOrder.activity.name}</div>
    </div>
    `:""}
  </div>

  <div class="info-section">
    <h2>Operaciones Realizadas</h2>
    ${e.operations.length===0?`
      <p style="color: #6b7280; font-style: italic;">No se registraron operaciones para esta orden de trabajo.</p>
    `:`
      <div class="operations-list">
        ${e.operations.map(a=>`
          <div class="operation-item">
            <div class="operation-header">
              ${a.operation_number}. ${a.operation_name}
            </div>
            ${a.operation_description?`
              <div class="operation-detail">
                <label>Descripcin:</label> ${a.operation_description}
              </div>
            `:""}
            <div class="operation-detail">
              <label>Estado:</label>
              <span class="status-badge status-${a.status==="completed"?"completed":a.status==="in_progress"?"in-progress":"pending"}">
                ${t(a.status)}
              </span>
            </div>
            ${a.result?`
              <div class="operation-detail">
                <label>Resultado:</label> ${a.result}
              </div>
            `:""}
            ${a.notes?`
              <div class="operation-detail">
                <label>Notas:</label> ${a.notes}
              </div>
            `:""}
            ${a.completed_at?`
              <div class="operation-detail">
                <label>Fecha de Completado:</label> ${new Date(a.completed_at).toLocaleString("es-ES")}
              </div>
            `:""}
          </div>
        `).join("")}
      </div>
    `}
  </div>

  <div class="closure-section">
    <h3>Cierre de Parte de Trabajo</h3>
    <div class="info-grid">
      <div class="info-item">
        <label>Fecha de Cierre:</label>
        <div class="value">${new Date(e.closure.closed_at).toLocaleString("es-ES")}</div>
      </div>
      <div class="info-item">
        <label>Cerrado por:</label>
        <div class="value">${e.closure.closed_by_name}</div>
      </div>
    </div>
    ${e.closure.observations?`
      <div class="info-item" style="margin-top: 15px;">
        <label>Observaciones Finales:</label>
        <div class="value">${e.closure.observations}</div>
      </div>
    `:""}
  </div>

  <div class="footer">
    <p>Documento generado automticamente por SIPRESAS</p>
    <p>Fecha de generacin: ${new Date().toLocaleString("es-ES")}</p>
  </div>
</body>
</html>
  `}async function iX(e,t){try{const{data:r}=await U.from("maintenance_work_orders").select("equipment_id, dam_id").eq("id",e).maybeSingle();if(!r||!r.equipment_id)return console.log("Work order does not have associated equipment, skipping BIM integration"),!1;const{data:n}=await U.from("inventory_equipment").select("has_bim_model").eq("id",r.equipment_id).maybeSingle();if(!n||!n.has_bim_model)return console.log("Equipment does not have BIM model, skipping BIM integration"),!1;const{data:a}=await U.from("bim_equipment_documents").select("id").eq("equipment_id",r.equipment_id).eq("document_type","maintenance_report").order("created_at",{ascending:!1}).limit(1).maybeSingle();return a?await U.from("bim_equipment_documents").update({file_path:t,updated_at:new Date().toISOString()}).eq("id",a.id):await U.from("bim_equipment_documents").insert({equipment_id:r.equipment_id,document_type:"maintenance_report",document_name:"ltimo Parte de Mantenimiento",file_path:t,file_format:"pdf"}),await U.from("maintenance_work_order_closure").update({sent_to_bim:!0,bim_sent_at:new Date().toISOString()}).eq("work_order_id",e),!0}catch(r){return console.error("Error sending PDF to BIM:",r),!1}}const fo=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],sX=[{value:"all",label:"Todas"},{value:"daily",label:"Diaria"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensual"},{value:"quarterly",label:"Trimestral"},{value:"semiannual",label:"Semestral"},{value:"annual",label:"Anual"}];function oX(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(""),[o,l]=p.useState(new Date().getFullYear()),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,m]=p.useState(null),[g,y]=p.useState(""),[x,v]=p.useState(!1),[w,b]=p.useState(!1),[j,N]=p.useState(null),[_,S]=p.useState({order_type:"preventive",periodicity:"monthly",month:new Date().getMonth()+1,personnel_type:"EE",title:"",description:""}),[E,C]=p.useState({orderType:"all",status:"all",periodicity:"all",personnelType:"all"});p.useEffect(()=>{D()},[]),p.useEffect(()=>{a&&O()},[a,o]),p.useEffect(()=>{A()},[e,E]);const D=async()=>{try{const M=await sv();u(M),M.length>0&&!a&&i(M[0].id)}catch(M){console.error("Error loading dams:",M)}},O=async()=>{try{f(!0);const M=await _M(a,o);t(M)}catch(M){console.error("Error loading work orders:",M)}finally{f(!1)}},A=()=>{let M=[...e];E.orderType!=="all"&&(M=M.filter(k=>k.order_type===E.orderType)),E.status!=="all"&&(M=M.filter(k=>k.status===E.status)),n(M)},$=M=>{switch(M){case"completed":return s.jsx(Re,{className:"h-4 w-4 text-green-600"});case"in_progress":return s.jsx(Cl,{className:"h-4 w-4 text-blue-600"});case"cancelled":return s.jsx(ps,{className:"h-4 w-4 text-gray-600"});default:return s.jsx(sn,{className:"h-4 w-4 text-orange-600"})}},R=M=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Realizada",cancelled:"Cancelada"})[M]||M,Z=M=>{switch(M){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"cancelled":return"bg-gray-500";default:return"bg-orange-500"}},H=M=>M==="preventive"?"Preventivo":"Correctivo",J=M=>M==="preventive"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800",B={total:r.length,pending:r.filter(k=>k.status==="pending").length,inProgress:r.filter(k=>k.status==="in_progress").length,completed:r.filter(k=>k.status==="completed").length,preventive:r.filter(k=>k.order_type==="preventive").length,corrective:r.filter(k=>k.order_type==="corrective").length},W=async()=>{if(h&&confirm("Cerrar esta orden de trabajo? Una vez cerrada no podr modificarse y se generar automticamente el PDF."))try{v(!0);const{data:M}=await U.auth.getUser();if(!M.user)throw new Error("User not authenticated");await U.from("maintenance_work_orders").update({status:"completed",is_closed:!0,closed_at:new Date().toISOString()}).eq("id",h.id);const k=await L_(h.id),{error:F}=await U.from("maintenance_work_order_closure").insert({work_order_id:h.id,closed_by:M.user.id,pdf_generated:!0,pdf_file_path:k,observations:g||null});if(F)throw F;const P=await iX(h.id,k);alert(`Orden de trabajo cerrada correctamente.

PDF generado: ${k}
`+(P?"PDF enviado automticamente al mdulo BIM.":"Este equipo no tiene modelo BIM asociado.")),y(""),await O(),m(null)}catch(M){console.error("Error closing work order:",M),alert("Error al cerrar la orden de trabajo")}finally{v(!1)}},ee=async M=>{if(confirm("Iniciar esta orden de trabajo?"))try{const{error:k}=await U.from("maintenance_work_orders").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",M);if(k)throw k;alert("Orden de trabajo iniciada correctamente"),await O();const F=e.find(P=>P.id===M);F&&m({...F,status:"in_progress",started_at:new Date().toISOString()})}catch(k){console.error("Error starting work order:",k),alert("Error al iniciar la orden de trabajo")}},ne=async M=>{if(confirm("Est seguro de eliminar esta orden de trabajo? Esta accin no se puede deshacer."))try{const{error:k}=await U.from("maintenance_work_orders").delete().eq("id",M);if(k)throw k;alert("Orden de trabajo eliminada correctamente"),await O(),m(null)}catch(k){console.error("Error deleting work order:",k),alert("Error al eliminar la orden de trabajo")}},Oe=M=>{N({...M,title:M.title,description:M.description||"",order_type:M.order_type,scheduled_month:M.scheduled_month||new Date().getMonth()+1,priority:M.priority||"medium"})},me=()=>{N(null)},wt=async()=>{if(j){if(!j.title.trim()){alert("El ttulo es obligatorio");return}try{const{error:M}=await U.from("maintenance_work_orders").update({title:j.title,description:j.description,order_type:j.order_type,scheduled_month:j.scheduled_month,priority:j.priority,updated_at:new Date().toISOString()}).eq("id",j.id);if(M)throw M;alert("Orden de trabajo actualizada correctamente"),await O(),(h==null?void 0:h.id)===j.id&&m({...h,...j}),N(null)}catch(M){console.error("Error updating work order:",M),alert("Error al actualizar la orden de trabajo: "+M.message)}}},Ve=async()=>{if(!_.title.trim()){alert("El ttulo es obligatorio");return}if(!_.description.trim()){alert("La descripcin es obligatoria");return}try{const{data:{user:M}}=await U.auth.getUser(),{data:k}=await U.from("maintenance_work_orders").select("code").order("code",{ascending:!1}).limit(1).maybeSingle();let F=1;if(k!=null&&k.code){const q=k.code.match(/WO-(\d+)/);q&&(F=parseInt(q[1])+1)}const P=`WO-${String(F).padStart(6,"0")}`,{data:I,error:te}=await U.from("maintenance_work_orders").insert([{dam_id:a,order_type:_.order_type,code:P,title:_.title,description:_.description,scheduled_month:_.month,scheduled_year:o,status:"pending",priority:"medium",is_closed:!1,created_by:M==null?void 0:M.id}]).select().single();if(te)throw te;alert("Orden de trabajo creada correctamente"),S({order_type:"preventive",periodicity:"monthly",month:new Date().getMonth()+1,personnel_type:"EE",title:"",description:""}),b(!1),await O(),I&&m(I)}catch(M){console.error("Error creating work order:",M),alert("Error al crear la orden de trabajo: "+M.message)}},he=async M=>{try{v(!0);const{data:k}=await U.from("maintenance_work_order_closure").select("pdf_file_path").eq("work_order_id",M).maybeSingle();if(k!=null&&k.pdf_file_path)alert(`Descargando PDF desde: ${k.pdf_file_path}`);else{const F=await L_(M);alert(`PDF generado y disponible en: ${F}`)}}catch(k){console.error("Error downloading PDF:",k),alert("Error al descargar el PDF")}finally{v(!1)}};return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(iv,{className:"h-7 w-7 text-blue-600"}),"Mantenimiento"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de mantenimiento preventivo y correctivo"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(qS,{className:"w-5 h-5"}),"Nueva Orden de Trabajo"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"rdenes Totales"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.total})]}),s.jsx(BS,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Preventivos"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:B.preventive})]}),s.jsx(Re,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Correctivos"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:B.corrective})]}),s.jsx(sn,{className:"h-8 w-8 text-orange-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completadas"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:B.completed})]}),s.jsx(Re,{className:"h-8 w-8 text-green-600"})]})})]}),s.jsxs(V,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("select",{value:a,onChange:M=>i(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:c.map(M=>s.jsxs("option",{value:M.id,children:[M.code," - ",M.name]},M.id))}),s.jsx("select",{value:o,onChange:M=>l(Number(M.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[2020,2021,2022,2023,2024,2025,2026].map(M=>s.jsx("option",{value:M,children:M},M))}),s.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4",children:[s.jsx(ef,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Filtros:"})]}),s.jsxs("select",{value:E.orderType,onChange:M=>C({...E,orderType:M.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos los tipos"}),s.jsx("option",{value:"preventive",children:"Preventivo"}),s.jsx("option",{value:"corrective",children:"Correctivo"})]}),s.jsxs("select",{value:E.status,onChange:M=>C({...E,status:M.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos los estados"}),s.jsx("option",{value:"pending",children:"Pendiente"}),s.jsx("option",{value:"in_progress",children:"En Progreso"}),s.jsx("option",{value:"completed",children:"Completada"}),s.jsx("option",{value:"cancelled",children:"Cancelada"})]}),s.jsx("select",{value:E.periodicity,onChange:M=>C({...E,periodicity:M.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:sX.map(M=>s.jsx("option",{value:M.value,children:M.label},M.value))})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Cronograma ",o]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-blue-50",children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 border border-gray-300",children:"Actividad"}),fo.map((M,k)=>s.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-700 border border-gray-300 min-w-[80px]",children:M},M))]})}),s.jsx("tbody",{className:"bg-white",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:13,className:"px-4 py-8 text-center text-gray-500",children:"No hay rdenes de trabajo programadas para este ao"})}):s.jsx(s.Fragment,{children:Array.from(new Set(r.map(M=>{var k;return((k=M.activity)==null?void 0:k.name)||M.title}))).map((M,k)=>{const F=r.filter(P=>{var I;return(((I=P.activity)==null?void 0:I.name)||P.title)===M});return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border border-gray-300 font-medium",children:M}),fo.map((P,I)=>{const te=F.filter(q=>q.scheduled_month===I+1);return s.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:te.length>0?s.jsx("div",{className:"flex flex-col gap-1",children:te.map(q=>s.jsx("button",{onClick:()=>m(q),className:`w-full px-2 py-1 rounded text-xs font-medium text-white ${Z(q.status)} hover:opacity-80 transition-opacity`,title:`${R(q.status)} - ${q.title}`,children:q.status==="completed"?"R":q.status==="cancelled"?"X":"P"},q.id))}):s.jsx("span",{className:"text-gray-300",children:""})},P)})]},k)})})})]})}),s.jsxs("div",{className:"mt-6 flex items-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Realizada (R)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Pendiente (P)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Cancelada (X)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),s.jsx("span",{className:"text-gray-600",children:"En Progreso (P)"})]})]})]})]}),h&&s.jsx(V,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Detalle de Orden de Trabajo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mr,{variant:"info",children:h.code}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J(h.order_type)}`,children:H(h.order_type)}),$(h.status),s.jsx("span",{className:"text-sm text-gray-600",children:R(h.status)})]})]}),s.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),j&&j.id===h.id?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ttulo *"}),s.jsx("input",{type:"text",value:j.title,onChange:M=>N({...j,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),s.jsx("textarea",{value:j.description,onChange:M=>N({...j,description:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",rows:4})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo de Orden"}),s.jsxs("select",{value:j.order_type,onChange:M=>N({...j,order_type:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:[s.jsx("option",{value:"preventive",children:"Preventivo"}),s.jsx("option",{value:"corrective",children:"Correctivo"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mes Programado"}),s.jsx("select",{value:j.scheduled_month,onChange:M=>N({...j,scheduled_month:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:fo.map((M,k)=>s.jsx("option",{value:k+1,children:M},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),s.jsxs("select",{value:j.priority,onChange:M=>N({...j,priority:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:[s.jsx("option",{value:"low",children:"Baja"}),s.jsx("option",{value:"medium",children:"Media"}),s.jsx("option",{value:"high",children:"Alta"})]})]}),h.assigned_user&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Asignado a"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.assigned_user.full_name})]})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2 flex gap-3",children:[s.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:wt,children:[s.jsx(al,{className:"w-4 h-4"}),"Guardar Cambios"]}),s.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",onClick:me,children:"Cancelar"})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ttulo"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.title})]}),h.description&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.description})]}),h.activity&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Actividad"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.activity.name})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Programada"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.scheduled_date?new Date(h.scheduled_date).toLocaleDateString("es-ES"):h.scheduled_month&&h.scheduled_year?`${fo[h.scheduled_month-1]} ${h.scheduled_year}`:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.priority})]}),h.assigned_user&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Asignado a"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.assigned_user.full_name})]})]})]}),h.status==="completed"&&h.is_closed&&s.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Lp,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Parte Cerrado"}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Esta orden de trabajo ha sido completada y cerrada el ",h.closed_at?new Date(h.closed_at).toLocaleString("es-ES"):"fecha desconocida","."]}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Los datos no pueden ser modificados."})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{disabled:x,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>he(h.id),children:[s.jsx(ms,{className:"w-4 h-4"}),x?"Generando...":"Descargar PDF"]})})]})}),(h.status==="in_progress"||h.status==="completed"&&!h.is_closed)&&!j&&s.jsxs("div",{className:"mb-6",children:[s.jsx($_,{workOrderId:h.id,isClosed:h.is_closed||!1,onOperationsChange:()=>O()}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Observaciones Finales (Opcional)"}),s.jsx("textarea",{value:g,onChange:M=>y(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Aada observaciones finales sobre el trabajo realizado..."})]}),s.jsxs("div",{className:"mt-4 flex gap-3 flex-wrap",children:[h.status==="completed"&&!h.is_closed&&s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>Oe(h),children:[s.jsx(Bp,{className:"w-4 h-4"}),"Modificar Datos Generales"]}),s.jsxs("button",{disabled:x,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:W,children:[s.jsx(Lp,{className:"w-4 h-4"}),x?"Cerrando...":"Cerrar y Generar PDF"]}),h.equipment_id&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-yellow-50 px-3 py-2 rounded-lg border border-yellow-200",children:[s.jsx(Fp,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{children:"Se enviar automticamente al mdulo BIM si el equipo tiene modelo asociado"})]})]})]}),h.status==="pending"&&!h.is_closed&&!j&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(sn,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-yellow-900",children:"Orden Pendiente"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Esta orden de trabajo est pendiente de iniciar."}),s.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Puede modificar los datos, iniciar el trabajo o eliminar la orden si no es necesaria."})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:()=>Oe(h),children:[s.jsx(Bp,{className:"w-4 h-4"}),"Modificar Orden"]}),s.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:()=>ee(h.id),children:[s.jsx(Re,{className:"w-4 h-4"}),"Iniciar Orden de Trabajo"]}),s.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:()=>ne(h.id),children:[s.jsx(KS,{className:"w-4 h-4"}),"Eliminar OT"]})]})]})}),h.is_closed&&s.jsx("div",{className:"mb-6",children:s.jsx($_,{workOrderId:h.id,isClosed:!0,onOperationsChange:()=>O()})}),s.jsx("div",{className:"mt-4 flex justify-end gap-3",children:s.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>m(null),children:"Cerrar"})})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(V,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nueva Orden de Trabajo"}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ps,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),s.jsx("select",{value:a,onChange:M=>i(M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:c.map(M=>s.jsxs("option",{value:M.id,children:[M.code," - ",M.name]},M.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Orden"}),s.jsxs("select",{value:_.order_type,onChange:M=>S({..._,order_type:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"preventive",children:"Preventivo"}),s.jsx("option",{value:"corrective",children:"Correctivo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes Programado"}),s.jsx("select",{value:_.month,onChange:M=>S({..._,month:Number(M.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:fo.map((M,k)=>s.jsx("option",{value:k+1,children:M},k))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo *"}),s.jsx("input",{type:"text",value:_.title,onChange:M=>S({..._,title:M.target.value}),placeholder:"Ej: Revisin mensual de compuertas",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),s.jsx("textarea",{value:_.description,onChange:M=>S({..._,description:M.target.value}),placeholder:"Describe las tareas a realizar en esta orden de trabajo...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:Ve,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(al,{className:"w-4 h-4"}),"Crear Orden de Trabajo"]})]})]})]})})})]})}class lX{constructor(){this.authToken=null,this.config={baseUrl:"",username:"",password:"",siteId:"sipresas"}}getAuthHeader(){if(!this.authToken){const t=btoa(`${this.config.username}:${this.config.password}`);this.authToken=`Basic ${t}`}return this.authToken}async request(t,r={}){const n=`${this.config.baseUrl}/alfresco/api/-default-/public/alfresco/versions/1${t}`,a={Authorization:this.getAuthHeader(),...r.headers};r.body instanceof FormData||(a["Content-Type"]="application/json");const i=await fetch(n,{...r,headers:a});if(!i.ok){const o=await i.text();throw new Error(`Alfresco API error: ${i.status} - ${o}`)}return i.status===204?{}:i.json()}async createFolder(t,r,n,a){return(await this.request(`/nodes/${t}/children`,{method:"POST",body:JSON.stringify({name:r,nodeType:"cm:folder",properties:{"cm:title":n||r,"cm:description":a||""}})})).entry}async uploadDocument(t,r,n){const a=new FormData;return a.append("filedata",r),a.append("name",n.name),a.append("nodeType",n.nodeType||"cm:content"),n.title&&a.append("cm:title",n.title),n.description&&a.append("cm:description",n.description),n.properties&&Object.entries(n.properties).forEach(([o,l])=>{a.append(o,String(l))}),(await this.request(`/nodes/${t}/children`,{method:"POST",body:a})).entry}async getNode(t){return(await this.request(`/nodes/${t}`)).entry}async getNodeChildren(t,r=0,n=100){return this.request(`/nodes/${t}/children?skipCount=${r}&maxItems=${n}`)}async downloadDocument(t){const r=`${this.config.baseUrl}/alfresco/api/-default-/public/alfresco/versions/1/nodes/${t}/content`,n=await fetch(r,{headers:{Authorization:this.getAuthHeader()}});if(!n.ok)throw new Error(`Failed to download document: ${n.status}`);return n.blob()}async updateNode(t,r){return(await this.request(`/nodes/${t}`,{method:"PUT",body:JSON.stringify({properties:r})})).entry}async deleteNode(t,r=!1){await this.request(`/nodes/${t}?permanent=${r}`,{method:"DELETE"})}async searchDocuments(t,r=0,n=100){const a={query:{query:t,language:"afts"},paging:{maxItems:n,skipCount:r}};return this.request("/search/request",{method:"POST",body:JSON.stringify(a)})}async searchDocumentsByMetadata(t,r=0,n=100){const a=Object.entries(t).map(([i,o])=>typeof o=="string"?`${i}:"${o}"`:`${i}:${o}`).join(" AND ");return this.searchDocuments(a,r,n)}async getSiteDocumentLibrary(t){const r=t||this.config.siteId;return(await this.request(`/sites/${r}/containers/documentLibrary`)).entry}async createFolderStructure(t,r){const n=[];for(const a of r)try{const o=(await this.getNodeChildren(t)).list.entries.find(l=>l.entry.isFolder&&l.entry.name===a.name);if(o)n.push(o.entry);else{const l=await this.createFolder(t,a.name,a.title,a.description);n.push(l)}}catch(i){throw console.error(`Error creating folder ${a.name}:`,i),i}return n}async moveNode(t,r){return(await this.request(`/nodes/${t}/move`,{method:"POST",body:JSON.stringify({targetParentId:r})})).entry}async copyNode(t,r){return(await this.request(`/nodes/${t}/copy`,{method:"POST",body:JSON.stringify({targetParentId:r})})).entry}isConfigured(){return!!(this.config.baseUrl&&this.config.username&&this.config.password)}async testConnection(){try{return await this.request("/nodes/-root-"),!0}catch(t){return console.error("Alfresco connection test failed:",t),!1}}}const Or=new lX;class cX{async uploadDocumentToAlfresco(t,r){var c;if(!Or.isConfigured())throw new Error("Alfresco no est configurado correctamente");const{data:{user:n}}=await U.auth.getUser();if(!n)throw new Error("Usuario no autenticado");let a=r.folderId;a||(a=(await Or.getSiteDocumentLibrary()).id);const i=await Or.uploadDocument(a,t,{name:t.name,title:r.title,description:r.description,properties:{"sipresas:damId":r.damId,"sipresas:documentType":r.documentType,"sipresas:version":r.version,"sipresas:tags":((c=r.tags)==null?void 0:c.join(","))||"",...r.customMetadata}}),{data:o,error:l}=await U.from("technical_documents").insert({dam_id:r.damId,folder_id:r.folderId,document_type:r.documentType,title:r.title,description:r.description||"",file_name:t.name,file_size:t.size,mime_type:t.type,version:r.version,tags:r.tags||[],storage_location:"alfresco",alfresco_node_id:i.id,alfresco_metadata:{nodeType:i.nodeType,createdAt:i.createdAt,createdBy:i.createdByUser.displayName,modifiedAt:i.modifiedAt,modifiedBy:i.modifiedByUser.displayName,content:i.content},uploaded_by:n.id,status:"active"}).select().single();if(l)throw await Or.deleteNode(i.id,!0),l;return{alfrescoNode:i,document:o}}async downloadDocumentFromAlfresco(t){const{data:r,error:n}=await U.from("technical_documents").select("*").eq("id",t).maybeSingle();if(n||!r)throw new Error("Documento no encontrado");if(r.storage_location!=="alfresco"||!r.alfresco_node_id)throw new Error("El documento no est almacenado en Alfresco");return{blob:await Or.downloadDocument(r.alfresco_node_id),document:r}}async syncDocumentFromAlfresco(t,r,n){var d,f,h,m;const a=await Or.getNode(t),{data:{user:i}}=await U.auth.getUser();if(!i)throw new Error("Usuario no autenticado");const o=await U.from("technical_documents").select("*").eq("alfresco_node_id",t).maybeSingle();if(o.data){const{data:g,error:y}=await U.from("technical_documents").update({alfresco_metadata:{nodeType:a.nodeType,createdAt:a.createdAt,createdBy:a.createdByUser.displayName,modifiedAt:a.modifiedAt,modifiedBy:a.modifiedByUser.displayName,content:a.content},file_size:((d=a.content)==null?void 0:d.sizeInBytes)||0}).eq("id",o.data.id).select().single();if(y)throw y;return g}const l=a.properties||{},{data:c,error:u}=await U.from("technical_documents").insert({dam_id:r,folder_id:n,document_type:l["sipresas:documentType"]||"other",title:l["cm:title"]||a.name,description:l["cm:description"]||"",file_name:a.name,file_size:((f=a.content)==null?void 0:f.sizeInBytes)||0,mime_type:((h=a.content)==null?void 0:h.mimeType)||"application/octet-stream",version:l["sipresas:version"]||"1.0",tags:((m=l["sipresas:tags"])==null?void 0:m.split(",").filter(Boolean))||[],storage_location:"alfresco",alfresco_node_id:t,alfresco_metadata:{nodeType:a.nodeType,createdAt:a.createdAt,createdBy:a.createdByUser.displayName,modifiedAt:a.modifiedAt,modifiedBy:a.modifiedByUser.displayName,content:a.content},uploaded_by:i.id,status:"active"}).select().single();if(u)throw u;return c}async deleteDocumentFromAlfresco(t,r=!1){const{data:n,error:a}=await U.from("technical_documents").select("*").eq("id",t).maybeSingle();if(a||!n)throw new Error("Documento no encontrado");n.storage_location==="alfresco"&&n.alfresco_node_id&&await Or.deleteNode(n.alfresco_node_id,r);const{error:i}=await U.from("technical_documents").delete().eq("id",t);if(i)throw i}async searchDocumentsInAlfresco(t,r){let n=t;return r&&(n=`${t} AND sipresas:damId:"${r}"`),(await Or.searchDocuments(n)).list.entries.map(i=>i.entry)}async syncFolderFromAlfresco(t,r,n){const a=await Or.getNodeChildren(t),i=[];for(const o of a.list.entries){const l=o.entry;if(l.isFile)try{const c=await this.syncDocumentFromAlfresco(l.id,r,n);i.push(c)}catch(c){console.error(`Error syncing document ${l.name}:`,c)}}return i}async getDocumentsByStorageLocation(t,r){let n=U.from("technical_documents").select(`
        *,
        dam:dams(*),
        folder:document_folders(*),
        uploader:user_profiles!technical_documents_uploaded_by_fkey(*)
      `).eq("storage_location",t).order("created_at",{ascending:!1});r&&(n=n.eq("dam_id",r));const{data:a,error:i}=await n;if(i)throw i;return a||[]}async testAlfrescoConnection(){return Or.testConnection()}isAlfrescoConfigured(){return Or.isConfigured()}}const Sm=new cX,uX=[{value:"all",label:"Todos los tipos"},{value:"Proyecto",label:"Proyecto"},{value:"Normativa",label:"Normativa"},{value:"Informe",label:"Informe"},{value:"Plano",label:"Plano"},{value:"Manual",label:"Manual"},{value:"Certificado",label:"Certificado"},{value:"Acta",label:"Acta"}],dX=[{value:"all",label:"Todos los estados"},{value:"approved",label:"Aprobado"},{value:"draft",label:"Borrador"},{value:"archived",label:"Archivado"},{value:"obsolete",label:"Obsoleto"}];function fX(){var M;const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState([]),[g,y]=p.useState(!0),[x,v]=p.useState(new Set),[w,b]=p.useState(""),[j,N]=p.useState(!1),[_,S]=p.useState(!1),[E,C]=p.useState(null),[D,O]=p.useState(!1),[A,$]=p.useState({documentType:"all",status:"all",storageLocation:"all"});p.useEffect(()=>{Z(),R()},[]),p.useEffect(()=>{o&&(H(),J())},[o,c]),p.useEffect(()=>{ee()},[r,A,w]);const R=async()=>{try{const k=await Sm.testAlfrescoConnection();N(k)}catch(k){console.error("Error checking Alfresco connection:",k),N(!1)}},Z=async()=>{try{const k=await sv();m(k),k.length>0&&!o&&l(k[0].id)}catch(k){console.error("Error loading dams:",k)}},H=async()=>{try{y(!0);const k=await NM(o);t(L(k))}catch(k){console.error("Error loading folders:",k)}finally{y(!1)}},J=async()=>{try{const k=await SM(o,c||void 0);n(k)}catch(k){console.error("Error loading documents:",k)}},L=k=>{const F=new Map,P=[];return k.forEach(I=>{F.set(I.id,{...I,children:[]})}),F.forEach(I=>{if(I.parent_id){const te=F.get(I.parent_id);te&&(te.children=te.children||[],te.children.push(I))}else P.push(I)}),P},B=async k=>{if(k.preventDefault(),!(!E||!o))try{O(!0),await Sm.uploadDocumentToAlfresco(E,{damId:o,folderId:c||"",documentType:"Informe",title:E.name,description:"Documento subido a Alfresco",version:"1.0"}),S(!1),C(null),J(),alert("Documento subido exitosamente a Alfresco")}catch(F){console.error("Error uploading to Alfresco:",F),alert("Error al subir documento a Alfresco")}finally{O(!1)}},W=async k=>{try{if(k.storage_location==="alfresco"){const{blob:F,document:P}=await Sm.downloadDocumentFromAlfresco(k.id),I=window.URL.createObjectURL(F),te=P.createElement("a");te.href=I,te.download=P.file_name,P.body.appendChild(te),te.click(),window.URL.revokeObjectURL(I),P.body.removeChild(te)}else alert("Descarga desde Supabase Storage no implementada an")}catch(F){console.error("Error downloading document:",F),alert("Error al descargar documento")}},ee=()=>{let k=[...r];if(A.documentType!=="all"&&(k=k.filter(F=>F.document_type===A.documentType)),A.status!=="all"&&(k=k.filter(F=>F.status===A.status)),A.storageLocation!=="all"&&(k=k.filter(F=>F.storage_location===A.storageLocation)),w){const F=w.toLowerCase();k=k.filter(P=>{var I;return P.name.toLowerCase().includes(F)||((I=P.description)==null?void 0:I.toLowerCase().includes(F))||P.file_name.toLowerCase().includes(F)})}i(k)},ne=k=>{const F=new Set(x);F.has(k)?F.delete(k):F.add(k),v(F)},Oe=(k,F=0)=>k.map(P=>{const I=x.has(P.id),te=c===P.id,q=P.children&&P.children.length>0;return s.jsxs("div",{children:[s.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-blue-50 rounded transition-colors ${te?"bg-blue-100 text-blue-700":"text-gray-700"}`,style:{paddingLeft:`${F*20+12}px`},onClick:()=>{u(P.id),q&&ne(P.id)},children:[q&&s.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),ne(P.id)},className:"focus:outline-none",children:I?"":""}),!q&&s.jsx("span",{className:"w-3"}),I||te?s.jsx(nv,{className:"h-4 w-4 text-blue-600"}):s.jsx(Qh,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:P.name})]}),q&&I&&Oe(P.children,F+1)]},P.id)}),me=k=>{switch(k){case"approved":return s.jsx(Re,{className:"h-4 w-4 text-green-600"});case"draft":return s.jsx(Cl,{className:"h-4 w-4 text-yellow-600"});case"archived":return s.jsx(lt,{className:"h-4 w-4 text-gray-600"});case"obsolete":return s.jsx(ps,{className:"h-4 w-4 text-red-600"});default:return s.jsx(lt,{className:"h-4 w-4 text-gray-600"})}},wt=k=>({approved:"Aprobado",draft:"Borrador",archived:"Archivado",obsolete:"Obsoleto"})[k]||k,Ve=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";case"obsolete":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},he=k=>{if(k===0)return"0 B";const F=1024,P=["B","KB","MB","GB"],I=Math.floor(Math.log(k)/Math.log(F));return Math.round(k/Math.pow(F,I)*100)/100+" "+P[I]};return g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(lt,{className:"h-7 w-7 text-blue-600"}),"Archivo Tcnico"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin documental y archivo tcnico de la presa"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${j?"bg-green-50":"bg-gray-50"}`,children:[s.jsx(yo,{className:`h-4 w-4 ${j?"text-green-600":"text-gray-400"}`}),s.jsxs("span",{className:`text-sm font-medium ${j?"text-green-700":"text-gray-500"}`,children:["Alfresco ",j?"Conectado":"Desconectado"]})]}),j&&s.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx($o,{className:"h-4 w-4"}),"Subir a Alfresco"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Documentos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),s.jsx(lt,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"En Alfresco"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.filter(k=>k.storage_location==="alfresco").length})]}),s.jsx(yo,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"En Supabase"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(k=>k.storage_location==="supabase").length})]}),s.jsx(em,{className:"h-8 w-8 text-green-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Aprobados"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(k=>k.status==="approved").length})]}),s.jsx(Re,{className:"h-8 w-8 text-green-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Carpetas"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),s.jsx(Qh,{className:"h-8 w-8 text-blue-600"})]})})]}),s.jsxs(V,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("select",{value:o,onChange:k=>l(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.map(k=>s.jsxs("option",{value:k.id,children:[k.code," - ",k.name]},k.id))}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:w,onChange:k=>b(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4",children:[s.jsx(ef,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Filtros:"})]}),s.jsx("select",{value:A.documentType,onChange:k=>$({...A,documentType:k.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:uX.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsx("select",{value:A.status,onChange:k=>$({...A,status:k.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:dX.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsxs("select",{value:A.storageLocation,onChange:k=>$({...A,storageLocation:k.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"Todos los almacenes"}),s.jsx("option",{value:"alfresco",children:"Alfresco"}),s.jsx("option",{value:"supabase",children:"Supabase"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 divide-x divide-gray-200",children:[s.jsxs("div",{className:"lg:col-span-1 p-4 bg-gray-50",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Estructura de Carpetas"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-blue-50 rounded transition-colors ${c===null?"bg-blue-100 text-blue-700":"text-gray-700"}`,onClick:()=>u(null),children:[s.jsx(Qh,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Todos los documentos"})]}),Oe(e)]})]}),s.jsxs("div",{className:"lg:col-span-3 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Documentos (",a.length,")"]}),a.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{children:"No hay documentos en esta ubicacin"})]}):s.jsx("div",{className:"space-y-3",children:a.map(k=>s.jsx("div",{className:`border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer ${(d==null?void 0:d.id)===k.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>f(k),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx(lt,{className:"h-5 w-5 text-blue-600 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:k.name}),k.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[s.jsx(mr,{variant:"info",children:k.document_type}),s.jsx("span",{className:`px-2 py-1 rounded font-medium ${Ve(k.status)}`,children:wt(k.status)}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded ${k.storage_location==="alfresco"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[k.storage_location==="alfresco"?s.jsx(yo,{className:"h-3 w-3"}):s.jsx(em,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:k.storage_location==="alfresco"?"Alfresco":"Supabase"})]}),s.jsxs("span",{children:["v",k.version]}),s.jsx("span",{children:""}),s.jsx("span",{children:he(k.file_size)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(k.created_at).toLocaleDateString("es-ES")}),k.uploader&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:k.uploader.full_name})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Ver",children:s.jsx(rv,{className:"h-4 w-4"})}),s.jsx("button",{onClick:F=>{F.stopPropagation(),W(k)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Descargar",children:s.jsx(ms,{className:"h-4 w-4"})})]})]})},k.id))})]})]})]}),d&&s.jsx(V,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informacin del Documento"}),s.jsxs("div",{className:"flex items-center gap-2",children:[d.code&&s.jsx(mr,{variant:"info",children:d.code}),me(d.status),s.jsx("span",{className:"text-sm text-gray-600",children:wt(d.status)})]})]}),s.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del archivo"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.file_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo de documento"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.document_type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tamao"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:he(d.file_size)})]}),d.mime_type&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo MIME"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.mime_type})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ubicacin de Almacenamiento"}),s.jsxs("div",{className:`flex items-center gap-2 mt-1 px-3 py-2 rounded-lg ${d.storage_location==="alfresco"?"bg-blue-50":"bg-green-50"}`,children:[d.storage_location==="alfresco"?s.jsx(yo,{className:"h-4 w-4 text-blue-600"}):s.jsx(em,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:`text-sm font-medium ${d.storage_location==="alfresco"?"text-blue-700":"text-green-700"}`,children:d.storage_location==="alfresco"?"Alfresco ECM":"Supabase Storage"})]})]}),d.alfresco_node_id&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID de Nodo Alfresco"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1 font-mono bg-gray-50 px-2 py-1 rounded",children:d.alfresco_node_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Versin"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.version})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de creacin"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(d.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),d.uploader&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subido por"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.uploader.full_name})]}),d.approved_by&&d.approved_at&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Aprobado por"}),s.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[(M=d.approver)==null?void 0:M.full_name," -"," ",new Date(d.approved_at).toLocaleDateString("es-ES")]})]})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(V,{className:"w-full max-w-lg mx-4",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Subir Documento a Alfresco"}),s.jsx("button",{onClick:()=>{S(!1),C(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccione archivo"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",onChange:k=>{var F;return C(((F=k.target.files)==null?void 0:F[0])||null)},className:"hidden",id:"file-upload",required:!0}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx($o,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:E?E.name:"Haga clic para seleccionar un archivo"}),E&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he(E.size)})]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Integracin con Alfresco ECM"}),s.jsx("p",{children:"El documento se almacenar en el repositorio Alfresco y se sincronizar automticamente con SIPRESAS."})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{S(!1),C(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:D,children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:!E||D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Subiendo..."]}):s.jsxs(s.Fragment,{children:[s.jsx($o,{className:"h-4 w-4"}),"Subir a Alfresco"]})})]})]})]})})})]})}function hX(){const{selectedDam:e}=vi(),[t,r]=p.useState("readings"),[n,a]=p.useState([]);p.useState(!1);const i=[{id:"1",device_code:"PZ-01",device_type:"Piezmetro",location:"Cuerpo de presa - Margen izquierda",parameter:"Nivel piezomtrico",value:345.67,unit:"m.s.n.m",measured_at:new Date().toISOString(),status:"normal",trend:"stable"},{id:"2",device_code:"INC-03",device_type:"Inclinmetro",location:"Corona de presa",parameter:"Desplazamiento horizontal",value:2.3,unit:"mm",measured_at:new Date().toISOString(),status:"warning",trend:"up"},{id:"3",device_code:"PND-05",device_type:"Pndulo",location:"Aliviadero",parameter:"Desplazamiento radial",value:1.8,unit:"mm",measured_at:new Date().toISOString(),status:"normal",trend:"down"},{id:"4",device_code:"AFO-02",device_type:"Aforador",location:"Drenaje margen derecha",parameter:"Caudal de filtracin",value:15.4,unit:"l/s",measured_at:new Date().toISOString(),status:"normal",trend:"stable"}];p.useEffect(()=>{a(e?i:[])},[e]);const o=d=>{switch(d){case"normal":return"bg-green-100 text-green-800 border-green-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"alert":return"bg-red-100 text-red-800 border-red-200"}},l=d=>{switch(d){case"normal":return Re;case"warning":return qe;case"alert":return qe}},c=d=>{switch(d){case"up":return Ds;case"down":return VS;case"stable":return nM}},u=d=>{switch(d){case"up":return"text-red-600";case"down":return"text-green-600";case"stable":return"text-gray-600"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Auscultacin"}),s.jsx("p",{className:"mt-2 text-gray-600",children:e?`Instrumentacin y monitorizacin - ${e.name}`:"Seleccione una presa"})]}),e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Dispositivos Activos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"})]}),s.jsx(Tt,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Lecturas Hoy"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"96"})]}),s.jsx(lt,{className:"w-8 h-8 text-green-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"En Alerta"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"1"})]}),s.jsx(qe,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Estado General"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Normal"})]}),s.jsx(Re,{className:"w-8 h-8 text-green-600"})]})})]}),s.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>r("readings"),className:`px-4 py-3 font-medium transition-colors ${t==="readings"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Tt,{className:"w-4 h-4 inline mr-2"}),"Lecturas Recientes"]}),s.jsxs("button",{onClick:()=>r("devices"),className:`px-4 py-3 font-medium transition-colors ${t==="devices"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(ef,{className:"w-4 h-4 inline mr-2"}),"Dispositivos"]}),s.jsxs("button",{onClick:()=>r("reports"),className:`px-4 py-3 font-medium transition-colors ${t==="reports"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(lt,{className:"w-4 h-4 inline mr-2"}),"Informes"]})]}),t==="readings"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"ltimas Lecturas"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx($o,{className:"w-4 h-4"}),"Importar Datos"]}),s.jsxs("button",{className:"px-4 py-2 bg-chg-blue text-white rounded-lg hover:bg-chg-blue-dark transition-colors flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"}),"Exportar"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(d=>{const f=l(d.status),h=c(d.trend);return s.jsx(V,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.device_code}),s.jsx(mr,{variant:"default",children:d.device_type}),s.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium border ${o(d.status)}`,children:d.status==="normal"?"Normal":d.status==="warning"?"Advertencia":"Alerta"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:d.location}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Parmetro"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.parameter})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"ltima medicin"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(d.measured_at).toLocaleString("es-ES")})]})]})]}),s.jsxs("div",{className:"text-right ml-6",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-end mb-2",children:[s.jsx(f,{className:`w-5 h-5 ${d.status==="normal"?"text-green-600":d.status==="warning"?"text-yellow-600":"text-red-600"}`}),s.jsx(h,{className:`w-5 h-5 ${u(d.trend)}`})]}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.value}),s.jsx("p",{className:"text-sm text-gray-600",children:d.unit})]})]})},d.id)})})]}),t==="devices"&&s.jsxs(V,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Inventario de Dispositivos"}),s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Tt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{children:"Listado de dispositivos de auscultacin"})]})]}),t==="reports"&&s.jsxs(V,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informes de Auscultacin"}),s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(lt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),s.jsx("p",{children:"Informes peridicos y anlisis de tendencias"})]})]})]}):s.jsxs(V,{className:"p-8 text-center",children:[s.jsx(Tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Seleccione una presa para ver los datos de auscultacin"})]})]})}function mX(){const[e,t]=p.useState("dashboard"),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(""),[h,m]=p.useState(!0),[g,y]=p.useState({dam_id:"",date:new Date().toISOString().slice(0,10),water_level:"",stored_volume:"",surface_area:"",useful_volume:"",inflow_total:"",outflow_total:"",outflow_supply:"",outflow_hydroelectric:"",outflow_ecological:"",outflow_irrigation:"",outflow_other:"",evaporation:"",rainfall:"",air_temperature:"",water_temperature:"",flood_risk_level:"normal",flood_risk_notes:"",observations:""}),[x,v]=p.useState({type:"daily-detail",damId:"",zoneId:"",systemId:"",date:new Date().toISOString().slice(0,10),startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),year:new Date().getFullYear()});p.useEffect(()=>{w()},[]),p.useEffect(()=>{d&&b(d)},[d]);const w=async()=>{try{m(!0);const[O,A,$]=await Promise.all([sv(),EM(),kM()]);n(O),i(A),l($),O.length>0&&!d&&(f(O[0].id),y({...g,dam_id:O[0].id}))}catch(O){console.error("Error loading initial data:",O)}finally{m(!1)}},b=async O=>{try{const A=await PM(O,void 0,void 0);u(A)}catch(A){console.error("Error loading dam data:",A)}},j=async O=>{O.preventDefault();try{const{data:{user:A}}=await(await Cs(async()=>{const{supabase:R}=await Promise.resolve().then(()=>U6);return{supabase:R}},void 0)).supabase.auth.getUser();if(!A){alert("Usuario no autenticado");return}const $={...g,water_level:parseFloat(g.water_level),stored_volume:parseFloat(g.stored_volume),surface_area:parseFloat(g.surface_area)||0,useful_volume:parseFloat(g.useful_volume)||0,inflow_total:parseFloat(g.inflow_total)||0,outflow_total:parseFloat(g.outflow_total)||0,outflow_supply:parseFloat(g.outflow_supply)||0,outflow_hydroelectric:parseFloat(g.outflow_hydroelectric)||0,outflow_ecological:parseFloat(g.outflow_ecological)||0,outflow_irrigation:parseFloat(g.outflow_irrigation)||0,outflow_other:parseFloat(g.outflow_other)||0,evaporation:parseFloat(g.evaporation)||0,rainfall:parseFloat(g.rainfall)||0,air_temperature:g.air_temperature?parseFloat(g.air_temperature):null,water_temperature:g.water_temperature?parseFloat(g.water_temperature):null,registered_by:A.id,verified_by:null,verified_at:null};await OM($),alert("Datos guardados exitosamente"),b(g.dam_id),N()}catch(A){console.error("Error saving data:",A),A.message.includes("duplicate")?alert("Ya existen datos para esta presa en la fecha seleccionada"):alert("Error al guardar los datos")}},N=()=>{y({...g,water_level:"",stored_volume:"",surface_area:"",useful_volume:"",inflow_total:"",outflow_total:"",outflow_supply:"",outflow_hydroelectric:"",outflow_ecological:"",outflow_irrigation:"",outflow_other:"",evaporation:"",rainfall:"",air_temperature:"",water_temperature:"",flood_risk_level:"normal",flood_risk_notes:"",observations:""})},_=O=>{switch(O){case"normal":return"bg-green-100 text-green-800";case"watch":return"bg-blue-100 text-blue-800";case"warning":return"bg-yellow-100 text-yellow-800";case"alert":return"bg-orange-100 text-orange-800";case"emergency":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=O=>({normal:"Normal",watch:"Vigilancia",warning:"Prevencin",alert:"Alerta",emergency:"Emergencia"})[O],E=()=>{const O=c[0],A=c.filter($=>$.flood_risk_level!=="normal").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Nivel Actual"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O?`${O.water_level.toFixed(2)} m`:"-"})]}),s.jsx(WS,{className:"h-8 w-8 text-blue-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Volumen Embalsado"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:O?`${O.stored_volume.toFixed(0)} hm`:"-"})]}),s.jsx(Ds,{className:"h-8 w-8 text-green-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Aportaciones"}),s.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:O?`${O.inflow_total.toFixed(2)} m/s`:"-"})]}),s.jsx(wc,{className:"h-8 w-8 text-cyan-600"})]})}),s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas Activas"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:A})]}),s.jsx(qe,{className:"h-8 w-8 text-orange-600"})]})})]}),s.jsxs(V,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Datos Recientes"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nivel (m)"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Volumen (hm)"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aportaciones"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Salidas"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Riesgo"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,10).map($=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date($.date).toLocaleDateString("es-ES")}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:$.water_level.toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:$.stored_volume.toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:$.inflow_total.toFixed(2)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:$.outflow_total.toFixed(2)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${_($.flood_risk_level)}`,children:S($.flood_risk_level)})})]},$.id))})]})})]})]})},C=()=>s.jsx(V,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Jh,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Registro de Datos Diarios"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ingrese los datos operacionales del embalse"})]})]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),s.jsx("select",{value:g.dam_id,onChange:O=>{y({...g,dam_id:O.target.value}),f(O.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:r.map(O=>s.jsxs("option",{value:O.id,children:[O.code," - ",O.name]},O.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),s.jsx("input",{type:"date",value:g.date,onChange:O=>y({...g,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de Riesgo"}),s.jsxs("select",{value:g.flood_risk_level,onChange:O=>y({...g,flood_risk_level:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"normal",children:"Normal"}),s.jsx("option",{value:"watch",children:"Vigilancia"}),s.jsx("option",{value:"warning",children:"Prevencin"}),s.jsx("option",{value:"alert",children:"Alerta"}),s.jsx("option",{value:"emergency",children:"Emergencia"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Niveles y Volmenes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel (m)"}),s.jsx("input",{type:"number",step:"0.01",value:g.water_level,onChange:O=>y({...g,water_level:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volumen Embalsado (hm)"}),s.jsx("input",{type:"number",step:"0.01",value:g.stored_volume,onChange:O=>y({...g,stored_volume:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Superficie (ha)"}),s.jsx("input",{type:"number",step:"0.01",value:g.surface_area,onChange:O=>y({...g,surface_area:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volumen til (hm)"}),s.jsx("input",{type:"number",step:"0.01",value:g.useful_volume,onChange:O=>y({...g,useful_volume:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Caudales (m/s)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aportaciones"}),s.jsx("input",{type:"number",step:"0.01",value:g.inflow_total,onChange:O=>y({...g,inflow_total:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salidas Totales"}),s.jsx("input",{type:"number",step:"0.01",value:g.outflow_total,onChange:O=>y({...g,outflow_total:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abastecimientos"}),s.jsx("input",{type:"number",step:"0.01",value:g.outflow_supply,onChange:O=>y({...g,outflow_supply:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hidroelctrico"}),s.jsx("input",{type:"number",step:"0.01",value:g.outflow_hydroelectric,onChange:O=>y({...g,outflow_hydroelectric:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caudal Ecolgico"}),s.jsx("input",{type:"number",step:"0.01",value:g.outflow_ecological,onChange:O=>y({...g,outflow_ecological:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regados"}),s.jsx("input",{type:"number",step:"0.01",value:g.outflow_irrigation,onChange:O=>y({...g,outflow_irrigation:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Datos Meteorolgicos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaporacin (mm)"}),s.jsx("input",{type:"number",step:"0.01",value:g.evaporation,onChange:O=>y({...g,evaporation:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lluvia (mm)"}),s.jsx("input",{type:"number",step:"0.01",value:g.rainfall,onChange:O=>y({...g,rainfall:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temp. Aire (C)"}),s.jsx("input",{type:"number",step:"0.1",value:g.air_temperature,onChange:O=>y({...g,air_temperature:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temp. Agua (C)"}),s.jsx("input",{type:"number",step:"0.1",value:g.water_temperature,onChange:O=>y({...g,water_temperature:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),s.jsx("textarea",{value:g.observations,onChange:O=>y({...g,observations:O.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones adicionales..."})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:N,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpiar"}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(Jh,{className:"h-4 w-4"}),"Guardar Registro"]})]})]})]})}),D=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(V,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(lt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Sistema de Informes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Genere informes de explotacin en diversos formatos"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Informe"}),s.jsxs("select",{value:x.type,onChange:O=>v({...x,type:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"daily-detail",children:"Detalle Diario del Embalse"}),s.jsx("option",{value:"daily-zone",children:"Informe Diario de Zona"}),s.jsx("option",{value:"daily-system",children:"Informe Diario por Sistema"}),s.jsx("option",{value:"annual-zone",children:"Resumen Anual de Zona"}),s.jsx("option",{value:"annual-system",children:"Resumen Anual de Sistema"}),s.jsx("option",{value:"annual-director",children:"Resumen Anual Direccin"})]})]}),x.type==="daily-detail"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),s.jsxs("select",{value:x.damId,onChange:O=>v({...x,damId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Seleccione presa"}),r.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Inicio"}),s.jsx("input",{type:"date",value:x.startDate,onChange:O=>v({...x,startDate:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Fin"}),s.jsx("input",{type:"date",value:x.endDate,onChange:O=>v({...x,endDate:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(x.type==="daily-zone"||x.type==="annual-zone")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona"}),s.jsxs("select",{value:x.zoneId,onChange:O=>v({...x,zoneId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Seleccione zona"}),a.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.type==="daily-zone"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),s.jsx("input",{type:"date",value:x.date,onChange:O=>v({...x,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(x.type==="daily-system"||x.type==="annual-system")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sistema de Explotacin"}),s.jsxs("select",{value:x.systemId,onChange:O=>v({...x,systemId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Seleccione sistema"}),o.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]})]}),x.type==="daily-system"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),s.jsx("input",{type:"date",value:x.date,onChange:O=>v({...x,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),x.type.includes("annual")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao Hidrolgico"}),s.jsx("input",{type:"number",value:x.year,onChange:O=>v({...x,year:parseInt(O.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2024"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>alert("Generar Excel (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ms,{className:"h-4 w-4"}),"Exportar a Excel"]}),s.jsxs("button",{onClick:()=>alert("Generar Word (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ms,{className:"h-4 w-4"}),"Exportar a Word"]}),s.jsxs("button",{onClick:()=>alert("Generar Grfico (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(wc,{className:"h-4 w-4"}),"Ver Grfico"]})]})]})}),s.jsxs(V,{children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vista Previa del Informe"})}),s.jsxs("div",{className:"p-6 text-center text-gray-500",children:[s.jsx(lt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{children:"Configure los parmetros y genere el informe deseado"})]})]})]});return h?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(wc,{className:"h-7 w-7 text-blue-600"}),"Explotacin"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de recursos hdricos y operacin de embalses"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("select",{value:d,onChange:O=>f(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(O=>s.jsxs("option",{value:O.id,children:[O.code," - ",O.name]},O.id))})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>t("dashboard"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="dashboard"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wc,{className:"h-4 w-4"}),"Panel de Control"]})}),s.jsx("button",{onClick:()=>t("data-entry"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="data-entry"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jh,{className:"h-4 w-4"}),"Entrada de Datos"]})}),s.jsx("button",{onClick:()=>t("reports"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-4 w-4"}),"Informes"]})})]})}),s.jsxs("div",{children:[e==="dashboard"&&E(),e==="data-entry"&&C(),e==="reports"&&D()]})]})}function pX(){var v,w,b;const{selectedDam:e}=vi(),[t,r]=p.useState(null),[n,a]=p.useState("3d"),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(!0),m=[{id:"1",presaId:"P001",presaNombre:"Presa de la Brea II",nombre:"Modelo BIM Principal",version:"2.0",formato:"IFC",tamao:"1.2 GB",fechaSubida:"2024-01-15",estado:"activo",elementos:12456,niveles:8},{id:"2",presaId:"P001",presaNombre:"Presa de la Brea II",nombre:"Aliviadero",version:"1.5",formato:"IFC",tamao:"450 MB",fechaSubida:"2023-11-20",estado:"activo",elementos:3245,niveles:4},{id:"3",presaId:"P002",presaNombre:"Presa del Pintado",nombre:"Modelo General",version:"1.0",formato:"RVT",tamao:"890 MB",fechaSubida:"2023-08-10",estado:"revision",elementos:8932,niveles:6}],g=[{id:"E001",tipo:"IfcWall",categoria:"Estructura",nombre:"Muro Cortina - Corona",nivel:"Nivel +125.00",propiedades:{Material:"Hormign Armado HA-30",Espesor:"3.5 m",Longitud:"312.5 m",Altura:"8.0 m",Volumen:"8,750 m",Cdigo:"EST-MUR-001"}},{id:"E002",tipo:"IfcBeam",categoria:"Estructura",nombre:"Viga Aliviadero",nivel:"Nivel +118.00",propiedades:{Material:"Hormign Armado HA-35",Seccin:"1.2 m  0.8 m",Longitud:"45.0 m",Volumen:"43.2 m",Cdigo:"EST-VIG-012"}}],y=j=>({activo:"bg-green-100 text-green-800 border-green-200",revision:"bg-yellow-100 text-yellow-800 border-yellow-200",obsoleto:"bg-red-100 text-red-800 border-red-200"})[j],x=j=>({IFC:"bg-blue-100 text-blue-800 border-blue-200",RVT:"bg-purple-100 text-purple-800 border-purple-200",DWG:"bg-orange-100 text-orange-800 border-orange-200",FBX:"bg-teal-100 text-teal-800 border-teal-200"})[j];return p.useEffect(()=>{async function j(){if(!(e!=null&&e.id)){h(!1);return}try{const{data:N,error:_}=await U.from("maintenance_reports").select(`
            id,
            pdf_url,
            performed_at,
            work_order:maintenance_work_orders!inner (
              code,
              title,
              dam_id
            )
          `).eq("work_order.dam_id",e.id).not("pdf_url","is",null).order("performed_at",{ascending:!1}).limit(1).maybeSingle();_?console.error("Error fetching maintenance PDF:",_):N!=null&&N.pdf_url&&d(N.pdf_url)}catch(N){console.error("Error:",N)}finally{h(!1)}}j()},[e]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Ba,{className:"text-white",size:24})}),"Mdulo BIM"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Building Information Modeling - Visualizacin y gestin de modelos 3D"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[s.jsx($o,{size:20}),"Subir Modelo BIM"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx(V,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Modelos Activos"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"8"})]}),s.jsx(Ba,{className:"text-blue-600",size:32})]})}),s.jsx(V,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Elementos Totales"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:"24,633"})]}),s.jsx(Zh,{className:"text-green-600",size:32})]})}),s.jsx(V,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Tamao Total"}),s.jsx("p",{className:"text-3xl font-bold text-purple-900",children:"2.54 GB"})]}),s.jsx(lt,{className:"text-purple-600",size:32})]})}),s.jsx(V,{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-600 font-medium mb-1",children:"Presas con BIM"}),s.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"6"})]}),s.jsx(Rp,{className:"text-orange-600",size:32})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(V,{className:"h-full",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:s.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(lt,{size:20}),"Modelos BIM Disponibles"]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",placeholder:"Buscar modelos...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m.map(j=>s.jsxs("div",{onClick:()=>r(j.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${t===j.id?"border-purple-500 bg-purple-50 shadow-md":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ba,{size:16,className:"text-purple-600"}),s.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:j.nombre})]}),s.jsx(mr,{className:y(j.estado),children:j.estado})]}),s.jsx("p",{className:"text-xs text-slate-600 mb-3",children:j.presaNombre}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(mr,{className:x(j.formato),children:j.formato}),s.jsxs("span",{className:"text-slate-600",children:["v",j.version]})]}),s.jsx("div",{className:"text-slate-600 text-right",children:j.tamao})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 pt-3 border-t border-slate-200 text-xs text-slate-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zh,{size:12}),j.elementos.toLocaleString()," elementos"]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx(Rp,{size:12}),j.niveles," niveles"]})]})]},j.id))})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(V,{className:"h-full",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:[s.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(rv,{size:20}),"Visor BIM 3D"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-300 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>a("3d"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="3d"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"3D"}),s.jsx("button",{onClick:()=>a("plano"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="plano"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Plano"}),s.jsx("button",{onClick:()=>a("lista"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="lista"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Lista"})]}),s.jsx("button",{onClick:()=>o(!i),className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm hover:bg-slate-100 transition-colors",children:s.jsx(HS,{size:16})})]})]}),s.jsx("div",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 h-[500px]",children:t?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl animate-pulse",children:s.jsx(Ba,{className:"text-white",size:48})}),s.jsx("p",{className:"text-slate-600 font-medium text-lg mb-2",children:"Visor BIM en Desarrollo"}),s.jsx("p",{className:"text-slate-500 text-sm max-w-md",children:"El visor 3D interactivo se integrar en la siguiente fase del proyecto. Soportar modelos IFC, RVT, DWG y FBX con navegacin completa."})]})}),s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[s.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:s.jsx(cM,{size:20})}),s.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:s.jsx(uM,{size:20})}),s.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:s.jsx(aM,{size:20})}),s.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:s.jsx($p,{size:20})}),s.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:s.jsx(tM,{size:20})})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-white border border-slate-300 rounded-lg p-3 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(tf,{size:16,className:"text-purple-600"}),s.jsx("span",{className:"font-semibold text-sm",children:"Informacin del Modelo"})]}),s.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[s.jsxs("p",{children:["Modelo: ",(v=m.find(j=>j.id===t))==null?void 0:v.nombre]}),s.jsxs("p",{children:["Elementos: ",(w=m.find(j=>j.id===t))==null?void 0:w.elementos.toLocaleString()]}),s.jsxs("p",{children:["Formato: ",(b=m.find(j=>j.id===t))==null?void 0:b.formato]})]})]})]}):s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ba,{className:"mx-auto mb-4 text-slate-400",size:64}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Selecciona un modelo BIM para visualizar"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Elige un modelo de la lista de la izquierda"})]})})}),i&&t&&s.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[s.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[s.jsx(oM,{size:18}),"Propiedades del Elemento"]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map(j=>s.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg hover:border-purple-300 transition-colors cursor-pointer",onClick:()=>c(j),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zh,{size:14,className:"text-purple-600"}),s.jsx("span",{className:"font-semibold text-sm text-slate-900",children:j.nombre})]}),s.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[s.jsxs("p",{children:["Tipo: ",j.tipo]}),s.jsxs("p",{children:["Categora: ",j.categoria]}),s.jsxs("p",{children:["Nivel: ",j.nivel]})]})]},j.id))})]})]})})]}),l&&s.jsxs(V,{children:[s.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:s.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(iM,{size:20}),"Propiedades Detalladas: ",l.nombre]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(l.propiedades).map(([j,N])=>s.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:j}),s.jsx("p",{className:"font-semibold text-slate-900",children:N})]},j))}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ms,{size:18}),"Exportar Propiedades"]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[s.jsx(lt,{size:18}),"Generar Informe"]})]})]})]}),u&&!f&&s.jsxs(V,{children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:[s.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(lt,{size:20}),"ltimo Informe de Mantenimiento"]}),s.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Mp,{size:16}),"Abrir en Nueva Pestaa"]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-slate-100 rounded-lg overflow-hidden",style:{height:"800px"},children:s.jsx("iframe",{src:u,className:"w-full h-full",title:"ltimo Informe de Mantenimiento"})})})]})]})}const km=[{name:"Director del Plan",email:"director.plan@miteco.es",role:"director"},{name:"Proteccin Civil Provincial",email:"proteccion.civil@junta.es",role:"authority"},{name:"Subdelegacin del Gobierno",email:"subdelega@correo.gob.es",role:"authority"},{name:"Alcalde/sa",email:"alcalde@ayuntamiento.es",role:"local_authority"},{name:"Guardia Civil",email:"guardia.civil@interior.es",role:"security"},{name:"Personal de Guardia",email:"guardia@operacion.es",role:"operator"}];function gX({isOpen:e,onClose:t,damId:r,scenarioLevel:n,scenarioId:a}){const[i,o]=p.useState("email"),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(km.map(b=>b.email)),[m,g]=p.useState(!1),[y,x]=p.useState("idle"),v=b=>{h(j=>j.includes(b)?j.filter(N=>N!==b):[...j,b])},w=async()=>{if(!l.trim()||!u.trim()||f.length===0){alert("Por favor, complete todos los campos y seleccione al menos un destinatario");return}g(!0),x("idle");try{const{data:{user:b}}=await U.auth.getUser();let j=a;if(!j){const{data:S,error:E}=await U.from("emergency_scenarios").insert({dam_id:r,scenario_type:n,activation_mode:"manual",activated_by:b==null?void 0:b.id,status:"active"}).select().single();if(E)throw E;j=S.id}const N=km.filter(S=>f.includes(S.email)).map(S=>({name:S.name,email:S.email,role:S.role})),{error:_}=await U.from("emergency_communications").insert({scenario_id:j,communication_type:i,subject:l,body:u,recipients:N,delivery_status:"sent",created_by:b==null?void 0:b.id});if(_)throw _;x("success"),setTimeout(()=>{t(),c(""),d(""),x("idle")},2e3)}catch(b){console.error("Error sending notification:",b),x("error")}finally{g(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ns,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Aviso de Emergencia"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Du,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(sn,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-orange-900",children:["Aviso de ",n.toUpperCase()]}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Este mensaje se enviar a las autoridades y personal designado segn el protocolo del Plan de Emergencia"})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Comunicacin"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>o("email"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${i==="email"?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ns,{className:"w-5 h-5 inline mr-2"}),"Email"]}),s.jsxs("button",{onClick:()=>o("sms"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${i==="sms"?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Fp,{className:"w-5 h-5 inline mr-2"}),"SMS"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destinatarios *"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:km.map(b=>s.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.includes(b.email),onChange:()=>v(b.email),className:"w-4 h-4 text-blue-600 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.name}),s.jsx("p",{className:"text-sm text-gray-600",children:b.email})]})]},b.email))}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[f.length," destinatario(s) seleccionado(s)"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto *"}),s.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),placeholder:`ALERTA: Activacin ${n.toUpperCase()}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje *"}),s.jsx("textarea",{value:u,onChange:b=>d(b.target.value),rows:8,placeholder:"Escriba el mensaje de aviso...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[u.length," caracteres"]})]}),y==="success"&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Re,{className:"w-5 h-5 text-green-600"}),s.jsx("p",{className:"text-green-800 font-medium",children:"Aviso enviado correctamente"})]}),y==="error"&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(sn,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-800 font-medium",children:"Error al enviar el aviso. Intntelo de nuevo."})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex gap-3 justify-end",children:[s.jsx("button",{onClick:t,disabled:m,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancelar"}),s.jsx("button",{onClick:w,disabled:m||!l.trim()||!u.trim()||f.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fp,{className:"w-4 h-4"}),"Enviar Aviso"]})})]})]})}):null}const Em=[{name:"Director del Plan",role:"director",phone:"+34 900 123 456",priority:1},{name:"Proteccin Civil Provincial",role:"authority",phone:"+34 900 234 567",priority:2},{name:"Subdelegacin del Gobierno",role:"authority",phone:"+34 900 345 678",priority:3},{name:"Alcalde/sa del Municipio",role:"local_authority",phone:"+34 900 456 789",priority:4},{name:"Guardia Civil - Puesto Local",role:"security",phone:"+34 900 567 890",priority:5},{name:"112 - Emergencias",role:"emergency",phone:"112",priority:6}];function vX({isOpen:e,onClose:t,damId:r,scenarioLevel:n,scenarioId:a}){const[i,o]=p.useState({}),[l,c]=p.useState(""),[u,d]=p.useState(!1),[f,h]=p.useState("idle"),m=(v,w)=>{o(b=>({...b,[v]:{status:w,time:new Date().toLocaleTimeString("es-ES")}}))},g=async()=>{if(Object.keys(i).length===0){alert("Por favor, registre al menos una llamada antes de guardar");return}d(!0),h("idle");try{const{data:{user:v}}=await U.auth.getUser();let w=a;if(!w){const{data:N,error:_}=await U.from("emergency_scenarios").insert({dam_id:r,scenario_type:n,activation_mode:"manual",activated_by:v==null?void 0:v.id,status:"active"}).select().single();if(_)throw _;w=N.id}const b=Em.map(N=>{var _,S,E;return{name:N.name,role:N.role,phone:N.phone,status:((_=i[N.phone])==null?void 0:_.status)||"pending",time:((S=i[N.phone])==null?void 0:S.time)||null,notes:((E=i[N.phone])==null?void 0:E.notes)||null}}),{error:j}=await U.from("emergency_communications").insert({scenario_id:w,communication_type:"phone",subject:`Protocolo Telefnico - ${n.toUpperCase()}`,body:l||"Protocolo telefnico ejecutado segn el Plan de Emergencia",recipients:b,delivery_status:"sent",created_by:v==null?void 0:v.id});if(j)throw j;h("success"),setTimeout(()=>{t(),o({}),c(""),h("idle")},2e3)}catch(v){console.error("Error saving telephone protocol:",v),h("error")}finally{d(!1)}};if(!e)return null;const y=Object.values(i).filter(v=>v.status==="completed").length,x=Em.length;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zp,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Protocolo Telefnico de Emergencia"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Du,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(sn,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-orange-900",children:["Protocolo de Activacin: ",n.toUpperCase()]}),s.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Realice las llamadas siguiendo el orden de prioridad establecido. Registre el estado de cada llamada."})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Progreso de Llamadas"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:`${y/x*100}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[y," / ",x]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Mensaje a Comunicar"}),s.jsx("textarea",{value:l,onChange:v=>c(v.target.value),rows:3,placeholder:"Escriba el mensaje que comunicar telefnicamente...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contactos del Protocolo"}),s.jsx("div",{className:"space-y-3",children:Em.map(v=>{const w=i[v.phone];return s.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${(w==null?void 0:w.status)==="completed"?"bg-green-50 border-green-300":(w==null?void 0:w.status)==="no_answer"?"bg-yellow-50 border-yellow-300":"bg-white border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-700 rounded-full flex items-center justify-center font-bold",children:v.priority}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:v.name}),s.jsx("p",{className:"text-sm text-gray-600",children:v.phone}),(w==null?void 0:w.time)&&s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500",children:[s.jsx(Cl,{className:"w-3 h-3"}),s.jsx("span",{children:w.time})]})]})]}),s.jsx("div",{className:"flex gap-2",children:!w||w.status==="pending"?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>m(v.phone,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[s.jsx(Re,{className:"w-4 h-4 inline mr-1"}),"Contactado"]}),s.jsx("button",{onClick:()=>m(v.phone,"no_answer"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm font-medium",children:"Sin Respuesta"})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[w.status==="completed"?s.jsxs("span",{className:"flex items-center gap-1 text-green-700 font-medium text-sm",children:[s.jsx(Re,{className:"w-4 h-4"}),"Contactado"]}):s.jsxs("span",{className:"flex items-center gap-1 text-yellow-700 font-medium text-sm",children:[s.jsx(sn,{className:"w-4 h-4"}),"Sin respuesta"]}),s.jsx("button",{onClick:()=>{const b={...i};delete b[v.phone],o(b)},className:"ml-2 text-xs text-gray-500 hover:text-gray-700 underline",children:"Reintentar"})]})})]})},v.phone)})})]}),f==="success"&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Re,{className:"w-5 h-5 text-green-600"}),s.jsx("p",{className:"text-green-800 font-medium",children:"Protocolo telefnico registrado correctamente"})]}),f==="error"&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(sn,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-800 font-medium",children:"Error al registrar el protocolo. Intntelo de nuevo."})]})]}),s.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex gap-3 justify-end",children:[s.jsx("button",{onClick:t,disabled:u,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancelar"}),s.jsx("button",{onClick:g,disabled:u||Object.keys(i).length===0,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Re,{className:"w-4 h-4"}),"Guardar Protocolo"]})})]})]})})}const Ti=[{value:"normal",label:"Situacin Normal",color:"bg-green-500",icon:Re},{value:"extraordinary",label:"Situacin Extraordinaria",color:"bg-yellow-500",icon:qe},{value:"scenario_0",label:"Escenario 0",color:"bg-orange-500",icon:qe},{value:"scenario_1",label:"Escenario 1",color:"bg-orange-600",icon:qe},{value:"scenario_2",label:"Escenario 2",color:"bg-red-500",icon:qe},{value:"scenario_3",label:"Escenario 3",color:"bg-red-700",icon:qe}];function yX(){const{selectedDam:e}=vi(),[t,r]=p.useState("plan"),[n,a]=p.useState("normal"),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,h]=p.useState([]),[m,g]=p.useState([]),[y,x]=p.useState([]),[v,w]=p.useState([]),[b,j]=p.useState([]),[N,_]=p.useState(!0),[S,E]=p.useState(null),[C,D]=p.useState(null),[O,A]=p.useState(!1),[$,R]=p.useState(!1),[Z,H]=p.useState([]),[J,L]=p.useState(null),[B,W]=p.useState({waterLevel:null,inflowLastHour:null,rainfall24h:null});p.useEffect(()=>{e?(_(!0),ee()):(_(!1),h([]),g([]),x([]),w([]),j([]))},[e]);const ee=async()=>{if(e)try{_(!0);const[P,I,te,q,Fe]=await Promise.all([U.from("warning_sirens").select("*").eq("dam_id",e.id),U.from("emergency_indicators").select("*").eq("dam_id",e.id).eq("is_active",!0).order("scenario_threshold"),U.from("emergency_procedures").select("*").eq("dam_id",e.id).order("procedure_order"),U.from("emergency_simulations").select("*").eq("dam_id",e.id).order("started_at",{ascending:!1}).limit(10),U.from("emergency_causes").select("*").order("sort_order")]);if(P.error&&console.error("Sirens error:",P.error),P.data&&h(P.data),Fe.data&&j(Fe.data),te.data&&x(te.data),q.data&&w(q.data),I.data){const or=await Promise.all(I.data.map(async Aa=>{const{data:zt}=await U.from("emergency_indicator_values").select("current_value, current_value_text, measured_at").eq("indicator_id",Aa.id).order("measured_at",{ascending:!1}).limit(1).maybeSingle(),ux=zt==null?void 0:zt.current_value,pC=Aa.indicator_type==="quantitative"&&ux!=null&&Aa.threshold_value!=null&&ux>=Aa.threshold_value;return{...Aa,current_value:zt==null?void 0:zt.current_value,current_value_text:zt==null?void 0:zt.current_value_text,measured_at:zt==null?void 0:zt.measured_at,exceeds_threshold:pC}}));g(or);const Zl=ne(or);Zl&&n==="normal"&&o(Zl)}const{data:Ue}=await U.from("emergency_scenarios").select("id, scenario_type").eq("dam_id",e.id).eq("status","active").order("activated_at",{ascending:!1}).limit(1).maybeSingle();if(Ue){L(Ue.id),a(Ue.scenario_type);const{data:or}=await U.from("emergency_communications").select("*").eq("scenario_id",Ue.id).order("sent_at",{ascending:!1});or&&H(or)}const{data:Er}=await U.from("exploitation_daily_data").select("water_level, inflow_total, rainfall, date").eq("dam_id",e.id).order("date",{ascending:!1}).limit(1).maybeSingle();if(Er){const{data:or}=await U.from("exploitation_daily_data").select("rainfall").eq("dam_id",e.id).gte("date",new Date(Date.now()-864e5).toISOString().split("T")[0]).order("date",{ascending:!1}),Zl=(or==null?void 0:or.reduce((Aa,zt)=>Aa+(Number(zt.rainfall)||0),0))||0;W({waterLevel:Er.water_level,inflowLastHour:Er.inflow_total,rainfall24h:Zl})}}catch(P){console.error("Error loading emergency data:",P)}finally{_(!1)}},ne=P=>{const I=P.filter(q=>q.exceeds_threshold);if(I.length===0)return null;const te=["scenario_3","scenario_2","scenario_1","scenario_0"];for(const q of te)if(I.some(Ue=>Ue.scenario_threshold===q))return q;return null},Oe=P=>{E(P)},me=async P=>{D(P),await new Promise(I=>setTimeout(I,2e3)),D(null),alert("Test de autodiagnstico completado exitosamente")},wt=()=>Ti.find(P=>P.value===n)||Ti[0],Ve=()=>Ti.find(P=>P.value===i)||null,he=(P,I)=>{a(P),o(null),c(!1),d(I)},M=wt(),k=Ve(),F=M.icon;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Emergencias"}),s.jsx("p",{className:"mt-2 text-gray-600",children:e?`Plan de Emergencia - ${e.name}`:"Seleccione una presa"})]}),e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>r("plan"),className:`px-4 py-3 font-medium transition-colors ${t==="plan"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(av,{className:"w-4 h-4 inline mr-2"}),"Plan de Emergencia"]}),s.jsxs("button",{onClick:()=>r("sirens"),className:`px-4 py-3 font-medium transition-colors ${t==="sirens"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(sM,{className:"w-4 h-4 inline mr-2"}),"Estado de Sirenas"]}),s.jsxs("button",{onClick:()=>r("simulations"),className:`px-4 py-3 font-medium transition-colors ${t==="simulations"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(Tt,{className:"w-4 h-4 inline mr-2"}),"Simulacros"]})]}),t==="plan"&&s.jsxs(s.Fragment,{children:[s.jsxs(V,{className:"p-6 mb-6 bg-gradient-to-r from-blue-50 to-cyan-50",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 text-chg-blue"}),"Datos en Tiempo Real del Mdulo de Explotacin"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-blue-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(WS,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Nivel de Embalse"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.waterLevel!==null?`${B.waterLevel.toFixed(2)} m`:"---"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-green-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ds,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Aportacin ltima Hora"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.inflowLastHour!==null?`${B.inflowLastHour.toFixed(2)} m/s`:"---"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-purple-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Q6,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Precipitacin 24h"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.rainfall24h!==null?`${B.rainfall24h.toFixed(1)} mm`:"---"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(V,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escenario Actual"}),s.jsx("button",{onClick:()=>c(!l),className:"px-4 py-2 bg-chg-blue text-white rounded-lg hover:bg-chg-blue-dark transition-colors",children:"Activacin Manual"})]}),s.jsx("div",{className:`p-6 rounded-lg ${M.color} bg-opacity-10 border-2 ${M.color} border-opacity-30`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F,{className:`w-12 h-12 ${M.color.replace("bg-","text-")}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:M.label}),u&&s.jsxs("p",{className:"text-gray-700 mt-1",children:["Causa: ",u]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Activado: ",new Date().toLocaleString("es-ES")]})]})]})}),i&&k&&s.jsx("div",{className:"mt-6 p-5 bg-orange-50 border-2 border-orange-400 rounded-lg shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tv,{className:"w-8 h-8 text-orange-600 flex-shrink-0 mt-1 animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:" Propuesta Automtica de Activacin"}),s.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[s.jsxs("p",{className:"text-lg text-gray-900 mb-2",children:[s.jsx("strong",{children:"Escenario Propuesto:"})," ",s.jsx("span",{className:"font-bold text-orange-600",children:k.label})]}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-700",children:s.jsx("strong",{children:"Indicadores que superan umbrales:"})}),m.filter(P=>P.exceeds_threshold&&P.scenario_threshold===i).map(P=>s.jsxs("div",{className:"ml-4 p-2 bg-orange-50 rounded text-sm",children:[" ",s.jsx("strong",{children:P.variable_name}),": ",P.current_value," (umbral: ",P.threshold_value,")"]},P.id))]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[s.jsx("strong",{children:"Evaluacin automtica realizada:"})," ",new Date().toLocaleString("es-ES")]})]}),s.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg mb-4 text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Seleccione la causa que motiva la emergencia:"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:u,onChange:P=>d(P.target.value),children:[s.jsx("option",{value:"",children:"Seleccione una causa..."}),b.map(P=>s.jsx("option",{value:P.name,children:P.name},P.id))]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{u?he(i,u):alert("Por favor, seleccione una causa antes de activar el escenario")},className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold text-lg",children:" Confirmar y Activar Escenario"}),s.jsx("button",{onClick:()=>o(null),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Descartar Propuesta"})]})]})]})}),l&&s.jsxs("div",{className:"mt-6 p-6 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Activacin Manual de Escenario"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Utilice esta opcin cuando detecte una situacin de emergencia de forma cualitativa o cuando no existan indicadores cuantitativos para todos los escenarios."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Escenario *"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:i||"",onChange:P=>o(P.target.value),children:[s.jsx("option",{value:"",children:"Seleccione un escenario..."}),Ti.slice(2).map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Causa de la Emergencia *"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:u,onChange:P=>d(P.target.value),children:[s.jsx("option",{value:"",children:"Seleccione una causa..."}),b.map(P=>s.jsx("option",{value:P.name,children:P.name},P.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin de la Situacin"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:"Describa la situacin que motiva la activacin del escenario..."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{i&&u?he(i,u):alert("Por favor, complete todos los campos obligatorios (*)")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Activar Escenario"}),s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]})]}),s.jsxs(V,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(lt,{className:"w-5 h-5 text-chg-blue"}),"Causas e Indicadores del Plan de Emergencia"]}),N?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando causas..."}):b.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay causas configuradas"}):s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-sm border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Causa"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Categora"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Indicadores Asociados"}),s.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center font-semibold",children:"Estado"})]})}),s.jsx("tbody",{children:b.map(P=>{const I=m.filter(q=>P.category==="hydrological"?q.variable_name.includes("embalse")||q.variable_name.includes("Aportacin")||q.variable_name.includes("Precipitacin"):P.category==="structural"?q.variable_name.includes("anomal")||q.variable_name.includes("Filtraciones"):P.category==="seismic"?q.variable_name.includes("sismo")||q.variable_name.includes("Magnitud"):!1),te=I.some(q=>q.exceeds_threshold);return s.jsxs("tr",{className:te?"bg-orange-50":"",children:[s.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[s.jsx("div",{className:"font-medium text-gray-900",children:P.name}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:P.description})]}),s.jsx("td",{className:"border border-gray-300 px-3 py-2",children:s.jsx(mr,{variant:P.category==="hydrological"?"default":P.category==="structural"?"warning":P.category==="seismic"?"error":"default",children:P.category==="hydrological"?"Hidrolgica":P.category==="structural"?"Estructural":P.category==="seismic"?"Ssmica":P.category==="inspection"?"Inspeccin":"Operacional"})}),s.jsx("td",{className:"border border-gray-300 px-3 py-2",children:I.length>0?s.jsxs("div",{className:"space-y-1",children:[I.slice(0,3).map(q=>s.jsxs("div",{className:"text-xs",children:[" ",q.variable_name,q.exceeds_threshold&&s.jsx("span",{className:"ml-2 text-orange-600 font-semibold",children:" Umbral superado"})]},q.id)),I.length>3&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+ ",I.length-3," ms"]})]}):s.jsx("span",{className:"text-gray-500",children:"Sin indicadores cuantitativos"})}),s.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:te?s.jsx(qe,{className:"w-5 h-5 text-orange-600 mx-auto"}):s.jsx(Re,{className:"w-5 h-5 text-green-500 mx-auto"})})]},P.id)})})]}),s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-900",children:[s.jsx("strong",{children:"Nota:"})," La evaluacin automtica monitoriza indicadores cuantitativos en tiempo real. Los indicadores cualitativos requieren evaluacin manual por el Director/a del Plan."]})]})]}),s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Indicadores Monitorizados en Tiempo Real"}),N?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando indicadores..."}):m.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay indicadores configurados para esta presa"}):s.jsx("div",{className:"space-y-3",children:m.map(P=>s.jsx("div",{className:`p-4 rounded-lg border-2 ${P.exceeds_threshold?"bg-orange-50 border-orange-300":"bg-gray-50 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Tt,{className:`w-5 h-5 ${P.exceeds_threshold?"text-orange-600":"text-chg-blue"}`}),s.jsx("span",{className:"font-medium text-gray-900",children:P.variable_name}),s.jsx(mr,{variant:P.indicator_type==="quantitative"?"default":"warning",children:P.indicator_type==="quantitative"?"Cuantitativo":"Cualitativo"}),s.jsx(mr,{variant:"default",children:P.scenario_threshold})]}),s.jsx("p",{className:"ml-8 text-sm text-gray-600 mb-2",children:P.description}),P.indicator_type==="quantitative"&&P.threshold_value&&s.jsxs("div",{className:"ml-8 space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Valor actual: "}),s.jsx("span",{className:`font-bold ${P.exceeds_threshold?"text-orange-600":"text-gray-900"}`,children:P.current_value!==null&&P.current_value!==void 0?P.current_value:"---"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Umbral: "}),s.jsx("span",{className:"font-semibold text-gray-900",children:P.threshold_value})]})]}),P.current_value!==null&&P.current_value!==void 0&&s.jsx("div",{children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:`h-3 rounded-full transition-all ${P.exceeds_threshold?"bg-orange-600":"bg-green-500"}`,style:{width:`${Math.min(P.current_value/P.threshold_value*100,100)}%`}})})}),P.measured_at&&s.jsxs("p",{className:"text-xs text-gray-500",children:["ltima medicin: ",new Date(P.measured_at).toLocaleString("es-ES")]})]}),P.indicator_type==="qualitative"&&s.jsxs("div",{className:"ml-8 text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Valor: "}),s.jsx("span",{className:"font-medium text-gray-900",children:P.current_value_text||"Pendiente de evaluacin manual"})]})]}),P.exceeds_threshold?s.jsx(qe,{className:"w-6 h-6 text-orange-600 flex-shrink-0"}):s.jsx(Re,{className:"w-6 h-6 text-green-500 flex-shrink-0"})]})},P.id))})]}),n!=="normal"&&y.length>0&&s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Procedimientos de Actuacin"}),s.jsx("div",{className:"space-y-3",children:y.filter(P=>P.scenario_type===n).map(P=>s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-chg-blue text-white rounded-full flex items-center justify-center font-bold",children:P.procedure_order}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(lt,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:P.title}),s.jsx(mr,{variant:P.procedure_type==="inspection"?"default":"warning",children:P.procedure_type==="inspection"?"Inspeccin":"Ejecucin"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.description}),P.checklist_items&&P.checklist_items.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:P.checklist_items.map((I,te)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",className:"rounded"}),s.jsx("span",{className:"text-gray-600",children:I.item})]},te))})]})]},P.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Comunicaciones"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>A(!0),className:"w-full p-4 bg-blue-50 border-2 border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ns,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Enviar Aviso"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Email / SMS"})]}),s.jsx(qb,{className:"w-4 h-4 text-blue-600"})]})}),s.jsx("button",{onClick:()=>R(!0),className:"w-full p-4 bg-green-50 border-2 border-green-200 rounded-lg hover:bg-green-100 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zp,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Protocolo Telefnico"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Llamadas de emergencia"})]}),s.jsx(qb,{className:"w-4 h-4 text-green-600"})]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Historial de Avisos"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Z.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay avisos registrados"}):Z.map(P=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[P.communication_type==="email"&&s.jsx(ns,{className:"w-3 h-3 text-blue-600"}),P.communication_type==="sms"&&s.jsx(ns,{className:"w-3 h-3 text-purple-600"}),P.communication_type==="phone"&&s.jsx(zp,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"font-medium text-gray-900",children:P.subject||"Comunicacin"})]}),P.delivery_status==="sent"?s.jsx(Re,{className:"w-4 h-4 text-green-500"}):P.delivery_status==="failed"?s.jsx(ps,{className:"w-4 h-4 text-red-500"}):s.jsx(Cl,{className:"w-4 h-4 text-yellow-500"})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Enviado: ",new Date(P.sent_at).toLocaleString("es-ES")]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Array.isArray(P.recipients)?P.recipients.length:0," destinatario(s)"]})]},P.id))})]})]}),s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Cartografa"}),s.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(nl,{className:"w-12 h-12 text-gray-400"})}),s.jsx("button",{className:"w-full mt-3 px-4 py-2 bg-chg-blue text-white rounded-lg hover:bg-chg-blue-dark transition-colors",children:"Ver Mapa de Afecciones"})]}),s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Registro de Acciones"}),s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Inspeccin visual realizada"}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Operario: Juan Garca - ",new Date().toLocaleTimeString("es-ES")]})]})}),s.jsx("button",{className:"w-full px-4 py-2 border-2 border-chg-blue text-chg-blue rounded-lg hover:bg-blue-50 transition-colors",children:"Registrar Nueva Accin"})]})]})]})]}),t==="sirens"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(V,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estado de Equipos de Aviso"}),N?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando sirenas..."}):f.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay sirenas configuradas para esta presa"}):s.jsx("div",{className:"space-y-3",children:f.map(P=>s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Hb,{className:`w-5 h-5 ${P.operational_status==="operational"?"text-green-500":"text-yellow-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:P.location_name}),s.jsx("p",{className:"text-sm text-gray-600",children:P.siren_code}),P.last_check_at&&s.jsxs("p",{className:"text-xs text-gray-500",children:["ltimo check: ",new Date(P.last_check_at).toLocaleDateString("es-ES")]})]})]}),s.jsx(mr,{variant:P.operational_status==="operational"?"success":"warning",children:P.operational_status==="operational"?"Operativa":P.operational_status==="degraded"?"Degradada":"Fallo"})]}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsxs("button",{onClick:()=>Oe(P.id),className:`flex-1 px-3 py-2 text-sm rounded transition-colors ${S===P.id?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[s.jsx(rv,{className:"w-4 h-4 inline mr-1"}),"Ver en Mapa"]}),s.jsxs("button",{onClick:()=>me(P.id),disabled:C===P.id,className:`flex-1 px-3 py-2 text-sm rounded transition-colors ${C===P.id?"bg-gray-300 text-gray-600 cursor-wait":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[s.jsx(Tt,{className:`w-4 h-4 inline mr-1 ${C===P.id?"animate-pulse":""}`}),C===P.id?"Probando...":"Test Autodiagnstico"]})]})]},P.id))})]}),s.jsxs(V,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Mapa de Sirenas"}),s.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-50 to-green-50 rounded-lg relative border-2 border-gray-200 overflow-hidden",children:f.length===0?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(nl,{className:"w-16 h-16 text-gray-400"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 p-4",children:s.jsx("div",{className:"w-full h-full relative",children:f.map((P,I)=>{const te=S===P.id,q=15+I*20%70,Fe=20+I*25%60;return s.jsx("div",{className:`absolute transition-all duration-300 ${te?"z-10 scale-150":"z-0"}`,style:{left:`${q}%`,top:`${Fe}%`},children:s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>E(P.id),children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shadow-lg ${P.operational_status==="operational"?"bg-green-500":P.operational_status==="degraded"?"bg-yellow-500":"bg-red-500"} ${te?"ring-4 ring-blue-400 animate-pulse":""}`,children:s.jsx(Hb,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:`absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-white px-2 py-1 rounded shadow-lg whitespace-nowrap text-xs ${te||"opacity-0 group-hover:opacity-100"} transition-opacity pointer-events-none`,children:[s.jsx("div",{className:"font-medium",children:P.location_name}),s.jsx("div",{className:"text-gray-600",children:P.siren_code})]})]})},P.id)})})}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-white/90 px-3 py-2 rounded shadow text-xs",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Leyenda"}),s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Operativa"})]}),s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Degradada"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Fallo"})]})]})]})}),s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Resumen:"})," ",f.filter(P=>P.operational_status==="operational").length," sirenas operativas de ",f.length," totales"]}),S&&s.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Haz clic en un punto del mapa para ver detalles de la sirena"})]})]})]}),t==="simulations"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(V,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nuevo Simulacro"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Simulacro"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Entrenamiento (sin envo real de avisos)"}),s.jsx("option",{children:"Simulacro Reglado (con envo de avisos)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Escenario a Simular"}),s.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:Ti.slice(2).map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Causa de la Emergencia"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Avenida extraordinaria"}),s.jsx("option",{children:"Deslizamiento de ladera"}),s.jsx("option",{children:"Sismo de gran magnitud"}),s.jsx("option",{children:"Fallo estructural"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participantes"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:"Nombres de los participantes del simulacro..."})]}),s.jsxs("button",{className:"w-full px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:[s.jsx(Tt,{className:"w-4 h-4 inline mr-2"}),"Iniciar Simulacro"]})]})]})}),s.jsx("div",{children:s.jsxs(V,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Historial de Simulacros"}),N?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando simulacros..."}):v.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay simulacros registrados"}):s.jsx("div",{className:"space-y-3",children:v.map(P=>{var I;return s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(BS,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:((I=Ti.find(te=>te.value===P.scenario_type))==null?void 0:I.label)||P.scenario_type})]}),s.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[new Date(P.started_at).toLocaleDateString("es-ES")," - ",P.simulation_type==="training"?"Entrenamiento":"Simulacro Reglado"]}),P.cause&&s.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Causa: ",P.cause]}),s.jsx(mr,{variant:P.completed_at?"success":"warning",children:P.completed_at?"Completado":"En curso"}),P.evaluation_notes&&s.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:P.evaluation_notes})]},P.id)})})]})})]})]}):s.jsxs(V,{className:"p-8 text-center",children:[s.jsx(qe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Seleccione una presa para acceder al Plan de Emergencia"})]}),s.jsx(gX,{isOpen:O,onClose:()=>{A(!1),ee()},damId:(e==null?void 0:e.id)||"",scenarioLevel:n,scenarioId:J||void 0}),s.jsx(vX,{isOpen:$,onClose:()=>{R(!1),ee()},damId:(e==null?void 0:e.id)||"",scenarioLevel:n,scenarioId:J||void 0})]})}const xX={"GQ-001":{x:52,y:60},"GQ-002":{x:75,y:32},"GQ-003":{x:58,y:44},"GQ-004":{x:72,y:38},"GQ-005":{x:56,y:35},"GQ-006":{x:70,y:55}};function bX(){const[e,t]=p.useState(null),[r,n]=p.useState(null),[a,i]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState(!0),d=Na(),{selectDam:f}=vi();p.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const{data:v,error:w}=await U.from("dams").select("*").order("code");if(w)throw w;const b=(v||[]).filter(j=>j.code.startsWith("GQ-")).map(j=>{const N=xX[j.code]||{x:50,y:50};return{id:j.id,codigo:j.code,nombre:j.name,cuenca:"Guadalquivir",provincia:j.province||"",municipio:j.municipality||"",rio:j.river||"",x:N.x,y:N.y,capacidad_maxima:j.max_capacity,nivel_actual:j.current_level,volumen_actual:j.current_volume,altura:j.height}});l(b)}catch(v){console.error("Error loading dams:",v)}finally{u(!1)}},m=o.filter(v=>v.cuenca==="Guadalquivir"),y=o.filter(v=>v.nombre.toLowerCase().includes(a.toLowerCase())||v.codigo.toLowerCase().includes(a.toLowerCase())),x=async v=>{t(v);const w=o.find(b=>b.id===v);if(w){const{data:b,error:j}=await U.from("dams").select("*").eq("id",v).maybeSingle();if(j){console.error("Error fetching dam from database:",j);return}if(b){const N={id:b.id,code:b.code,name:b.name,dam_type:b.dam_type||"Gravedad",province:b.province,municipality:b.municipality,river:b.river,max_capacity:b.max_capacity,capacity_hm3:b.capacity_hm3||b.max_capacity,current_level:b.current_level,current_volume:b.current_volume,operational_status:b.operational_status||"operational",height:b.height,coordinates:b.coordinates||"",created_at:b.created_at};f(N),d(`/dam/${b.id}`)}else console.error(`Dam with id ${v} not found in database`),alert(`La presa ${w.nombre} no est disponible en la base de datos. Por favor, contacte al administrador.`)}};return c?s.jsx("div",{className:"flex items-center justify-center min-h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600",children:"Cargando mapa de presas..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(nl,{className:"text-white",size:24})}),"Seleccione la Presa"]}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Mapa interactivo de presas y embalses"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsx("div",{className:"lg:col-span-8",children:s.jsxs(V,{className:"overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[s.jsx(nl,{size:20}),"Cuenca del Guadalquivir"]}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full"}),s.jsx("span",{className:"text-slate-600",children:"Presa"})]})})]})}),s.jsxs("div",{className:"relative bg-gradient-to-br from-sky-100 via-blue-50 to-cyan-50",style:{height:"700px"},children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 1000 800",preserveAspectRatio:"xMidYMid meet",children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"landGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[s.jsx("stop",{offset:"0%",style:{stopColor:"#fef3c7",stopOpacity:1}}),s.jsx("stop",{offset:"50%",style:{stopColor:"#fde68a",stopOpacity:1}}),s.jsx("stop",{offset:"100%",style:{stopColor:"#fcd34d",stopOpacity:1}})]}),s.jsx("filter",{id:"shadow",children:s.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodOpacity:"0.3"})}),s.jsx("filter",{id:"landShadow",children:s.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.15"})})]}),s.jsx("rect",{width:"1000",height:"800",fill:"#e0f2fe"}),s.jsx("path",{d:"M 150,250 L 220,220 L 320,200 L 420,210 L 520,230 L 620,260 L 720,300 L 800,350 L 850,420 L 870,490 L 850,560 L 800,620 L 720,660 L 620,680 L 520,690 L 420,685 L 320,670 L 250,640 L 200,600 L 160,550 L 140,480 L 130,400 L 140,320 Z",fill:"url(#landGradient)",stroke:"#d97706",strokeWidth:"4",filter:"url(#landShadow)"}),s.jsx("path",{d:"M 150,250 L 140,320 L 130,400 L 140,480 L 160,550",fill:"none",stroke:"#92400e",strokeWidth:"4",strokeDasharray:"8,6",opacity:"0.7"}),s.jsx("path",{d:"M 160,550 L 180,590 L 200,620 L 230,650 L 270,675 L 310,685",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.4"}),s.jsx("path",{d:"M 310,685 L 340,692 L 370,695 L 400,693",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.5"}),s.jsx("circle",{cx:"350",cy:"693",r:"6",fill:"#991b1b",stroke:"#7f1d1d",strokeWidth:"2",children:s.jsx("title",{children:"Gibraltar"})}),s.jsx("path",{d:"M 400,693 L 450,688 L 520,675 L 600,655 L 680,630 L 720,610",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.4"}),s.jsx("path",{d:"M 720,610 L 760,560 L 800,500 L 820,440",fill:"none",stroke:"#92400e",strokeWidth:"3",strokeDasharray:"6,4",opacity:"0.5"}),s.jsx("path",{d:"M 820,440 L 840,370 L 850,300 L 840,240 L 800,200 L 750,180 L 680,170 L 600,175 L 520,190 L 440,200 L 360,205 L 280,215 L 220,220",fill:"none",stroke:"#92400e",strokeWidth:"3",strokeDasharray:"6,4",opacity:"0.5"}),s.jsx("path",{d:"M 750,250 Q 680,310 600,360 Q 520,400 440,430 Q 360,455 280,470 Q 230,480 190,495",fill:"none",stroke:"#2563eb",strokeWidth:"6",opacity:"0.8"}),s.jsx("path",{d:"M 720,580 Q 680,540 640,500 Q 600,470 560,450 L 520,440",fill:"none",stroke:"#3b82f6",strokeWidth:"4",opacity:"0.6"}),s.jsx("path",{d:"M 800,450 Q 760,410 720,380 Q 680,360 640,350",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),s.jsx("path",{d:"M 780,320 Q 740,330 700,340 Q 660,350 620,360",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),s.jsx("path",{d:"M 650,240 Q 620,280 590,310 L 560,330",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),s.jsx("path",{d:"M 480,290 Q 460,330 440,360 L 420,390",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),s.jsx("ellipse",{cx:"500",cy:"250",rx:"180",ry:"45",fill:"#78350f",opacity:"0.2"}),s.jsx("ellipse",{cx:"700",cy:"280",rx:"120",ry:"35",fill:"#78350f",opacity:"0.2"}),s.jsx("ellipse",{cx:"600",cy:"580",rx:"160",ry:"50",fill:"#78350f",opacity:"0.25"}),s.jsx("ellipse",{cx:"720",cy:"520",rx:"100",ry:"40",fill:"#78350f",opacity:"0.25"}),s.jsx("ellipse",{cx:"680",cy:"600",rx:"70",ry:"35",fill:"#92400e",opacity:"0.3"}),s.jsx("text",{x:"240",y:"420",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"HUELVA"}),s.jsx("text",{x:"320",y:"540",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"CDIZ"}),s.jsx("text",{x:"450",cy:"490",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"SEVILLA"}),s.jsx("text",{x:"580",y:"440",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"CRDOBA"}),s.jsx("text",{x:"700",y:"400",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"JAN"}),s.jsx("text",{x:"550",y:"620",fill:"#78350f",fontSize:"30",fontWeight:"bold",opacity:"0.35",children:"MLAGA"}),s.jsx("text",{x:"700",y:"570",fill:"#78350f",fontSize:"30",fontWeight:"bold",opacity:"0.35",children:"GRANADA"}),s.jsx("text",{x:"780",y:"500",fill:"#78350f",fontSize:"28",fontWeight:"bold",opacity:"0.35",children:"ALMERA"}),s.jsx("text",{x:"380",y:"395",fill:"#1e40af",fontSize:"24",fontWeight:"bold",opacity:"0.5",transform:"rotate(-8 380 395)",children:"RO GUADALQUIVIR"}),s.jsx("text",{x:"420",y:"265",fill:"#92400e",fontSize:"20",fontWeight:"bold",opacity:"0.4",children:"SIERRA MORENA"}),s.jsx("text",{x:"560",y:"595",fill:"#92400e",fontSize:"20",fontWeight:"bold",opacity:"0.4",children:"SIERRA NEVADA"})]}),m.map(v=>{const w=r===v.id,b=e===v.id;return s.jsx("div",{style:{position:"absolute",left:`${v.x}%`,top:`${v.y}%`,transform:"translate(-50%, -100%)",transition:"all 0.2s",zIndex:w||b?20:10},onMouseEnter:()=>n(v.id),onMouseLeave:()=>n(null),children:s.jsx("button",{onClick:()=>x(v.id),className:`relative transform transition-all ${w||b?"scale-125":"scale-100"}`,children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-8 h-10 flex items-center justify-center transition-all ${w||b?"animate-bounce":""}`,children:s.jsxs("svg",{width:"32",height:"40",viewBox:"0 0 32 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M16 0C7.163 0 0 7.163 0 16c0 8.837 16 24 16 24s16-15.163 16-24C32 7.163 24.837 0 16 0z",fill:"#2563eb",stroke:"#1e40af",strokeWidth:"1.5"}),s.jsx("circle",{cx:"16",cy:"16",r:"6",fill:"white"}),s.jsx(US,{x:"11",y:"11",width:"10",height:"10",className:"text-blue-600",fill:"#2563eb"})]})}),(w||b)&&s.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 whitespace-nowrap",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-3 border-2 border-blue-500 min-w-[200px]",children:[s.jsx("p",{className:"text-xs font-bold text-blue-900 mb-1",children:v.nombre}),s.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["Cdigo: ",v.codigo]}),s.jsxs("p",{className:"text-xs text-slate-600",children:["Cuenca: ",v.cuenca]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:s.jsxs("p",{className:"text-xs text-blue-600 font-medium flex items-center gap-1",children:[s.jsx(rs,{size:12}),"Click para seleccionar"]})})]})})]})})},v.id)}),s.jsx("div",{className:"absolute bottom-4 right-4 bg-white border-2 border-slate-300 rounded-lg shadow-lg overflow-hidden",children:s.jsxs("div",{className:"relative w-40 h-32 bg-gradient-to-br from-sky-100 to-cyan-100",children:[s.jsx("div",{className:"absolute top-1 left-1 text-[8px] font-bold text-slate-700 z-10",children:"ANDALUCA"}),s.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1000 800",children:[s.jsx("rect",{width:"1000",height:"800",fill:"#e0f2fe"}),s.jsx("path",{d:"M 150,250 L 220,220 L 320,200 L 420,210 L 520,230 L 620,260 L 720,300 L 800,350 L 850,420 L 870,490 L 850,560 L 800,620 L 720,660 L 620,680 L 520,690 L 420,685 L 320,670 L 250,640 L 200,600 L 160,550 L 140,480 L 130,400 L 140,320 Z",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"4"}),s.jsx("path",{d:"M 750,250 Q 680,310 600,360 Q 520,400 440,430 Q 360,455 280,470 Q 230,480 190,495",fill:"none",stroke:"#2563eb",strokeWidth:"4",opacity:"0.8"})]})]})})]})]})}),s.jsx("div",{className:"lg:col-span-4",children:s.jsxs(V,{className:"h-full",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:[s.jsx("h2",{className:"font-semibold text-slate-900 mb-3",children:"Lista de Presas"}),s.jsxs("div",{className:"relative",children:[s.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Buscar presa...",value:a,onChange:v=>i(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"640px"},children:y.length>0?s.jsx("div",{className:"divide-y divide-slate-200",children:y.map(v=>s.jsx("button",{onClick:()=>x(v.id),onMouseEnter:()=>n(v.id),onMouseLeave:()=>n(null),className:`w-full text-left p-4 hover:bg-blue-50 transition-colors ${r===v.id||e===v.id?"bg-blue-50 border-l-4 border-blue-600":""}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),s.jsx("p",{className:"font-semibold text-sm text-slate-900",children:v.codigo})]}),s.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:v.nombre}),s.jsx("p",{className:"text-xs text-slate-500",children:v.cuenca})]}),s.jsx(rs,{size:16,className:`text-slate-400 transition-transform ${r===v.id?"translate-x-1":""}`})]})},v.id))}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(il,{className:"mx-auto text-slate-300 mb-3",size:48}),s.jsx("p",{className:"text-slate-600 font-medium",children:"No se encontraron presas"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Intenta con otro trmino de bsqueda"})]})})]})})]}),s.jsx(V,{className:"p-6 bg-gradient-to-r from-blue-50 to-cyan-50 border-blue-200",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(tf,{className:"text-blue-600 flex-shrink-0",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Mapa Interactivo de Presas"}),s.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Haz clic sobre cualquier marcador azul en el mapa o selecciona una presa de la lista lateral para trabajar con ella. Una vez seleccionada, podrs acceder a su ficha tcnica completa y todos los mdulos funcionales del sistema (Inventario, Mantenimiento, Auscultacin, etc.)."}),s.jsx("div",{className:"flex items-center gap-4 mt-3 text-xs text-blue-600",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),s.jsxs("span",{children:[m.length," presas en la cuenca del Guadalquivir"]})]})})]})]})})]})}function wX(){const[e,t]=p.useState("alerts"),[r,n]=p.useState(!1),a=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Configuracin del Sistema"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Ajustes de umbrales, alertas y notificaciones"})]}),r&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(al,{className:"text-white",size:16})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:"Configuracin guardada"}),s.jsx("p",{className:"text-sm text-green-700",children:"Los cambios se han aplicado correctamente"})]})]}),s.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:[{id:"alerts",label:"Umbrales de Alerta",icon:tv},{id:"sensors",label:"Sensores",icon:yo},{id:"notifications",label:"Notificaciones",icon:ns},{id:"security",label:"Seguridad",icon:av}].map(i=>{const o=i.icon;return s.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${e===i.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:[s.jsx(o,{size:18}),i.label]},i.id)})}),e==="alerts"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Umbrales"}),s.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Define los valores de advertencia y crticos para cada tipo de sensor"}),s.jsx("div",{className:"space-y-4",children:Yb.map(i=>s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:i.name}),s.jsx("p",{className:"text-sm text-slate-600",children:i.id})]}),s.jsx("span",{className:"text-sm px-2 py-1 bg-white rounded border border-slate-200",children:i.unit})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Mnimo"}),s.jsx("input",{type:"number",defaultValue:i.threshold.min,className:"w-full px-3 py-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Mximo"}),s.jsx("input",{type:"number",defaultValue:i.threshold.max,className:"w-full px-3 py-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-orange-600 mb-1",children:"Advertencia"}),s.jsx("input",{type:"number",defaultValue:i.threshold.warning,className:"w-full px-3 py-2 text-sm border border-orange-300 bg-orange-50 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-red-600 mb-1",children:"Crtico"}),s.jsx("input",{type:"number",defaultValue:i.threshold.critical,className:"w-full px-3 py-2 text-sm border border-red-300 bg-red-50 rounded focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]},i.id))})]})}),e==="sensors"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Gestin de Sensores"}),s.jsx("div",{className:"space-y-4",children:Yb.map(i=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${i.status==="operational"?"bg-green-500":i.status==="warning"?"bg-orange-500":i.status==="critical"?"bg-red-500":"bg-slate-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-900",children:i.name}),s.jsxs("p",{className:"text-sm text-slate-600",children:[i.id," - ",i.location.zone]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Calibrar"}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Configurar"})]})]},i.id))})]})}),e==="notifications"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Notificaciones"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Alertas por Email"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Alertas crticas"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Alertas de alta prioridad"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Alertas de prioridad media"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Destinatarios"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"email",placeholder:"operador@presa.com",defaultValue:"operador@presa.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("input",{type:"email",placeholder:"supervisor@presa.com",defaultValue:"supervisor@presa.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+ Agregar destinatario"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Frecuencia de Reportes"}),s.jsxs("select",{className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{children:"Diario"}),s.jsx("option",{children:"Semanal"}),s.jsx("option",{children:"Mensual"})]})]})]})]})}),e==="security"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Seguridad"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Gestin de Usuarios"}),s.jsx("div",{className:"space-y-3",children:["Operador Principal","Supervisor Tcnico","Tcnico de Mantenimiento"].map((i,o)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(lM,{size:20,className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:i}),s.jsxs("p",{className:"text-xs text-slate-500",children:["ltimo acceso: hace ",o+1,"h"]})]})]}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Editar permisos"})]},o))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Registro de Auditora"}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Registrar todas las acciones del usuario"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Sesiones"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Tiempo de sesin inactiva:"}),s.jsx("span",{className:"font-medium text-slate-900",children:"30 minutos"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Sesiones activas:"}),s.jsx("span",{className:"font-medium text-slate-900",children:"3"})]})]})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{className:"px-6 py-2 text-slate-600 font-medium hover:bg-slate-100 rounded-lg transition-colors",children:"Cancelar"}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(al,{size:18}),"Guardar Cambios"]})]})]})}function jX(){return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"header-sipresas",children:"Gua de Paleta de Colores SIPRESAS"}),s.jsx("p",{className:"text-sipresas-muted",children:"Referencia visual completa de colores institucionales y funcionales"})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Colores Institucionales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-darker rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Ms Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#082841"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-dark rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#0d3859"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-primary rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Primario"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#1e5a8e"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-secondary rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Secundario"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#2874b5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-light rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#4a9fd8"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-lighter rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-sipresas-dark text-xs font-medium",children:"Azul Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#a4c8e1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-sipresas-lightest rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-sipresas-dark text-xs font-medium",children:"Azul Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#e8f2f9"})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Colores Hidrulicos (Aqua)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-cyan-700 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#0e7490"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-cyan-500 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Principal"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#06b6d4"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-cyan-400 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#22d3ee"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-cyan-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs font-medium",children:"Aqua Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#67e8f9"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-24 bg-cyan-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs font-medium",children:"Aqua Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#cffafe"})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Colores Funcionales"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Verde - xito / Operativo"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-green-800 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Verde Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#15803d"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-green-600 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Verde Principal"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#16a34a"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-green-500 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Verde Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#22c55e"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-green-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Verde Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#86efac"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-green-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Verde Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#dcfce7"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Amarillo - Advertencia / Precaucin"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-yellow-700 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Amarillo Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#b45309"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-yellow-600 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Amarillo Principal"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#ca8a04"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-yellow-500 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#eab308"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-yellow-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#fde047"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-yellow-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#fef9c3"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Naranja - Alerta / Atencin"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-orange-800 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Naranja Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#c2410c"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-orange-600 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Naranja Principal"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#ea580c"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-orange-500 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Naranja Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#f97316"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-orange-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Naranja Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#fdba74"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-orange-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Naranja Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#ffedd5"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rojo - Error / Emergencia / Crtico"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-red-800 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Rojo Oscuro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#b91c1c"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-red-600 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Rojo Principal"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#dc2626"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-red-500 rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Rojo Medio"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#ef4444"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-red-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Rojo Claro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#fca5a5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-20 bg-red-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 text-xs",children:"Rojo Ultraclaro"})}),s.jsx("p",{className:"text-xs text-center font-mono",children:"#fee2e2"})]})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Botones"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{className:"btn-sipresas-primary",children:"Primario"}),s.jsx("button",{className:"btn-sipresas-secondary",children:"Secundario"}),s.jsx("button",{className:"btn-sipresas-outline",children:"Outline"}),s.jsx("button",{className:"btn-sipresas-success",children:"xito"}),s.jsx("button",{className:"btn-sipresas-warning",children:"Advertencia"}),s.jsx("button",{className:"btn-sipresas-danger",children:"Peligro"})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Badges y Estados"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Estados Operacionales"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("span",{className:"status-operational",children:[s.jsx(Re,{size:14}),"Operativa"]}),s.jsxs("span",{className:"status-maintenance",children:[s.jsx(Tt,{size:14}),"Mantenimiento"]}),s.jsxs("span",{className:"status-alert",children:[s.jsx(qe,{size:14}),"Alerta"]}),s.jsxs("span",{className:"status-warning",children:[s.jsx(qe,{size:14}),"Advertencia"]}),s.jsxs("span",{className:"status-emergency",children:[s.jsx(ps,{size:14}),"Emergencia"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Badges Funcionales"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"badge-sipresas-primary",children:"Primario"}),s.jsx("span",{className:"badge-sipresas-success",children:"xito"}),s.jsx("span",{className:"badge-sipresas-warning",children:"Advertencia"}),s.jsx("span",{className:"badge-sipresas-alert",children:"Alerta"}),s.jsx("span",{className:"badge-sipresas-error",children:"Error"}),s.jsx("span",{className:"badge-sipresas-info",children:"Informacin"}),s.jsx("span",{className:"badge-sipresas-aqua",children:"Hidrulico"})]})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Alertas"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"alert-sipresas-info flex items-start gap-3",children:[s.jsx(tf,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:"Informacin"}),s.jsx("p",{className:"text-sm mt-1",children:"Los datos se actualizan cada 15 minutos automticamente."})]})]}),s.jsxs("div",{className:"alert-sipresas-success flex items-start gap-3",children:[s.jsx(Re,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:"Operacin exitosa"}),s.jsx("p",{className:"text-sm mt-1",children:"Los cambios se han guardado correctamente en el sistema."})]})]}),s.jsxs("div",{className:"alert-sipresas-warning flex items-start gap-3",children:[s.jsx(qe,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:"Advertencia"}),s.jsx("p",{className:"text-sm mt-1",children:"El nivel del embalse est cerca del umbral de precaucin."})]})]}),s.jsxs("div",{className:"alert-sipresas-alert flex items-start gap-3",children:[s.jsx(qe,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:"Alerta"}),s.jsx("p",{className:"text-sm mt-1",children:"Se requiere atencin inmediata en el sensor de nivel."})]})]}),s.jsxs("div",{className:"alert-sipresas-error flex items-start gap-3",children:[s.jsx(ps,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:"Error crtico"}),s.jsx("p",{className:"text-sm mt-1",children:"No se pudo completar la operacin. Contacte al administrador."})]})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Indicadores de Nivel de Agua"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-critical-high",style:{width:"95%"}})}),s.jsx("span",{className:"text-sm font-medium text-red-600",children:"95% - Crtico Alto"})]}),s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-high",style:{width:"88%"}})}),s.jsx("span",{className:"text-sm font-medium text-orange-600",children:"88% - Alto"})]}),s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-optimal",style:{width:"75%"}})}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"75% - ptimo"})]}),s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-normal",style:{width:"50%"}})}),s.jsx("span",{className:"text-sm font-medium text-sipresas-secondary",children:"50% - Normal"})]}),s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-low",style:{width:"30%"}})}),s.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"30% - Bajo"})]}),s.jsxs("div",{className:"level-indicator",children:[s.jsx("div",{className:"level-bar",children:s.jsx("div",{className:"level-fill-critical-low",style:{width:"15%"}})}),s.jsx("span",{className:"text-sm font-medium text-red-600",children:"15% - Crtico Bajo"})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Tabla de Ejemplo"}),s.jsxs("table",{className:"table-sipresas",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Cdigo"}),s.jsx("th",{children:"Nombre"}),s.jsx("th",{children:"Estado"}),s.jsx("th",{children:"Nivel"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:"CHE801"}),s.jsx("td",{children:"LA BREA II"}),s.jsx("td",{children:s.jsxs("span",{className:"status-operational",children:[s.jsx(Re,{size:12}),"Operativa"]})}),s.jsx("td",{children:s.jsx("span",{className:"severity-low",children:"75%"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:"CHE802"}),s.jsx("td",{children:"SAN CLEMENTE"}),s.jsx("td",{children:s.jsxs("span",{className:"status-maintenance",children:[s.jsx(Tt,{size:12}),"Mantenimiento"]})}),s.jsx("td",{children:s.jsx("span",{className:"severity-medium",children:"45%"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"font-medium",children:"CHE803"}),s.jsx("td",{children:"ALCNTARA"}),s.jsx("td",{children:s.jsxs("span",{className:"status-alert",children:[s.jsx(qe,{size:12}),"Alerta"]})}),s.jsx("td",{children:s.jsx("span",{className:"severity-high",children:"92%"})})]})]})]})]}),s.jsxs("section",{className:"section-sipresas",children:[s.jsx("h2",{className:"subheader-sipresas",children:"Gradientes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"h-24 gradient-header rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"Header"})}),s.jsx("div",{className:"h-24 gradient-aqua rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"Aqua"})}),s.jsx("div",{className:"h-24 gradient-success rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"Success"})}),s.jsx("div",{className:"h-24 gradient-error rounded-lg shadow-sm flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:"Error"})})]})]})]})}function _X(){const[e,t]=p.useState("loading"),[r,n]=p.useState("Inicializando usuarios de demostracin..."),[a,i]=p.useState([]);p.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await fetch("https://mvxmavfhslavexkwtiee.supabase.co/functions/v1/setup-demo-users",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eG1hdmZoc2xhdmV4a3d0aWVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5Mjg2MjcsImV4cCI6MjA4NzUwNDYyN30.LbQuWOmnVVYfN6OedtxRajiGH_DxgdGKOPXjTNBH-LQ","Content-Type":"application/json"}}),d=await u.json();u.ok&&d.success?(t("success"),n("Usuarios de demostracin creados correctamente"),i(d.results),setTimeout(()=>{window.location.href="/login"},2e3)):(t("error"),n("Error al crear usuarios: "+(d.error||"Error desconocido")))}catch(l){t("error"),n("Error de conexin: "+(l instanceof Error?l.message:"Error desconocido"))}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e==="loading"&&s.jsxs(s.Fragment,{children:[s.jsx(J6,{className:"w-12 h-12 text-[#0066A1] animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Inicializando Sistema"}),s.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-green-600 text-2xl",children:""})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Listo!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:r}),s.jsx("div",{className:"bg-gray-50 rounded p-4 text-left text-sm mb-4",children:a.map((l,c)=>s.jsxs("div",{className:"py-2 border-b last:border-b-0",children:[s.jsx("p",{className:"font-medium text-gray-700",children:l.email}),s.jsx("p",{className:"text-gray-600 text-xs",children:l.message})]},c))}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Redirigiendo al login..."})]}),e==="error"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-red-600 text-2xl",children:"!"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:r}),s.jsx("button",{onClick:o,className:"w-full bg-[#0066A1] text-white py-2 px-4 rounded hover:bg-[#004d7a] transition-colors",children:"Intentar de Nuevo"}),s.jsx("a",{href:"/login",className:"block mt-3 text-[#0066A1] hover:underline text-sm",children:"Ir al Login"})]})]})})}function NX(){return s.jsx(W6,{children:s.jsx(q6,{children:s.jsx(mI,{children:s.jsxs(Sb,{children:[s.jsx(pt,{path:"/setup-demo",element:s.jsx(_X,{})}),s.jsx(pt,{path:"/login",element:s.jsx(fM,{})}),s.jsx(pt,{path:"/*",element:s.jsx(H6,{children:s.jsx(dM,{children:s.jsxs(Sb,{children:[s.jsx(pt,{path:"/",element:s.jsx(dS,{to:"/map",replace:!0})}),s.jsx(pt,{path:"/map",element:s.jsx(bX,{})}),s.jsx(pt,{path:"/dashboard",element:s.jsx(AM,{})}),s.jsx(pt,{path:"/dam/:id",element:s.jsx(tX,{})}),s.jsx(pt,{path:"/inventory",element:s.jsx(rX,{})}),s.jsx(pt,{path:"/maintenance",element:s.jsx(oX,{})}),s.jsx(pt,{path:"/technical-archive",element:s.jsx(fX,{})}),s.jsx(pt,{path:"/auscultation",element:s.jsx(hX,{})}),s.jsx(pt,{path:"/exploitation",element:s.jsx(mX,{})}),s.jsx(pt,{path:"/emergency",element:s.jsx(yX,{})}),s.jsx(pt,{path:"/bim",element:s.jsx(pX,{})}),s.jsx(pt,{path:"/settings",element:s.jsx(wX,{})}),s.jsx(pt,{path:"/color-palette",element:s.jsx(jX,{})})]})})})})]})})})})}const R_=document.getElementById("root");R_&&Q2(R_).render(s.jsx(p.StrictMode,{children:s.jsx(NX,{})}));
