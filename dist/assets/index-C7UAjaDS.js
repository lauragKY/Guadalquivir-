var g4=Object.defineProperty;var v4=(e,t,r)=>t in e?g4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Uh=(e,t,r)=>v4(e,typeof t!="symbol"?t+"":t,r);function x4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var w2={exports:{}},lf={},j2={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),b4=Symbol.for("react.portal"),w4=Symbol.for("react.fragment"),j4=Symbol.for("react.strict_mode"),N4=Symbol.for("react.profiler"),_4=Symbol.for("react.provider"),S4=Symbol.for("react.context"),k4=Symbol.for("react.forward_ref"),E4=Symbol.for("react.suspense"),P4=Symbol.for("react.memo"),O4=Symbol.for("react.lazy"),Wy=Symbol.iterator;function A4(e){return e===null||typeof e!="object"?null:(e=Wy&&e[Wy]||e["@@iterator"],typeof e=="function"?e:null)}var N2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,S2={};function Ys(e,t,r){this.props=e,this.context=t,this.refs=S2,this.updater=r||N2}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k2(){}k2.prototype=Ys.prototype;function Ng(e,t,r){this.props=e,this.context=t,this.refs=S2,this.updater=r||N2}var _g=Ng.prototype=new k2;_g.constructor=Ng;_2(_g,Ys.prototype);_g.isPureReactComponent=!0;var qy=Array.isArray,E2=Object.prototype.hasOwnProperty,Sg={current:null},P2={key:!0,ref:!0,__self:!0,__source:!0};function O2(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)E2.call(t,n)&&!P2.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ql,type:e,key:s,ref:o,props:a,_owner:Sg.current}}function C4(e,t){return{$$typeof:ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kg(e){return typeof e=="object"&&e!==null&&e.$$typeof===ql}function T4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hy=/\/+/g;function Wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T4(""+e.key):t.toString(36)}function fu(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ql:case b4:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Wh(o,0):n,qy(a)?(r="",e!=null&&(r=e.replace(Hy,"$&/")+"/"),fu(a,t,r,"",function(u){return u})):a!=null&&(kg(a)&&(a=C4(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",qy(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Wh(s,l);o+=fu(s,t,r,c,a)}else if(c=A4(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Wh(s,l++),o+=fu(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(e,t,r){if(e==null)return e;var n=[],a=0;return fu(e,n,"","",function(s){return t.call(r,s,a++)}),n}function I4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},hu={transition:null},D4={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:hu,ReactCurrentOwner:Sg};function A2(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:kc,forEach:function(e,t,r){kc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kc(e,function(){t++}),t},toArray:function(e){return kc(e,function(t){return t})||[]},only:function(e){if(!kg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ys;se.Fragment=w4;se.Profiler=N4;se.PureComponent=Ng;se.StrictMode=j4;se.Suspense=E4;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;se.act=A2;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_2({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E2.call(t,c)&&!P2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ql,type:e.type,key:a,ref:s,props:n,_owner:o}};se.createContext=function(e){return e={$$typeof:S4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_4,_context:e},e.Consumer=e};se.createElement=O2;se.createFactory=function(e){var t=O2.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:k4,render:e}};se.isValidElement=kg;se.lazy=function(e){return{$$typeof:O4,_payload:{_status:-1,_result:e},_init:I4}};se.memo=function(e,t){return{$$typeof:P4,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};se.unstable_act=A2;se.useCallback=function(e,t){return Ut.current.useCallback(e,t)};se.useContext=function(e){return Ut.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};se.useEffect=function(e,t){return Ut.current.useEffect(e,t)};se.useId=function(){return Ut.current.useId()};se.useImperativeHandle=function(e,t,r){return Ut.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Ut.current.useMemo(e,t)};se.useReducer=function(e,t,r){return Ut.current.useReducer(e,t,r)};se.useRef=function(e){return Ut.current.useRef(e)};se.useState=function(e){return Ut.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return Ut.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return Ut.current.useTransition()};se.version="18.3.1";j2.exports=se;var p=j2.exports;const M4=Xn(p),$4=x4({__proto__:null,default:M4},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4=p,R4=Symbol.for("react.element"),z4=Symbol.for("react.fragment"),F4=Object.prototype.hasOwnProperty,B4=L4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U4={key:!0,ref:!0,__self:!0,__source:!0};function C2(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)F4.call(t,n)&&!U4.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:R4,type:e,key:s,ref:o,props:a,_owner:B4.current}}lf.Fragment=z4;lf.jsx=C2;lf.jsxs=C2;w2.exports=lf;var i=w2.exports,T2={exports:{}},dr={},I2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var q=R.length;R.push(B);e:for(;0<q;){var ee=q-1>>>1,ae=R[ee];if(0<a(ae,B))R[ee]=B,R[q]=ae,q=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],q=R.pop();if(q!==B){R[0]=q;e:for(var ee=0,ae=R.length,Ae=ae>>>1;ee<Ae;){var pe=2*(ee+1)-1,St=R[pe],et=pe+1,he=R[et];if(0>a(St,q))et<ae&&0>a(he,St)?(R[ee]=he,R[et]=q,ee=et):(R[ee]=St,R[pe]=q,ee=pe);else if(et<ae&&0>a(he,q))R[ee]=he,R[et]=q,ee=et;else break e}}return B}function a(R,B){var q=R.sortIndex-B.sortIndex;return q!==0?q:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function j(R){if(v=!1,b(R),!g)if(r(c)!==null)g=!0,Y(_);else{var B=r(u);B!==null&&Z(j,B.startTime-R)}}function _(R,B){g=!1,v&&(v=!1,x(P),P=-1),m=!0;var q=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||R&&!O());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ae=ee(f.expirationTime<=B);B=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var Ae=!0;else{var pe=r(u);pe!==null&&Z(j,pe.startTime-B),Ae=!1}return Ae}finally{f=null,h=q,m=!1}}var N=!1,S=null,P=-1,C=5,I=-1;function O(){return!(e.unstable_now()-I<C)}function k(){if(S!==null){var R=e.unstable_now();I=R;var B=!0;try{B=S(!0,R)}finally{B?M():(N=!1,S=null)}}else N=!1}var M;if(typeof w=="function")M=function(){w(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,J=L.port2;L.port1.onmessage=k,M=function(){J.postMessage(null)}}else M=function(){y(k,0)};function Y(R){S=R,N||(N=!0,M())}function Z(R,B){P=y(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,Y(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return R()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=h;h=R;try{return B()}finally{h=q}},e.unstable_scheduleCallback=function(R,B,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,R){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=q+ae,R={id:d++,callback:B,priorityLevel:R,startTime:q,expirationTime:ae,sortIndex:-1},q>ee?(R.sortIndex=q,t(u,R),r(c)===null&&R===r(u)&&(v?(x(P),P=-1):v=!0,Z(j,q-ee))):(R.sortIndex=ae,t(c,R),g||m||(g=!0,Y(_))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var B=h;return function(){var q=h;h=B;try{return R.apply(this,arguments)}finally{h=q}}}})(D2);I2.exports=D2;var W4=I2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4=p,cr=W4;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M2=new Set,ll={};function Ti(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(ll[e]=t,e=0;e<t.length;e++)M2.add(t[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,H4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ky={},Vy={};function K4(e){return sp.call(Vy,e)?!0:sp.call(Ky,e)?!1:H4.test(e)?Vy[e]=!0:(Ky[e]=!0,!1)}function V4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G4(e,t,r,n){if(t===null||typeof t>"u"||V4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eg,Pg);Nt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eg,Pg);Nt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eg,Pg);Nt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Og(e,t,r,n){var a=Nt.hasOwnProperty(t)?Nt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G4(t,r,a,n)&&(r=null),n||a===null?K4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qn=q4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),L2=Symbol.for("react.context"),Cg=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),Tg=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),R2=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function po(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,qh;function $o(e){if(qh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);qh=t&&t[1]||""}return`
`+qh+e}var Hh=!1;function Kh(e,t){if(!e||Hh)return"";Hh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$o(e):""}function Y4(e){switch(e.tag){case 5:return $o(e.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return e=Kh(e.type,!1),e;case 11:return e=Kh(e.type.render,!1),e;case 1:return e=Kh(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zi:return"Portal";case op:return"Profiler";case Ag:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L2:return(e.displayName||"Context")+".Consumer";case $2:return(e._context.displayName||"Context")+".Provider";case Cg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tg:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function X4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===Ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q4(e){var t=z2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pc(e){e._valueTracker||(e._valueTracker=Q4(e))}function F2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=z2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dp(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Oa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B2(e,t){t=t.checked,t!=null&&Og(e,"checked",t,!1)}function fp(e,t){B2(e,t);var r=Oa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hp(e,t.type,r):t.hasOwnProperty("defaultValue")&&hp(e,t.type,Oa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hp(e,t,r){(t!=="number"||Tu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Lo=Array.isArray;function ps(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Oa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Lo(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Oa(r)}}function U2(e,t){var r=Oa(t.value),n=Oa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oc,q2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J4=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(e){J4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ho[t]=Ho[e]})});function H2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ho.hasOwnProperty(e)&&Ho[e]?(""+t).trim():t+"px"}function K2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=H2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Z4=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(e,t){if(t){if(Z4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function vp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function Ig(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,gs=null,vs=null;function Zy(e){if(e=Vl(e)){if(typeof yp!="function")throw Error(z(280));var t=e.stateNode;t&&(t=hf(t),yp(e.stateNode,e.type,t))}}function V2(e){gs?vs?vs.push(e):vs=[e]:gs=e}function G2(){if(gs){var e=gs,t=vs;if(vs=gs=null,Zy(e),t)for(e=0;e<t.length;e++)Zy(t[e])}}function Y2(e,t){return e(t)}function X2(){}var Vh=!1;function Q2(e,t,r){if(Vh)return e(t,r);Vh=!0;try{return Y2(e,t,r)}finally{Vh=!1,(gs!==null||vs!==null)&&(X2(),G2())}}function ul(e,t){var r=e.stateNode;if(r===null)return null;var n=hf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var bp=!1;if(Rn)try{var go={};Object.defineProperty(go,"passive",{get:function(){bp=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{bp=!1}function eT(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ko=!1,Iu=null,Du=!1,wp=null,tT={onError:function(e){Ko=!0,Iu=e}};function rT(e,t,r,n,a,s,o,l,c){Ko=!1,Iu=null,eT.apply(tT,arguments)}function nT(e,t,r,n,a,s,o,l,c){if(rT.apply(this,arguments),Ko){if(Ko){var u=Iu;Ko=!1,Iu=null}else throw Error(z(198));Du||(Du=!0,wp=u)}}function Ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function J2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eb(e){if(Ii(e)!==e)throw Error(z(188))}function aT(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return eb(a),e;if(s===n)return eb(a),t;s=s.sibling}throw Error(z(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function Z2(e){return e=aT(e),e!==null?e_(e):null}function e_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e_(e);if(t!==null)return t;e=e.sibling}return null}var t_=cr.unstable_scheduleCallback,tb=cr.unstable_cancelCallback,iT=cr.unstable_shouldYield,sT=cr.unstable_requestPaint,Ke=cr.unstable_now,oT=cr.unstable_getCurrentPriorityLevel,Dg=cr.unstable_ImmediatePriority,r_=cr.unstable_UserBlockingPriority,Mu=cr.unstable_NormalPriority,lT=cr.unstable_LowPriority,n_=cr.unstable_IdlePriority,cf=null,fn=null;function cT(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:fT,uT=Math.log,dT=Math.LN2;function fT(e){return e>>>=0,e===0?32:31-(uT(e)/dT|0)|0}var Ac=64,Cc=4194304;function Ro(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $u(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ro(l):(s&=o,s!==0&&(n=Ro(s)))}else o=r&~a,o!==0?n=Ro(o):s!==0&&(n=Ro(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kr(t),a=1<<r,n|=e[r],t&=~a;return n}function hT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Kr(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=hT(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a_(){var e=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),e}function Gh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=r}function pT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Kr(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Mg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var fe=0;function i_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s_,$g,o_,l_,c_,Np=!1,Tc=[],ya=null,ba=null,wa=null,dl=new Map,fl=new Map,ua=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rb(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(t.pointerId)}}function vo(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Vl(t),t!==null&&$g(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function vT(e,t,r,n,a){switch(t){case"focusin":return ya=vo(ya,e,t,r,n,a),!0;case"dragenter":return ba=vo(ba,e,t,r,n,a),!0;case"mouseover":return wa=vo(wa,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return dl.set(s,vo(dl.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,fl.set(s,vo(fl.get(s)||null,e,t,r,n,a)),!0}return!1}function u_(e){var t=ni(e.target);if(t!==null){var r=Ii(t);if(r!==null){if(t=r.tag,t===13){if(t=J2(r),t!==null){e.blockedOn=t,c_(e.priority,function(){o_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xp=n,r.target.dispatchEvent(n),xp=null}else return t=Vl(r),t!==null&&$g(t),e.blockedOn=r,!1;t.shift()}return!0}function nb(e,t,r){mu(e)&&r.delete(t)}function xT(){Np=!1,ya!==null&&mu(ya)&&(ya=null),ba!==null&&mu(ba)&&(ba=null),wa!==null&&mu(wa)&&(wa=null),dl.forEach(nb),fl.forEach(nb)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Np||(Np=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,xT)))}function hl(e){function t(a){return xo(a,e)}if(0<Tc.length){xo(Tc[0],e);for(var r=1;r<Tc.length;r++){var n=Tc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ya!==null&&xo(ya,e),ba!==null&&xo(ba,e),wa!==null&&xo(wa,e),dl.forEach(t),fl.forEach(t),r=0;r<ua.length;r++)n=ua[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ua.length&&(r=ua[0],r.blockedOn===null);)u_(r),r.blockedOn===null&&ua.shift()}var xs=Qn.ReactCurrentBatchConfig,Lu=!0;function yT(e,t,r,n){var a=fe,s=xs.transition;xs.transition=null;try{fe=1,Lg(e,t,r,n)}finally{fe=a,xs.transition=s}}function bT(e,t,r,n){var a=fe,s=xs.transition;xs.transition=null;try{fe=4,Lg(e,t,r,n)}finally{fe=a,xs.transition=s}}function Lg(e,t,r,n){if(Lu){var a=_p(e,t,r,n);if(a===null)am(e,t,n,Ru,r),rb(e,n);else if(vT(a,e,t,r,n))n.stopPropagation();else if(rb(e,n),t&4&&-1<gT.indexOf(e)){for(;a!==null;){var s=Vl(a);if(s!==null&&s_(s),s=_p(e,t,r,n),s===null&&am(e,t,n,Ru,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else am(e,t,n,null,r)}}var Ru=null;function _p(e,t,r,n){if(Ru=null,e=Ig(n),e=ni(e),e!==null)if(t=Ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=J2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ru=e,null}function d_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oT()){case Dg:return 1;case r_:return 4;case Mu:case lT:return 16;case n_:return 536870912;default:return 16}default:return 16}}var ma=null,Rg=null,pu=null;function f_(){if(pu)return pu;var e,t=Rg,r=t.length,n,a="value"in ma?ma.value:ma.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return pu=a.slice(e,1<n?1-n:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ic(){return!0}function ab(){return!1}function fr(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ic:ab,this.isPropagationStopped=ab,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=fr(Xs),Kl=Me({},Xs,{view:0,detail:0}),wT=fr(Kl),Yh,Xh,yo,uf=Me({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(Yh=e.screenX-yo.screenX,Xh=e.screenY-yo.screenY):Xh=Yh=0,yo=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),ib=fr(uf),jT=Me({},uf,{dataTransfer:0}),NT=fr(jT),_T=Me({},Kl,{relatedTarget:0}),Qh=fr(_T),ST=Me({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=fr(ST),ET=Me({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PT=fr(ET),OT=Me({},Xs,{data:0}),sb=fr(OT),AT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TT[e])?!!t[e]:!1}function Fg(){return IT}var DT=Me({},Kl,{key:function(e){if(e.key){var t=AT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fg,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MT=fr(DT),$T=Me({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ob=fr($T),LT=Me({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fg}),RT=fr(LT),zT=Me({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),FT=fr(zT),BT=Me({},uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UT=fr(BT),WT=[9,13,27,32],Bg=Rn&&"CompositionEvent"in window,Vo=null;Rn&&"documentMode"in document&&(Vo=document.documentMode);var qT=Rn&&"TextEvent"in window&&!Vo,h_=Rn&&(!Bg||Vo&&8<Vo&&11>=Vo),lb=" ",cb=!1;function m_(e,t){switch(e){case"keyup":return WT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function HT(e,t){switch(e){case"compositionend":return p_(t);case"keypress":return t.which!==32?null:(cb=!0,lb);case"textInput":return e=t.data,e===lb&&cb?null:e;default:return null}}function KT(e,t){if(ts)return e==="compositionend"||!Bg&&m_(e,t)?(e=f_(),pu=Rg=ma=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h_&&t.locale!=="ko"?null:t.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ub(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VT[e.type]:t==="textarea"}function g_(e,t,r,n){V2(n),t=zu(t,"onChange"),0<t.length&&(r=new zg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Go=null,ml=null;function GT(e){E_(e,0)}function df(e){var t=as(e);if(F2(t))return e}function YT(e,t){if(e==="change")return t}var v_=!1;if(Rn){var Jh;if(Rn){var Zh="oninput"in document;if(!Zh){var db=document.createElement("div");db.setAttribute("oninput","return;"),Zh=typeof db.oninput=="function"}Jh=Zh}else Jh=!1;v_=Jh&&(!document.documentMode||9<document.documentMode)}function fb(){Go&&(Go.detachEvent("onpropertychange",x_),ml=Go=null)}function x_(e){if(e.propertyName==="value"&&df(ml)){var t=[];g_(t,ml,e,Ig(e)),Q2(GT,t)}}function XT(e,t,r){e==="focusin"?(fb(),Go=t,ml=r,Go.attachEvent("onpropertychange",x_)):e==="focusout"&&fb()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(ml)}function JT(e,t){if(e==="click")return df(t)}function ZT(e,t){if(e==="input"||e==="change")return df(t)}function e3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:e3;function pl(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sp.call(t,a)||!Yr(e[a],t[a]))return!1}return!0}function hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mb(e,t){var r=hb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hb(r)}}function y_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b_(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tu(e.document)}return t}function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t3(e){var t=b_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&y_(r.ownerDocument.documentElement,r)){if(n!==null&&Ug(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=mb(r,s);var o=mb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r3=Rn&&"documentMode"in document&&11>=document.documentMode,rs=null,Sp=null,Yo=null,kp=!1;function pb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kp||rs==null||rs!==Tu(n)||(n=rs,"selectionStart"in n&&Ug(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yo&&pl(Yo,n)||(Yo=n,n=zu(Sp,"onSelect"),0<n.length&&(t=new zg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rs)))}function Dc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ns={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},em={},w_={};Rn&&(w_=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ff(e){if(em[e])return em[e];if(!ns[e])return e;var t=ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in w_)return em[e]=t[r];return e}var j_=ff("animationend"),N_=ff("animationiteration"),__=ff("animationstart"),S_=ff("transitionend"),k_=new Map,gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(e,t){k_.set(e,t),Ti(t,[e])}for(var tm=0;tm<gb.length;tm++){var rm=gb[tm],n3=rm.toLowerCase(),a3=rm[0].toUpperCase()+rm.slice(1);$a(n3,"on"+a3)}$a(j_,"onAnimationEnd");$a(N_,"onAnimationIteration");$a(__,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(S_,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i3=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function vb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nT(n,t,void 0,e),e.currentTarget=null}function E_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;vb(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;vb(a,l,u),s=c}}}if(Du)throw e=wp,Du=!1,wp=null,e}function je(e,t){var r=t[Cp];r===void 0&&(r=t[Cp]=new Set);var n=e+"__bubble";r.has(n)||(P_(t,e,2,!1),r.add(n))}function nm(e,t,r){var n=0;t&&(n|=4),P_(r,e,n,t)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function gl(e){if(!e[Mc]){e[Mc]=!0,M2.forEach(function(r){r!=="selectionchange"&&(i3.has(r)||nm(r,!1,e),nm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mc]||(t[Mc]=!0,nm("selectionchange",!1,t))}}function P_(e,t,r,n){switch(d_(t)){case 1:var a=yT;break;case 4:a=bT;break;default:a=Lg}r=a.bind(null,t,r,e),a=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function am(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ni(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Q2(function(){var u=s,d=Ig(r),f=[];e:{var h=k_.get(e);if(h!==void 0){var m=zg,g=e;switch(e){case"keypress":if(gu(r)===0)break e;case"keydown":case"keyup":m=MT;break;case"focusin":g="focus",m=Qh;break;case"focusout":g="blur",m=Qh;break;case"beforeblur":case"afterblur":m=Qh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RT;break;case j_:case N_:case __:m=kT;break;case S_:m=FT;break;case"scroll":m=wT;break;case"wheel":m=UT;break;case"copy":case"cut":case"paste":m=PT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ob}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=ul(w,x),j!=null&&v.push(vl(w,j,b)))),y)break;w=w.return}0<v.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==xp&&(g=r.relatedTarget||r.fromElement)&&(ni(g)||g[zn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ni(g):null,g!==null&&(y=Ii(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=ib,j="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=ob,j="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?h:as(m),b=g==null?h:as(g),h=new v(j,w+"leave",m,r,d),h.target=y,h.relatedTarget=b,j=null,ni(d)===u&&(v=new v(x,w+"enter",g,r,d),v.target=b,v.relatedTarget=y,j=v),y=j,m&&g)t:{for(v=m,x=g,w=0,b=v;b;b=zi(b))w++;for(b=0,j=x;j;j=zi(j))b++;for(;0<w-b;)v=zi(v),w--;for(;0<b-w;)x=zi(x),b--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=zi(v),x=zi(x)}v=null}else v=null;m!==null&&xb(f,h,m,v,!1),g!==null&&y!==null&&xb(f,y,g,v,!0)}}e:{if(h=u?as(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=YT;else if(ub(h))if(v_)_=ZT;else{_=QT;var N=XT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=JT);if(_&&(_=_(e,u))){g_(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hp(h,"number",h.value)}switch(N=u?as(u):window,e){case"focusin":(ub(N)||N.contentEditable==="true")&&(rs=N,Sp=u,Yo=null);break;case"focusout":Yo=Sp=rs=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,pb(f,r,d);break;case"selectionchange":if(r3)break;case"keydown":case"keyup":pb(f,r,d)}var S;if(Bg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ts?m_(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(h_&&r.locale!=="ko"&&(ts||P!=="onCompositionStart"?P==="onCompositionEnd"&&ts&&(S=f_()):(ma=d,Rg="value"in ma?ma.value:ma.textContent,ts=!0)),N=zu(u,P),0<N.length&&(P=new sb(P,e,null,r,d),f.push({event:P,listeners:N}),S?P.data=S:(S=p_(r),S!==null&&(P.data=S)))),(S=qT?HT(e,r):KT(e,r))&&(u=zu(u,"onBeforeInput"),0<u.length&&(d=new sb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}E_(f,t)})}function vl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=ul(e,r),s!=null&&n.unshift(vl(e,s,a)),s=ul(e,t),s!=null&&n.push(vl(e,s,a))),e=e.return}return n}function zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xb(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=ul(r,s),c!=null&&o.unshift(vl(r,c,l))):a||(c=ul(r,s),c!=null&&o.push(vl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var s3=/\r\n?/g,o3=/\u0000|\uFFFD/g;function yb(e){return(typeof e=="string"?e:""+e).replace(s3,`
`).replace(o3,"")}function $c(e,t,r){if(t=yb(t),yb(e)!==t&&r)throw Error(z(425))}function Fu(){}var Ep=null,Pp=null;function Op(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,l3=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,c3=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(e){return bb.resolve(null).then(e).catch(u3)}:Ap;function u3(e){setTimeout(function(){throw e})}function im(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),hl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);hl(t)}function ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),cn="__reactFiber$"+Qs,xl="__reactProps$"+Qs,zn="__reactContainer$"+Qs,Cp="__reactEvents$"+Qs,d3="__reactListeners$"+Qs,f3="__reactHandles$"+Qs;function ni(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zn]||r[cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wb(e);e!==null;){if(r=e[cn])return r;e=wb(e)}return t}e=r,r=e.parentNode}return null}function Vl(e){return e=e[cn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function hf(e){return e[xl]||null}var Tp=[],is=-1;function La(e){return{current:e}}function Se(e){0>is||(e.current=Tp[is],Tp[is]=null,is--)}function we(e,t){is++,Tp[is]=e.current,e.current=t}var Aa={},It=La(Aa),Qt=La(!1),xi=Aa;function Es(e,t){var r=e.type.contextTypes;if(!r)return Aa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Jt(e){return e=e.childContextTypes,e!=null}function Bu(){Se(Qt),Se(It)}function jb(e,t,r){if(It.current!==Aa)throw Error(z(168));we(It,t),we(Qt,r)}function O_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(z(108,X4(e)||"Unknown",a));return Me({},r,n)}function Uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,xi=It.current,we(It,e),we(Qt,Qt.current),!0}function Nb(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=O_(e,t,xi),n.__reactInternalMemoizedMergedChildContext=e,Se(Qt),Se(It),we(It,e)):Se(Qt),we(Qt,r)}var En=null,mf=!1,sm=!1;function A_(e){En===null?En=[e]:En.push(e)}function h3(e){mf=!0,A_(e)}function Ra(){if(!sm&&En!==null){sm=!0;var e=0,t=fe;try{var r=En;for(fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}En=null,mf=!1}catch(a){throw En!==null&&(En=En.slice(e+1)),t_(Dg,Ra),a}finally{fe=t,sm=!1}}return null}var ss=[],os=0,Wu=null,qu=0,yr=[],br=0,yi=null,An=1,Cn="";function Xa(e,t){ss[os++]=qu,ss[os++]=Wu,Wu=e,qu=t}function C_(e,t,r){yr[br++]=An,yr[br++]=Cn,yr[br++]=yi,yi=e;var n=An;e=Cn;var a=32-Kr(n)-1;n&=~(1<<a),r+=1;var s=32-Kr(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,An=1<<32-Kr(t)+a|r<<a|n,Cn=s+e}else An=1<<s|r<<a|n,Cn=e}function Wg(e){e.return!==null&&(Xa(e,1),C_(e,1,0))}function qg(e){for(;e===Wu;)Wu=ss[--os],ss[os]=null,qu=ss[--os],ss[os]=null;for(;e===yi;)yi=yr[--br],yr[br]=null,Cn=yr[--br],yr[br]=null,An=yr[--br],yr[br]=null}var or=null,ar=null,Ee=!1,Ur=null;function T_(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _b(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=ja(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yi!==null?{id:An,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dp(e){if(Ee){var t=ar;if(t){var r=t;if(!_b(e,t)){if(Ip(e))throw Error(z(418));t=ja(r.nextSibling);var n=or;t&&_b(e,t)?T_(n,r):(e.flags=e.flags&-4097|2,Ee=!1,or=e)}}else{if(Ip(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ee=!1,or=e}}}function Sb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Lc(e){if(e!==or)return!1;if(!Ee)return Sb(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Op(e.type,e.memoizedProps)),t&&(t=ar)){if(Ip(e))throw I_(),Error(z(418));for(;t;)T_(e,t),t=ja(t.nextSibling)}if(Sb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=ja(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?ja(e.stateNode.nextSibling):null;return!0}function I_(){for(var e=ar;e;)e=ja(e.nextSibling)}function Ps(){ar=or=null,Ee=!1}function Hg(e){Ur===null?Ur=[e]:Ur.push(e)}var m3=Qn.ReactCurrentBatchConfig;function bo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function Rc(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kb(e){var t=e._init;return t(e._payload)}function D_(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function a(x,w){return x=ka(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,b,j){return w===null||w.tag!==6?(w=hm(b,x.mode,j),w.return=x,w):(w=a(w,b),w.return=x,w)}function c(x,w,b,j){var _=b.type;return _===es?d(x,w,b.props.children,j,b.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sa&&kb(_)===w.type)?(j=a(w,b.props),j.ref=bo(x,w,b),j.return=x,j):(j=Nu(b.type,b.key,b.props,null,x.mode,j),j.ref=bo(x,w,b),j.return=x,j)}function u(x,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=mm(b,x.mode,j),w.return=x,w):(w=a(w,b.children||[]),w.return=x,w)}function d(x,w,b,j,_){return w===null||w.tag!==7?(w=fi(b,x.mode,j,_),w.return=x,w):(w=a(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hm(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ec:return b=Nu(w.type,w.key,w.props,null,x.mode,b),b.ref=bo(x,null,w),b.return=x,b;case Zi:return w=mm(w,x.mode,b),w.return=x,w;case sa:var j=w._init;return f(x,j(w._payload),b)}if(Lo(w)||po(w))return w=fi(w,x.mode,b,null),w.return=x,w;Rc(x,w)}return null}function h(x,w,b,j){var _=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:return b.key===_?c(x,w,b,j):null;case Zi:return b.key===_?u(x,w,b,j):null;case sa:return _=b._init,h(x,w,_(b._payload),j)}if(Lo(b)||po(b))return _!==null?null:d(x,w,b,j,null);Rc(x,b)}return null}function m(x,w,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(w,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ec:return x=x.get(j.key===null?b:j.key)||null,c(w,x,j,_);case Zi:return x=x.get(j.key===null?b:j.key)||null,u(w,x,j,_);case sa:var N=j._init;return m(x,w,b,N(j._payload),_)}if(Lo(j)||po(j))return x=x.get(b)||null,d(w,x,j,_,null);Rc(w,j)}return null}function g(x,w,b,j){for(var _=null,N=null,S=w,P=w=0,C=null;S!==null&&P<b.length;P++){S.index>P?(C=S,S=null):C=S.sibling;var I=h(x,S,b[P],j);if(I===null){S===null&&(S=C);break}e&&S&&I.alternate===null&&t(x,S),w=s(I,w,P),N===null?_=I:N.sibling=I,N=I,S=C}if(P===b.length)return r(x,S),Ee&&Xa(x,P),_;if(S===null){for(;P<b.length;P++)S=f(x,b[P],j),S!==null&&(w=s(S,w,P),N===null?_=S:N.sibling=S,N=S);return Ee&&Xa(x,P),_}for(S=n(x,S);P<b.length;P++)C=m(S,x,P,b[P],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?P:C.key),w=s(C,w,P),N===null?_=C:N.sibling=C,N=C);return e&&S.forEach(function(O){return t(x,O)}),Ee&&Xa(x,P),_}function v(x,w,b,j){var _=po(b);if(typeof _!="function")throw Error(z(150));if(b=_.call(b),b==null)throw Error(z(151));for(var N=_=null,S=w,P=w=0,C=null,I=b.next();S!==null&&!I.done;P++,I=b.next()){S.index>P?(C=S,S=null):C=S.sibling;var O=h(x,S,I.value,j);if(O===null){S===null&&(S=C);break}e&&S&&O.alternate===null&&t(x,S),w=s(O,w,P),N===null?_=O:N.sibling=O,N=O,S=C}if(I.done)return r(x,S),Ee&&Xa(x,P),_;if(S===null){for(;!I.done;P++,I=b.next())I=f(x,I.value,j),I!==null&&(w=s(I,w,P),N===null?_=I:N.sibling=I,N=I);return Ee&&Xa(x,P),_}for(S=n(x,S);!I.done;P++,I=b.next())I=m(S,x,P,I.value,j),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?P:I.key),w=s(I,w,P),N===null?_=I:N.sibling=I,N=I);return e&&S.forEach(function(k){return t(x,k)}),Ee&&Xa(x,P),_}function y(x,w,b,j){if(typeof b=="object"&&b!==null&&b.type===es&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:e:{for(var _=b.key,N=w;N!==null;){if(N.key===_){if(_=b.type,_===es){if(N.tag===7){r(x,N.sibling),w=a(N,b.props.children),w.return=x,x=w;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sa&&kb(_)===N.type){r(x,N.sibling),w=a(N,b.props),w.ref=bo(x,N,b),w.return=x,x=w;break e}r(x,N);break}else t(x,N);N=N.sibling}b.type===es?(w=fi(b.props.children,x.mode,j,b.key),w.return=x,x=w):(j=Nu(b.type,b.key,b.props,null,x.mode,j),j.ref=bo(x,w,b),j.return=x,x=j)}return o(x);case Zi:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=a(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=mm(b,x.mode,j),w.return=x,x=w}return o(x);case sa:return N=b._init,y(x,w,N(b._payload),j)}if(Lo(b))return g(x,w,b,j);if(po(b))return v(x,w,b,j);Rc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=a(w,b),w.return=x,x=w):(r(x,w),w=hm(b,x.mode,j),w.return=x,x=w),o(x)):r(x,w)}return y}var Os=D_(!0),M_=D_(!1),Hu=La(null),Ku=null,ls=null,Kg=null;function Vg(){Kg=ls=Ku=null}function Gg(e){var t=Hu.current;Se(Hu),e._currentValue=t}function Mp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ys(e,t){Ku=e,Kg=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Ku===null)throw Error(z(308));ls=e,Ku.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var ai=null;function Yg(e){ai===null?ai=[e]:ai.push(e)}function $_(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Yg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fn(e,n)}function Fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function Xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fn(e,r)}return a=n.interleaved,a===null?(t.next=t,Yg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fn(e,r)}function vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mg(e,r)}}function Eb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vu(e,t,r,n){var a=e.updateQueue;oa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Me({},f,h);break e;case 2:oa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);wi|=o,e.lanes=o,e.memoizedState=f}}function Pb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(z(191,a));a.call(n)}}}var Gl={},hn=La(Gl),yl=La(Gl),bl=La(Gl);function ii(e){if(e===Gl)throw Error(z(174));return e}function Qg(e,t){switch(we(bl,t),we(yl,e),we(hn,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pp(t,e)}Se(hn),we(hn,t)}function As(){Se(hn),Se(yl),Se(bl)}function R_(e){ii(bl.current);var t=ii(hn.current),r=pp(t,e.type);t!==r&&(we(yl,e),we(hn,r))}function Jg(e){yl.current===e&&(Se(hn),Se(yl))}var Ce=La(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var om=[];function Zg(){for(var e=0;e<om.length;e++)om[e]._workInProgressVersionPrimary=null;om.length=0}var xu=Qn.ReactCurrentDispatcher,lm=Qn.ReactCurrentBatchConfig,bi=0,De=null,nt=null,ft=null,Yu=!1,Xo=!1,wl=0,p3=0;function kt(){throw Error(z(321))}function ev(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function tv(e,t,r,n,a,s){if(bi=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xu.current=e===null||e.memoizedState===null?y3:b3,e=r(n,a),Xo){s=0;do{if(Xo=!1,wl=0,25<=s)throw Error(z(301));s+=1,ft=nt=null,t.updateQueue=null,xu.current=w3,e=r(n,a)}while(Xo)}if(xu.current=Xu,t=nt!==null&&nt.next!==null,bi=0,ft=nt=De=null,Yu=!1,t)throw Error(z(300));return e}function rv(){var e=wl!==0;return wl=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?De.memoizedState=ft=e:ft=ft.next=e,ft}function Pr(){if(nt===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ft===null?De.memoizedState:ft.next;if(t!==null)ft=t,nt=e;else{if(e===null)throw Error(z(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ft===null?De.memoizedState=ft=e:ft=ft.next=e}return ft}function jl(e,t){return typeof t=="function"?t(e):t}function cm(e){var t=Pr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=nt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((bi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,De.lanes|=d,wi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Yr(n,t.memoizedState)||(Gt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,De.lanes|=s,wi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function um(e){var t=Pr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Yr(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function z_(){}function F_(e,t){var r=De,n=Pr(),a=t(),s=!Yr(n.memoizedState,a);if(s&&(n.memoizedState=a,Gt=!0),n=n.queue,nv(W_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Nl(9,U_.bind(null,r,n,a,t),void 0,null),pt===null)throw Error(z(349));bi&30||B_(r,t,a)}return a}function B_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function U_(e,t,r,n){t.value=r,t.getSnapshot=n,q_(t)&&H_(e)}function W_(e,t,r){return r(function(){q_(t)&&H_(e)})}function q_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function H_(e){var t=Fn(e,1);t!==null&&Vr(t,e,1,-1)}function Ob(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=x3.bind(null,De,e),[t.memoizedState,e]}function Nl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function K_(){return Pr().memoizedState}function yu(e,t,r,n){var a=sn();De.flags|=e,a.memoizedState=Nl(1|t,r,void 0,n===void 0?null:n)}function pf(e,t,r,n){var a=Pr();n=n===void 0?null:n;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,n!==null&&ev(n,o.deps)){a.memoizedState=Nl(t,r,s,n);return}}De.flags|=e,a.memoizedState=Nl(1|t,r,s,n)}function Ab(e,t){return yu(8390656,8,e,t)}function nv(e,t){return pf(2048,8,e,t)}function V_(e,t){return pf(4,2,e,t)}function G_(e,t){return pf(4,4,e,t)}function Y_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function X_(e,t,r){return r=r!=null?r.concat([e]):null,pf(4,4,Y_.bind(null,t,e),r)}function av(){}function Q_(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ev(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function J_(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ev(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Z_(e,t,r){return bi&21?(Yr(r,t)||(r=a_(),De.lanes|=r,wi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=r)}function g3(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var n=lm.transition;lm.transition={};try{e(!1),t()}finally{fe=r,lm.transition=n}}function eS(){return Pr().memoizedState}function v3(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tS(e))rS(t,r);else if(r=$_(e,t,r,n),r!==null){var a=Ft();Vr(r,e,n,a),nS(r,t,n)}}function x3(e,t,r){var n=Sa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tS(e))rS(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Yr(l,o)){var c=t.interleaved;c===null?(a.next=a,Yg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=$_(e,t,a,n),r!==null&&(a=Ft(),Vr(r,e,n,a),nS(r,t,n))}}function tS(e){var t=e.alternate;return e===De||t!==null&&t===De}function rS(e,t){Xo=Yu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mg(e,r)}}var Xu={readContext:Er,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},y3={readContext:Er,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Ab,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yu(4194308,4,Y_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return yu(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=v3.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:Ob,useDebugValue:av,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=Ob(!1),t=e[0];return e=g3.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,a=sn();if(Ee){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),pt===null)throw Error(z(349));bi&30||B_(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Ab(W_.bind(null,n,s,e),[e]),n.flags|=2048,Nl(9,U_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=sn(),t=pt.identifierPrefix;if(Ee){var r=Cn,n=An;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=p3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b3={readContext:Er,useCallback:Q_,useContext:Er,useEffect:nv,useImperativeHandle:X_,useInsertionEffect:V_,useLayoutEffect:G_,useMemo:J_,useReducer:cm,useRef:K_,useState:function(){return cm(jl)},useDebugValue:av,useDeferredValue:function(e){var t=Pr();return Z_(t,nt.memoizedState,e)},useTransition:function(){var e=cm(jl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:z_,useSyncExternalStore:F_,useId:eS,unstable_isNewReconciler:!1},w3={readContext:Er,useCallback:Q_,useContext:Er,useEffect:nv,useImperativeHandle:X_,useInsertionEffect:V_,useLayoutEffect:G_,useMemo:J_,useReducer:um,useRef:K_,useState:function(){return um(jl)},useDebugValue:av,useDeferredValue:function(e){var t=Pr();return nt===null?t.memoizedState=e:Z_(t,nt.memoizedState,e)},useTransition:function(){var e=um(jl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:z_,useSyncExternalStore:F_,useId:eS,unstable_isNewReconciler:!1};function zr(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=Sa(e),s=Dn(n,a);s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,a),t!==null&&(Vr(t,e,a,n),vu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),a=Sa(e),s=Dn(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Na(e,s,a),t!==null&&(Vr(t,e,a,n),vu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=Sa(e),a=Dn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Na(e,a,n),t!==null&&(Vr(t,e,n,r),vu(t,e,n))}};function Cb(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!pl(r,n)||!pl(a,s):!0}function aS(e,t,r){var n=!1,a=Aa,s=t.contextType;return typeof s=="object"&&s!==null?s=Er(s):(a=Jt(t)?xi:It.current,n=t.contextTypes,s=(n=n!=null)?Es(e,a):Aa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Tb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function Lp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Xg(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Er(s):(s=Jt(t)?xi:It.current,a.context=Es(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&($p(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gf.enqueueReplaceState(a,a.state,null),Vu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,t){try{var r="",n=t;do r+=Y4(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function dm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var j3=typeof WeakMap=="function"?WeakMap:Map;function iS(e,t,r){r=Dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ju||(Ju=!0,Gp=n),Rp(e,t)},r}function sS(e,t,r){r=Dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Rp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Rp(e,t),typeof n!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ib(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new j3;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$3.bind(null,e,t,r),t.then(e,e))}function Db(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dn(-1,1),t.tag=2,Na(r,t,1))),r.lanes|=1),e)}var N3=Qn.ReactCurrentOwner,Gt=!1;function $t(e,t,r,n){t.child=e===null?M_(t,null,r,n):Os(t,e.child,r,n)}function $b(e,t,r,n,a){r=r.render;var s=t.ref;return ys(t,a),n=tv(e,t,r,n,s,a),r=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bn(e,t,a)):(Ee&&r&&Wg(t),t.flags|=1,$t(e,t,n,a),t.child)}function Lb(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!fv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,oS(e,t,s,n,a)):(e=Nu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:pl,r(o,n)&&e.ref===t.ref)return Bn(e,t,a)}return t.flags|=1,e=ka(s,n),e.ref=t.ref,e.return=t,t.child=e}function oS(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(pl(s,n)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Bn(e,t,a)}return zp(e,t,r,n,a)}function lS(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(us,rr),rr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(us,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,we(us,rr),rr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,we(us,rr),rr|=n;return $t(e,t,a,r),t.child}function cS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zp(e,t,r,n,a){var s=Jt(r)?xi:It.current;return s=Es(t,s),ys(t,a),r=tv(e,t,r,n,s,a),n=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bn(e,t,a)):(Ee&&n&&Wg(t),t.flags|=1,$t(e,t,r,a),t.child)}function Rb(e,t,r,n,a){if(Jt(r)){var s=!0;Uu(t)}else s=!1;if(ys(t,a),t.stateNode===null)bu(e,t),aS(t,r,n),Lp(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Jt(r)?xi:It.current,u=Es(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Tb(t,o,n,u),oa=!1;var h=t.memoizedState;o.state=h,Vu(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Qt.current||oa?(typeof d=="function"&&($p(t,r,d,n),c=t.memoizedState),(l=oa||Cb(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,L_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Jt(r)?xi:It.current,c=Es(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Tb(t,o,n,c),oa=!1,h=t.memoizedState,o.state=h,Vu(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||Qt.current||oa?(typeof m=="function"&&($p(t,r,m,n),g=t.memoizedState),(u=oa||Cb(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fp(e,t,r,n,s,a)}function Fp(e,t,r,n,a,s){cS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Nb(t,r,!1),Bn(e,t,s);n=t.stateNode,N3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Os(t,e.child,null,s),t.child=Os(t,null,l,s)):$t(e,t,l,s),t.memoizedState=n.state,a&&Nb(t,r,!0),t.child}function uS(e){var t=e.stateNode;t.pendingContext?jb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jb(e,t.context,!1),Qg(e,t.containerInfo)}function zb(e,t,r,n,a){return Ps(),Hg(a),t.flags|=256,$t(e,t,r,n),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Up(e){return{baseLanes:e,cachePool:null,transitions:null}}function dS(e,t,r){var n=t.pendingProps,a=Ce.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),we(Ce,a&1),e===null)return Dp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yf(o,n,0,null),e=fi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Up(r),t.memoizedState=Bp,e):iv(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return _3(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ka(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ka(l,s):(s=fi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Up(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Bp,n}return s=e.child,e=s.sibling,n=ka(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function iv(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zc(e,t,r,n){return n!==null&&Hg(n),Os(t,e.child,null,r),e=iv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _3(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=dm(Error(z(422))),zc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=yf({mode:"visible",children:n.children},a,0,null),s=fi(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Os(t,e.child,null,o),t.child.memoizedState=Up(o),t.memoizedState=Bp,s);if(!(t.mode&1))return zc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(z(419)),n=dm(s,n,void 0),zc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gt||l){if(n=pt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Fn(e,a),Vr(n,e,a,-1))}return dv(),n=dm(Error(z(421))),zc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=L3.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ar=ja(a.nextSibling),or=t,Ee=!0,Ur=null,e!==null&&(yr[br++]=An,yr[br++]=Cn,yr[br++]=yi,An=e.id,Cn=e.overflow,yi=t),t=iv(t,n.children),t.flags|=4096,t)}function Fb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mp(e.return,t,r)}function fm(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function fS(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if($t(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fb(e,r,t);else if(e.tag===19)Fb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Gu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),fm(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}fm(t,!0,r,null,s);break;case"together":fm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=ka(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ka(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S3(e,t,r){switch(t.tag){case 3:uS(t),Ps();break;case 5:R_(t);break;case 1:Jt(t.type)&&Uu(t);break;case 4:Qg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;we(Hu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?dS(e,t,r):(we(Ce,Ce.current&1),e=Bn(e,t,r),e!==null?e.sibling:null);we(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return fS(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),we(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,lS(e,t,r)}return Bn(e,t,r)}var hS,Wp,mS,pS;hS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wp=function(){};mS=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ii(hn.current);var s=null;switch(r){case"input":a=dp(e,a),n=dp(e,n),s=[];break;case"select":a=Me({},a,{value:void 0}),n=Me({},n,{value:void 0}),s=[];break;case"textarea":a=mp(e,a),n=mp(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fu)}gp(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};pS=function(e,t,r,n){r!==n&&(t.flags|=4)};function wo(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k3(e,t,r){var n=t.pendingProps;switch(qg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Jt(t.type)&&Bu(),Et(t),null;case 3:return n=t.stateNode,As(),Se(Qt),Se(It),Zg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(Qp(Ur),Ur=null))),Wp(e,t),Et(t),null;case 5:Jg(t);var a=ii(bl.current);if(r=t.type,e!==null&&t.stateNode!=null)mS(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Et(t),null}if(e=ii(hn.current),Lc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[cn]=t,n[xl]=s,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<zo.length;a++)je(zo[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":Yy(n,s),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},je("invalid",n);break;case"textarea":Qy(n,s),je("invalid",n)}gp(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&$c(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$c(n.textContent,l,e),a=["children",""+l]):ll.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&je("scroll",n)}switch(r){case"input":Pc(n),Xy(n,s,!0);break;case"textarea":Pc(n),Jy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Fu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[cn]=t,e[xl]=n,hS(e,t,!1,!1),t.stateNode=e;e:{switch(o=vp(r,n),r){case"dialog":je("cancel",e),je("close",e),a=n;break;case"iframe":case"object":case"embed":je("load",e),a=n;break;case"video":case"audio":for(a=0;a<zo.length;a++)je(zo[a],e);a=n;break;case"source":je("error",e),a=n;break;case"img":case"image":case"link":je("error",e),je("load",e),a=n;break;case"details":je("toggle",e),a=n;break;case"input":Yy(e,n),a=dp(e,n),je("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Me({},n,{value:void 0}),je("invalid",e);break;case"textarea":Qy(e,n),a=mp(e,n),je("invalid",e);break;default:a=n}gp(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?K2(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q2(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cl(e,c):typeof c=="number"&&cl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ll.hasOwnProperty(s)?c!=null&&s==="onScroll"&&je("scroll",e):c!=null&&Og(e,s,c,o))}switch(r){case"input":Pc(e),Xy(e,n,!1);break;case"textarea":Pc(e),Jy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Oa(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ps(e,!!n.multiple,s,!1):n.defaultValue!=null&&ps(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)pS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=ii(bl.current),ii(hn.current),Lc(t)){if(n=t.stateNode,r=t.memoizedProps,n[cn]=t,(s=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:$c(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$c(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cn]=t,t.stateNode=n}return Et(t),null;case 13:if(Se(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&ar!==null&&t.mode&1&&!(t.flags&128))I_(),Ps(),t.flags|=98560,s=!1;else if(s=Lc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[cn]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else Ur!==null&&(Qp(Ur),Ur=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?it===0&&(it=3):dv())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return As(),Wp(e,t),e===null&&gl(t.stateNode.containerInfo),Et(t),null;case 10:return Gg(t.type._context),Et(t),null;case 17:return Jt(t.type)&&Bu(),Et(t),null;case 19:if(Se(Ce),s=t.memoizedState,s===null)return Et(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)wo(s,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gu(e),o!==null){for(t.flags|=128,wo(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Ce,Ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ke()>Ts&&(t.flags|=128,n=!0,wo(s,!1),t.lanes=4194304)}else{if(!n)if(e=Gu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return Et(t),null}else 2*Ke()-s.renderingStartTime>Ts&&r!==1073741824&&(t.flags|=128,n=!0,wo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,r=Ce.current,we(Ce,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return uv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function E3(e,t){switch(qg(t),t.tag){case 1:return Jt(t.type)&&Bu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return As(),Se(Qt),Se(It),Zg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jg(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return As(),null;case 10:return Gg(t.type._context),null;case 22:case 23:return uv(),null;case 24:return null;default:return null}}var Fc=!1,At=!1,P3=typeof WeakSet=="function"?WeakSet:Set,X=null;function cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ze(e,t,n)}else r.current=null}function qp(e,t,r){try{r()}catch(n){ze(e,t,n)}}var Bb=!1;function O3(e,t){if(Ep=Lu,e=b_(),Ug(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pp={focusedElem:e,selectionRange:r},Lu=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:zr(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){ze(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=Bb,Bb=!1,g}function Qo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&qp(t,r,s)}a=a.next}while(a!==n)}}function vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gS(e){var t=e.alternate;t!==null&&(e.alternate=null,gS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[xl],delete t[Cp],delete t[d3],delete t[f3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vS(e){return e.tag===5||e.tag===3||e.tag===4}function Ub(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fu));else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}function Vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Vp(e,t,r),e=e.sibling;e!==null;)Vp(e,t,r),e=e.sibling}var yt=null,Fr=!1;function na(e,t,r){for(r=r.child;r!==null;)xS(e,t,r),r=r.sibling}function xS(e,t,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(cf,r)}catch{}switch(r.tag){case 5:At||cs(r,t);case 6:var n=yt,a=Fr;yt=null,na(e,t,r),yt=n,Fr=a,yt!==null&&(Fr?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(Fr?(e=yt,r=r.stateNode,e.nodeType===8?im(e.parentNode,r):e.nodeType===1&&im(e,r),hl(e)):im(yt,r.stateNode));break;case 4:n=yt,a=Fr,yt=r.stateNode.containerInfo,Fr=!0,na(e,t,r),yt=n,Fr=a;break;case 0:case 11:case 14:case 15:if(!At&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qp(r,t,o),a=a.next}while(a!==n)}na(e,t,r);break;case 1:if(!At&&(cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ze(r,t,l)}na(e,t,r);break;case 21:na(e,t,r);break;case 22:r.mode&1?(At=(n=At)||r.memoizedState!==null,na(e,t,r),At=n):na(e,t,r);break;default:na(e,t,r)}}function Wb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new P3),t.forEach(function(n){var a=R3.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function $r(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:yt=l.stateNode,Fr=!1;break e;case 3:yt=l.stateNode.containerInfo,Fr=!0;break e;case 4:yt=l.stateNode.containerInfo,Fr=!0;break e}l=l.return}if(yt===null)throw Error(z(160));xS(s,o,a),yt=null,Fr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ze(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yS(t,e),t=t.sibling}function yS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($r(t,e),en(e),n&4){try{Qo(3,e,e.return),vf(3,e)}catch(v){ze(e,e.return,v)}try{Qo(5,e,e.return)}catch(v){ze(e,e.return,v)}}break;case 1:$r(t,e),en(e),n&512&&r!==null&&cs(r,r.return);break;case 5:if($r(t,e),en(e),n&512&&r!==null&&cs(r,r.return),e.flags&32){var a=e.stateNode;try{cl(a,"")}catch(v){ze(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&B2(a,s),vp(l,o);var u=vp(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?K2(a,f):d==="dangerouslySetInnerHTML"?q2(a,f):d==="children"?cl(a,f):Og(a,d,f,u)}switch(l){case"input":fp(a,s);break;case"textarea":U2(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ps(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ps(a,!!s.multiple,s.defaultValue,!0):ps(a,!!s.multiple,s.multiple?[]:"",!1))}a[xl]=s}catch(v){ze(e,e.return,v)}}break;case 6:if($r(t,e),en(e),n&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){ze(e,e.return,v)}}break;case 3:if($r(t,e),en(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hl(t.containerInfo)}catch(v){ze(e,e.return,v)}break;case 4:$r(t,e),en(e);break;case 13:$r(t,e),en(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(lv=Ke())),n&4&&Wb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(At=(u=At)||d,$r(t,e),At=u):$r(t,e),en(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:Qo(4,h,h.return);break;case 1:cs(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ze(n,r,v)}}break;case 5:cs(h,h.return);break;case 22:if(h.memoizedState!==null){Hb(f);continue}}m!==null?(m.return=h,X=m):Hb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=H2("display",o))}catch(v){ze(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ze(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$r(t,e),en(e),n&4&&Wb(e);break;case 21:break;default:$r(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vS(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cl(a,""),n.flags&=-33);var s=Ub(e);Vp(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ub(e);Kp(e,l,o);break;default:throw Error(z(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A3(e,t,r){X=e,bS(e)}function bS(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var a=X,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Fc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||At;l=Fc;var u=At;if(Fc=o,(At=c)&&!u)for(X=a;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Kb(a):c!==null?(c.return=o,X=c):Kb(a);for(;s!==null;)X=s,bS(s),s=s.sibling;X=a,Fc=l,At=u}qb(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,X=s):qb(e)}}function qb(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||vf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!At)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Pb(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}At||t.flags&512&&Hp(t)}catch(h){ze(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function Hb(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function Kb(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vf(4,t)}catch(c){ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ze(t,a,c)}}var s=t.return;try{Hp(t)}catch(c){ze(t,s,c)}break;case 5:var o=t.return;try{Hp(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var C3=Math.ceil,Qu=Qn.ReactCurrentDispatcher,sv=Qn.ReactCurrentOwner,_r=Qn.ReactCurrentBatchConfig,oe=0,pt=null,Xe=null,jt=0,rr=0,us=La(0),it=0,_l=null,wi=0,xf=0,ov=0,Jo=null,Kt=null,lv=0,Ts=1/0,Sn=null,Ju=!1,Gp=null,_a=null,Bc=!1,pa=null,Zu=0,Zo=0,Yp=null,wu=-1,ju=0;function Ft(){return oe&6?Ke():wu!==-1?wu:wu=Ke()}function Sa(e){return e.mode&1?oe&2&&jt!==0?jt&-jt:m3.transition!==null?(ju===0&&(ju=a_()),ju):(e=fe,e!==0||(e=window.event,e=e===void 0?16:d_(e.type)),e):1}function Vr(e,t,r,n){if(50<Zo)throw Zo=0,Yp=null,Error(z(185));Hl(e,r,n),(!(oe&2)||e!==pt)&&(e===pt&&(!(oe&2)&&(xf|=r),it===4&&da(e,jt)),Zt(e,n),r===1&&oe===0&&!(t.mode&1)&&(Ts=Ke()+500,mf&&Ra()))}function Zt(e,t){var r=e.callbackNode;mT(e,t);var n=$u(e,e===pt?jt:0);if(n===0)r!==null&&tb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tb(r),t===1)e.tag===0?h3(Vb.bind(null,e)):A_(Vb.bind(null,e)),c3(function(){!(oe&6)&&Ra()}),r=null;else{switch(i_(n)){case 1:r=Dg;break;case 4:r=r_;break;case 16:r=Mu;break;case 536870912:r=n_;break;default:r=Mu}r=PS(r,wS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wS(e,t){if(wu=-1,ju=0,oe&6)throw Error(z(327));var r=e.callbackNode;if(bs()&&e.callbackNode!==r)return null;var n=$u(e,e===pt?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ed(e,n);else{t=n;var a=oe;oe|=2;var s=NS();(pt!==e||jt!==t)&&(Sn=null,Ts=Ke()+500,di(e,t));do try{D3();break}catch(l){jS(e,l)}while(!0);Vg(),Qu.current=s,oe=a,Xe!==null?t=0:(pt=null,jt=0,t=it)}if(t!==0){if(t===2&&(a=jp(e),a!==0&&(n=a,t=Xp(e,a))),t===1)throw r=_l,di(e,0),da(e,n),Zt(e,Ke()),r;if(t===6)da(e,n);else{if(a=e.current.alternate,!(n&30)&&!T3(a)&&(t=ed(e,n),t===2&&(s=jp(e),s!==0&&(n=s,t=Xp(e,s))),t===1))throw r=_l,di(e,0),da(e,n),Zt(e,Ke()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:Qa(e,Kt,Sn);break;case 3:if(da(e,n),(n&130023424)===n&&(t=lv+500-Ke(),10<t)){if($u(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ap(Qa.bind(null,e,Kt,Sn),t);break}Qa(e,Kt,Sn);break;case 4:if(da(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Kr(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C3(n/1960))-n,10<n){e.timeoutHandle=Ap(Qa.bind(null,e,Kt,Sn),n);break}Qa(e,Kt,Sn);break;case 5:Qa(e,Kt,Sn);break;default:throw Error(z(329))}}}return Zt(e,Ke()),e.callbackNode===r?wS.bind(null,e):null}function Xp(e,t){var r=Jo;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=ed(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&Qp(t)),e}function Qp(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function T3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Yr(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function da(e,t){for(t&=~ov,t&=~xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kr(t),n=1<<r;e[r]=-1,t&=~n}}function Vb(e){if(oe&6)throw Error(z(327));bs();var t=$u(e,0);if(!(t&1))return Zt(e,Ke()),null;var r=ed(e,t);if(e.tag!==0&&r===2){var n=jp(e);n!==0&&(t=n,r=Xp(e,n))}if(r===1)throw r=_l,di(e,0),da(e,t),Zt(e,Ke()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,Kt,Sn),Zt(e,Ke()),null}function cv(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Ts=Ke()+500,mf&&Ra())}}function ji(e){pa!==null&&pa.tag===0&&!(oe&6)&&bs();var t=oe;oe|=1;var r=_r.transition,n=fe;try{if(_r.transition=null,fe=1,e)return e()}finally{fe=n,_r.transition=r,oe=t,!(oe&6)&&Ra()}}function uv(){rr=us.current,Se(us)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l3(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(qg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bu();break;case 3:As(),Se(Qt),Se(It),Zg();break;case 5:Jg(n);break;case 4:As();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:Gg(n.type._context);break;case 22:case 23:uv()}r=r.return}if(pt=e,Xe=e=ka(e.current,null),jt=rr=t,it=0,_l=null,ov=xf=wi=0,Kt=Jo=null,ai!==null){for(t=0;t<ai.length;t++)if(r=ai[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}ai=null}return e}function jS(e,t){do{var r=Xe;try{if(Vg(),xu.current=Xu,Yu){for(var n=De.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yu=!1}if(bi=0,ft=nt=De=null,Xo=!1,wl=0,sv.current=null,r===null||r.return===null){it=1,_l=t,Xe=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Db(o);if(m!==null){m.flags&=-257,Mb(m,o,l,s,t),m.mode&1&&Ib(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Ib(s,u,t),dv();break e}c=Error(z(426))}}else if(Ee&&l.mode&1){var y=Db(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Mb(y,o,l,s,t),Hg(Cs(c,l));break e}}s=c=Cs(c,l),it!==4&&(it=2),Jo===null?Jo=[s]:Jo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=iS(s,c,t);Eb(s,x);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_a===null||!_a.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=sS(s,l,t);Eb(s,j);break e}}s=s.return}while(s!==null)}SS(r)}catch(_){t=_,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function NS(){var e=Qu.current;return Qu.current=Xu,e===null?Xu:e}function dv(){(it===0||it===3||it===2)&&(it=4),pt===null||!(wi&268435455)&&!(xf&268435455)||da(pt,jt)}function ed(e,t){var r=oe;oe|=2;var n=NS();(pt!==e||jt!==t)&&(Sn=null,di(e,t));do try{I3();break}catch(a){jS(e,a)}while(!0);if(Vg(),oe=r,Qu.current=n,Xe!==null)throw Error(z(261));return pt=null,jt=0,it}function I3(){for(;Xe!==null;)_S(Xe)}function D3(){for(;Xe!==null&&!iT();)_S(Xe)}function _S(e){var t=ES(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?SS(e):Xe=t,sv.current=null}function SS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=E3(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,Xe=null;return}}else if(r=k3(r,t,rr),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);it===0&&(it=5)}function Qa(e,t,r){var n=fe,a=_r.transition;try{_r.transition=null,fe=1,M3(e,t,r,n)}finally{_r.transition=a,fe=n}return null}function M3(e,t,r,n){do bs();while(pa!==null);if(oe&6)throw Error(z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(pT(e,s),e===pt&&(Xe=pt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bc||(Bc=!0,PS(Mu,function(){return bs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=fe;fe=1;var l=oe;oe|=4,sv.current=null,O3(e,r),yS(r,e),t3(Pp),Lu=!!Ep,Pp=Ep=null,e.current=r,A3(r),sT(),oe=l,fe=o,_r.transition=s}else e.current=r;if(Bc&&(Bc=!1,pa=e,Zu=a),s=e.pendingLanes,s===0&&(_a=null),cT(r.stateNode),Zt(e,Ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ju)throw Ju=!1,e=Gp,Gp=null,e;return Zu&1&&e.tag!==0&&bs(),s=e.pendingLanes,s&1?e===Yp?Zo++:(Zo=0,Yp=e):Zo=0,Ra(),null}function bs(){if(pa!==null){var e=i_(Zu),t=_r.transition,r=fe;try{if(_r.transition=null,fe=16>e?16:e,pa===null)var n=!1;else{if(e=pa,pa=null,Zu=0,oe&6)throw Error(z(331));var a=oe;for(oe|=4,X=e.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Qo(8,d,s)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,m=d.return;if(gS(d),d===u){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qo(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,X=x;break e}X=s.return}}var w=e.current;for(X=w;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=w;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vf(9,l)}}catch(_){ze(l,l.return,_)}if(l===o){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(oe=a,Ra(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(cf,e)}catch{}n=!0}return n}finally{fe=r,_r.transition=t}}return!1}function Gb(e,t,r){t=Cs(r,t),t=iS(e,t,1),e=Na(e,t,1),t=Ft(),e!==null&&(Hl(e,1,t),Zt(e,t))}function ze(e,t,r){if(e.tag===3)Gb(e,e,r);else for(;t!==null;){if(t.tag===3){Gb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_a===null||!_a.has(n))){e=Cs(r,e),e=sS(t,e,1),t=Na(t,e,1),e=Ft(),t!==null&&(Hl(t,1,e),Zt(t,e));break}}t=t.return}}function $3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(jt&r)===r&&(it===4||it===3&&(jt&130023424)===jt&&500>Ke()-lv?di(e,0):ov|=r),Zt(e,t)}function kS(e,t){t===0&&(e.mode&1?(t=Cc,Cc<<=1,!(Cc&130023424)&&(Cc=4194304)):t=1);var r=Ft();e=Fn(e,t),e!==null&&(Hl(e,t,r),Zt(e,r))}function L3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kS(e,r)}function R3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),kS(e,r)}var ES;ES=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qt.current)Gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gt=!1,S3(e,t,r);Gt=!!(e.flags&131072)}else Gt=!1,Ee&&t.flags&1048576&&C_(t,qu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bu(e,t),e=t.pendingProps;var a=Es(t,It.current);ys(t,r),a=tv(null,t,n,e,a,r);var s=rv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(s=!0,Uu(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xg(t),a.updater=gf,t.stateNode=a,a._reactInternals=t,Lp(t,n,e,r),t=Fp(null,t,n,!0,s,r)):(t.tag=0,Ee&&s&&Wg(t),$t(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=F3(n),e=zr(n,e),a){case 0:t=zp(null,t,n,e,r);break e;case 1:t=Rb(null,t,n,e,r);break e;case 11:t=$b(null,t,n,e,r);break e;case 14:t=Lb(null,t,n,zr(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),zp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),Rb(e,t,n,a,r);case 3:e:{if(uS(t),e===null)throw Error(z(387));n=t.pendingProps,s=t.memoizedState,a=s.element,L_(e,t),Vu(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Cs(Error(z(423)),t),t=zb(e,t,n,r,a);break e}else if(n!==a){a=Cs(Error(z(424)),t),t=zb(e,t,n,r,a);break e}else for(ar=ja(t.stateNode.containerInfo.firstChild),or=t,Ee=!0,Ur=null,r=M_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),n===a){t=Bn(e,t,r);break e}$t(e,t,n,r)}t=t.child}return t;case 5:return R_(t),e===null&&Dp(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,Op(n,a)?o=null:s!==null&&Op(n,s)&&(t.flags|=32),cS(e,t),$t(e,t,o,r),t.child;case 6:return e===null&&Dp(t),null;case 13:return dS(e,t,r);case 4:return Qg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Os(t,null,n,r):$t(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),$b(e,t,n,a,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,we(Hu,n._currentValue),n._currentValue=o,s!==null)if(Yr(s.value,o)){if(s.children===a.children&&!Qt.current){t=Bn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Dn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Mp(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Mp(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ys(t,r),a=Er(a),n=n(a),t.flags|=1,$t(e,t,n,r),t.child;case 14:return n=t.type,a=zr(n,t.pendingProps),a=zr(n.type,a),Lb(e,t,n,a,r);case 15:return oS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),bu(e,t),t.tag=1,Jt(n)?(e=!0,Uu(t)):e=!1,ys(t,r),aS(t,n,a),Lp(t,n,a,r),Fp(null,t,n,!0,e,r);case 19:return fS(e,t,r);case 22:return lS(e,t,r)}throw Error(z(156,t.tag))};function PS(e,t){return t_(e,t)}function z3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new z3(e,t,r,n)}function fv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F3(e){if(typeof e=="function")return fv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cg)return 11;if(e===Tg)return 14}return 2}function ka(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nu(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")fv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case es:return fi(r.children,a,s,t);case Ag:o=8,a|=8;break;case op:return e=jr(12,r,t,a|2),e.elementType=op,e.lanes=s,e;case lp:return e=jr(13,r,t,a),e.elementType=lp,e.lanes=s,e;case cp:return e=jr(19,r,t,a),e.elementType=cp,e.lanes=s,e;case R2:return yf(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $2:o=10;break e;case L2:o=9;break e;case Cg:o=11;break e;case Tg:o=14;break e;case sa:o=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=jr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function fi(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function yf(e,t,r,n){return e=jr(22,e,n,t),e.elementType=R2,e.lanes=r,e.stateNode={isHidden:!1},e}function hm(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function mm(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B3(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hv(e,t,r,n,a,s,o,l,c){return e=new B3(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),e}function U3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function OS(e){if(!e)return Aa;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(Jt(r))return O_(e,r,t)}return t}function AS(e,t,r,n,a,s,o,l,c){return e=hv(r,n,!0,e,a,s,o,l,c),e.context=OS(null),r=e.current,n=Ft(),a=Sa(r),s=Dn(n,a),s.callback=t??null,Na(r,s,a),e.current.lanes=a,Hl(e,a,n),Zt(e,n),e}function bf(e,t,r,n){var a=t.current,s=Ft(),o=Sa(a);return r=OS(r),t.context===null?t.context=r:t.pendingContext=r,t=Dn(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Na(a,t,o),e!==null&&(Vr(e,a,o,s),vu(e,a,o)),o}function td(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mv(e,t){Yb(e,t),(e=e.alternate)&&Yb(e,t)}function W3(){return null}var CS=typeof reportError=="function"?reportError:function(e){console.error(e)};function pv(e){this._internalRoot=e}wf.prototype.render=pv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));bf(e,t,null,null)};wf.prototype.unmount=pv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ji(function(){bf(null,e,null,null)}),t[zn]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=l_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ua.length&&t!==0&&t<ua[r].priority;r++);ua.splice(r,0,e),r===0&&u_(e)}};function gv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xb(){}function q3(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=td(o);s.call(u)}}var o=AS(t,n,e,0,null,!1,!1,"",Xb);return e._reactRootContainer=o,e[zn]=o.current,gl(e.nodeType===8?e.parentNode:e),ji(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=td(c);l.call(u)}}var c=hv(e,0,!1,null,null,!1,!1,"",Xb);return e._reactRootContainer=c,e[zn]=c.current,gl(e.nodeType===8?e.parentNode:e),ji(function(){bf(t,c,r,n)}),c}function Nf(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=td(o);l.call(c)}}bf(t,o,e,a)}else o=q3(r,t,e,a,n);return td(o)}s_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ro(t.pendingLanes);r!==0&&(Mg(t,r|1),Zt(t,Ke()),!(oe&6)&&(Ts=Ke()+500,Ra()))}break;case 13:ji(function(){var n=Fn(e,1);if(n!==null){var a=Ft();Vr(n,e,1,a)}}),mv(e,1)}};$g=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var r=Ft();Vr(t,e,134217728,r)}mv(e,134217728)}};o_=function(e){if(e.tag===13){var t=Sa(e),r=Fn(e,t);if(r!==null){var n=Ft();Vr(r,e,t,n)}mv(e,t)}};l_=function(){return fe};c_=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}};yp=function(e,t,r){switch(t){case"input":if(fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=hf(n);if(!a)throw Error(z(90));F2(n),fp(n,a)}}}break;case"textarea":U2(e,r);break;case"select":t=r.value,t!=null&&ps(e,!!r.multiple,t,!1)}};Y2=cv;X2=ji;var H3={usingClientEntryPoint:!1,Events:[Vl,as,hf,V2,G2,cv]},jo={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K3={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Z2(e),e===null?null:e.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||W3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{cf=Uc.inject(K3),fn=Uc}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3;dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gv(t))throw Error(z(200));return U3(e,t,null,r)};dr.createRoot=function(e,t){if(!gv(e))throw Error(z(299));var r=!1,n="",a=CS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hv(e,1,!1,null,null,r,!1,n,a),e[zn]=t.current,gl(e.nodeType===8?e.parentNode:e),new pv(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Z2(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return ji(e)};dr.hydrate=function(e,t,r){if(!jf(t))throw Error(z(200));return Nf(null,e,t,!0,r)};dr.hydrateRoot=function(e,t,r){if(!gv(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=CS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=AS(t,null,e,1,r??null,a,!1,s,o),e[zn]=t.current,gl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wf(t)};dr.render=function(e,t,r){if(!jf(t))throw Error(z(200));return Nf(null,e,t,!1,r)};dr.unmountComponentAtNode=function(e){if(!jf(e))throw Error(z(40));return e._reactRootContainer?(ji(function(){Nf(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};dr.unstable_batchedUpdates=cv;dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jf(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Nf(e,t,r,!1,n)};dr.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(e){console.error(e)}}TS(),T2.exports=dr;var _f=T2.exports,IS,Qb=_f;IS=Qb.createRoot,Qb.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jb="popstate";function V3(e={}){function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Jp("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Sl(a)}return Y3(t,r,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G3(){return Math.random().toString(36).substring(2,10)}function Zb(e,t){return{usr:e.state,key:e.key,idx:t}}function Jp(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Js(t):t,state:r,key:t&&t.key||n||G3()}}function Sl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Js(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Y3(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:x})}function h(y,x){l="PUSH";let w=Jp(v.location,y,x);u=d()+1;let b=Zb(w,u),j=v.createHref(w);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}s&&c&&c({action:l,location:v.location,delta:1})}function m(y,x){l="REPLACE";let w=Jp(v.location,y,x);u=d();let b=Zb(w,u),j=v.createHref(w);o.replaceState(b,"",j),s&&c&&c({action:l,location:v.location,delta:0})}function g(y){return X3(y)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Jb,f),c=y,()=>{a.removeEventListener(Jb,f),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return v}function X3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Sl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function DS(e,t,r="/"){return Q3(e,t,r,!1)}function Q3(e,t,r,n){let a=typeof t=="string"?Js(t):t,s=Un(a.pathname||"/",r);if(s==null)return null;let o=MS(e);J3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=c6(s);l=o6(o[c],u,n)}return l}function MS(e,t=[],r=[],n="",a=!1){let s=(o,l,c=a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Oe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Mn([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(Oe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MS(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:i6(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of $S(o.path))s(o,l,!0,u)}),t}function $S(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=$S(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function J3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Z3=/^:[\w-]+$/,e6=3,t6=2,r6=1,n6=10,a6=-2,ew=e=>e==="*";function i6(e,t){let r=e.split("/"),n=r.length;return r.some(ew)&&(n+=a6),t&&(n+=t6),r.filter(a=>!ew(a)).reduce((a,s)=>a+(Z3.test(s)?e6:s===""?r6:n6),n)}function s6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function o6(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=rd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Mn([s,f.pathname]),pathnameBase:h6(Mn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Mn([s,f.pathnameBase]))}return o}function rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=l6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=l[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function l6(e,t=!1,r=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function c6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Un(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var u6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function d6(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Js(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=tw(r.substring(1),"/"):s=tw(r,t)):s=t,{pathname:s,search:m6(n),hash:p6(a)}}function tw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function pm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vv(e){let t=f6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function xv(e,t,r,n=!1){let a;typeof e=="string"?a=Js(e):(a={...e},Oe(!a.pathname||!a.pathname.includes("?"),pm("?","pathname","search",a)),Oe(!a.pathname||!a.pathname.includes("#"),pm("#","pathname","hash",a)),Oe(!a.search||!a.search.includes("#"),pm("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=d6(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Mn=e=>e.join("/").replace(/\/\/+/g,"/"),h6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,g6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function v6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function x6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RS(e,t){let r=e;if(typeof r!="string"||!u6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(LS)try{let s=new URL(window.location.href),o=r.startsWith("//")?new URL(s.protocol+r):new URL(r),l=Un(o.pathname,t);o.origin===s.origin&&l!=null?r=l+o.search+o.hash:a=!0}catch{Or(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zS=["POST","PUT","PATCH","DELETE"];new Set(zS);var y6=["GET",...zS];new Set(y6);var Zs=p.createContext(null);Zs.displayName="DataRouter";var Sf=p.createContext(null);Sf.displayName="DataRouterState";var b6=p.createContext(!1),FS=p.createContext({isTransitioning:!1});FS.displayName="ViewTransition";var w6=p.createContext(new Map);w6.displayName="Fetchers";var j6=p.createContext(null);j6.displayName="Await";var hr=p.createContext(null);hr.displayName="Navigation";var Yl=p.createContext(null);Yl.displayName="Location";var Jr=p.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var yv=p.createContext(null);yv.displayName="RouteError";var BS="REACT_ROUTER_ERROR",N6="REDIRECT",_6="ROUTE_ERROR_RESPONSE";function S6(e){if(e.startsWith(`${BS}:${N6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function k6(e){if(e.startsWith(`${BS}:${_6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new g6(t.status,t.statusText,t.data)}catch{}}function E6(e,{relative:t}={}){Oe(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=p.useContext(hr),{hash:a,pathname:s,search:o}=Xl(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Mn([r,s])),n.createHref({pathname:l,search:o,hash:a})}function eo(){return p.useContext(Yl)!=null}function xn(){return Oe(eo(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Yl).location}var US="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WS(e){p.useContext(hr).static||p.useLayoutEffect(e)}function za(){let{isDataRoute:e}=p.useContext(Jr);return e?B6():P6()}function P6(){Oe(eo(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Zs),{basename:t,navigator:r}=p.useContext(hr),{matches:n}=p.useContext(Jr),{pathname:a}=xn(),s=JSON.stringify(vv(n)),o=p.useRef(!1);return WS(()=>{o.current=!0}),p.useCallback((c,u={})=>{if(Or(o.current,US),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=xv(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Mn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}p.createContext(null);function O6(){let{matches:e}=p.useContext(Jr),t=e[e.length-1];return t?t.params:{}}function Xl(e,{relative:t}={}){let{matches:r}=p.useContext(Jr),{pathname:n}=xn(),a=JSON.stringify(vv(r));return p.useMemo(()=>xv(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function A6(e,t){return qS(e,t)}function qS(e,t,r,n,a){var w;Oe(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=p.useContext(hr),{matches:o}=p.useContext(Jr),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";KS(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=xn(),m;if(t){let b=typeof t=="string"?Js(t):t;Oe(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=h;let g=m.pathname||"/",v=g;if(d!=="/"){let b=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=DS(e,{pathname:v});Or(f||y!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Or(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=M6(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Mn([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Mn([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),o,r,n,a);return t&&x?p.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function C6(){let e=F6(),t=v6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:s},"ErrorBoundary")," or"," ",p.createElement("code",{style:s},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,o)}var T6=p.createElement(C6,null),HS=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=k6(e.digest);r&&(e=r)}let t=e!==void 0?p.createElement(Jr.Provider,{value:this.props.routeContext},p.createElement(yv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?p.createElement(I6,{error:e},t):t}};HS.contextType=b6;var gm=new WeakMap;function I6({children:e,error:t}){let{basename:r}=p.useContext(hr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=S6(t.digest);if(n){let a=gm.get(t);if(a)throw a;let s=RS(n.location,r);if(LS&&!gm.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw gm.set(t,o),o}return p.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function D6({routeContext:e,match:t,children:r}){let n=p.useContext(Zs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Jr.Provider,{value:e},r)}function M6(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Oe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:x6(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,h)=>{let m,g=!1,v=null,y=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||T6,l&&(c<0&&h===0?(KS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),w=()=>{let b;return m?b=v:g?b=y:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(D6,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(HS,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):w()},null)}function bv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $6(e){let t=p.useContext(Zs);return Oe(t,bv(e)),t}function L6(e){let t=p.useContext(Sf);return Oe(t,bv(e)),t}function R6(e){let t=p.useContext(Jr);return Oe(t,bv(e)),t}function wv(e){let t=R6(e),r=t.matches[t.matches.length-1];return Oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function z6(){return wv("useRouteId")}function F6(){var n;let e=p.useContext(yv),t=L6("useRouteError"),r=wv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function B6(){let{router:e}=$6("useNavigate"),t=wv("useNavigate"),r=p.useRef(!1);return WS(()=>{r.current=!0}),p.useCallback(async(a,s={})=>{Or(r.current,US),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var rw={};function KS(e,t,r){!t&&!rw[e]&&(rw[e]=!0,Or(!1,r))}p.memo(U6);function U6({routes:e,future:t,state:r,onError:n}){return qS(e,void 0,r,n,t)}function VS({to:e,replace:t,state:r,relative:n}){Oe(eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=p.useContext(hr);Or(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=p.useContext(Jr),{pathname:o}=xn(),l=za(),c=xv(e,vv(s),o,n==="path"),u=JSON.stringify(c);return p.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function He(e){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:o}){Oe(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:o,future:{}}),[l,a,s,o]);typeof r=="string"&&(r=Js(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=p.useMemo(()=>{let v=Un(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return Or(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(hr.Provider,{value:c},p.createElement(Yl.Provider,{children:t,value:g}))}function nw({children:e,location:t}){return A6(Zp(e),t)}function Zp(e,t=[]){let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let s=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Zp(n.props.children,s));return}Oe(n.type===He,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zp(n.props.children,s)),r.push(o)}),r}var _u="get",Su="application/x-www-form-urlencoded";function kf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function q6(e){return kf(e)&&e.tagName.toLowerCase()==="button"}function H6(e){return kf(e)&&e.tagName.toLowerCase()==="form"}function K6(e){return kf(e)&&e.tagName.toLowerCase()==="input"}function V6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G6(e,t){return e.button===0&&(!t||t==="_self")&&!V6(e)}function e0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Y6(e,t){let r=e0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var Wc=null;function X6(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var Q6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(e){return e!=null&&!Q6.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):e}function J6(e,t){let r,n,a,s,o;if(H6(e)){let l=e.getAttribute("action");n=l?Un(l,t):null,r=e.getAttribute("method")||_u,a=vm(e.getAttribute("enctype"))||Su,s=new FormData(e)}else if(q6(e)||K6(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Un(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||_u,a=vm(e.getAttribute("formenctype"))||vm(l.getAttribute("enctype"))||Su,s=new FormData(l,e),!X6()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(kf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_u,n=null,a=Su,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z6(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Un(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function eI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rI(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await eI(s,r);return o.links?o.links():[]}return[]}));return sI(n.flat(1).filter(tI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aw(e,t,r,n,a,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function nI(e,t,{includeHydrateFallback:r}={}){return aI(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function aI(e){return[...new Set(e)]}function iI(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sI(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(iI(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function GS(){let e=p.useContext(Zs);return jv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oI(){let e=p.useContext(Sf);return jv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nv=p.createContext(void 0);Nv.displayName="FrameworkContext";function YS(){let e=p.useContext(Nv);return jv(e,"You must render this element inside a <HydratedRouter> element"),e}function lI(e,t){let r=p.useContext(Nv),[n,a]=p.useState(!1),[s,o]=p.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=x=>{x.forEach(w=>{o(w.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),p.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},g=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:No(l,m),onBlur:No(c,g),onMouseEnter:No(u,m),onMouseLeave:No(d,g),onTouchStart:No(f,m)}]:[!1,h,{}]}function No(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cI({page:e,...t}){let{router:r}=GS(),n=p.useMemo(()=>DS(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?p.createElement(dI,{page:e,matches:n,...t}):null}function uI(e){let{manifest:t,routeModules:r}=YS(),[n,a]=p.useState([]);return p.useEffect(()=>{let s=!1;return rI(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function dI({page:e,matches:t,...r}){let n=xn(),{future:a,manifest:s,routeModules:o}=YS(),{basename:l}=GS(),{loaderData:c,matches:u}=oI(),d=p.useMemo(()=>aw(e,t,u,s,n,"data"),[e,t,u,s,n]),f=p.useMemo(()=>aw(e,t,u,s,n,"assets"),[e,t,u,s,n]),h=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,y=!1;if(t.forEach(w=>{var j;let b=s.routes[w.route.id];!b||!b.hasLoader||(!d.some(_=>_.route.id===w.route.id)&&w.route.id in c&&((j=o[w.route.id])!=null&&j.shouldRevalidate)||b.hasClientLoader?y=!0:v.add(w.route.id))}),v.size===0)return[];let x=Z6(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return y&&v.size>0&&x.searchParams.set("_routes",t.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[l,a.unstable_trailingSlashAwareDataRequests,c,n,s,d,t,e,o]),m=p.useMemo(()=>nI(f,s),[f,s]),g=uI(f);return p.createElement(p.Fragment,null,h.map(v=>p.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),m.map(v=>p.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),g.map(({key:v,link:y})=>p.createElement("link",{key:v,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function fI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hI&&(window.__reactRouterVersion="7.13.0")}catch{}function mI({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=p.useRef();a.current==null&&(a.current=V3({window:n,v5Compat:!0}));let s=a.current,[o,l]=p.useState({action:s.action,location:s.location}),c=p.useCallback(u=>{r===!1?l(u):p.startTransition(()=>l(u))},[r]);return p.useLayoutEffect(()=>s.listen(c),[s,c]),p.createElement(W6,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:r})}var XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=p.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g){let{basename:v,unstable_useTransitions:y}=p.useContext(hr),x=typeof u=="string"&&XS.test(u),w=RS(u,v);u=w.to;let b=E6(u,{relative:a}),[j,_,N]=lI(n,m),S=xI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y});function P(I){t&&t(I),I.defaultPrevented||S(I)}let C=p.createElement("a",{...m,...N,href:w.absoluteURL||b,onClick:w.isExternal||s?t:P,ref:fI(g,_),target:c,"data-discover":!x&&r==="render"?"true":void 0});return j&&!x?p.createElement(p.Fragment,null,C,p.createElement(cI,{page:b})):C});Lt.displayName="Link";var pI=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let f=Xl(o,{relative:u.relative}),h=xn(),m=p.useContext(Sf),{navigator:g,basename:v}=p.useContext(hr),y=m!=null&&NI(f)&&l===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&v&&(b=Un(b,v)||b);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=w===x||!a&&w.startsWith(x)&&w.charAt(j)==="/",N=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),S={isActive:_,isPending:N,isTransitioning:y},P=_?t:void 0,C;typeof n=="function"?C=n(S):C=[n,_?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(S):s;return p.createElement(Lt,{...u,"aria-current":P,className:C,ref:d,style:I,to:o,viewTransition:l},typeof c=="function"?c(S):c)});pI.displayName="NavLink";var gI=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=_u,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g)=>{let{unstable_useTransitions:v}=p.useContext(hr),y=wI(),x=jI(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&XS.test(l),j=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let N=_.nativeEvent.submitter,S=(N==null?void 0:N.getAttribute("formmethod"))||o,P=()=>y(N||_.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:h});v&&r!==!1?p.startTransition(()=>P()):P()};return p.createElement("form",{ref:g,method:w,action:x,onSubmit:n?c:j,...m,"data-discover":!b&&e==="render"?"true":void 0})});gI.displayName="Form";function vI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(e){let t=p.useContext(Zs);return Oe(t,vI(e)),t}function xI(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=za(),d=xn(),f=Xl(e,{relative:s});return p.useCallback(h=>{if(G6(h,t)){h.preventDefault();let m=r!==void 0?r:Sl(d)===Sl(f),g=()=>u(e,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l});c?p.startTransition(()=>g()):g()}},[d,u,f,r,n,t,e,a,s,o,l,c])}function _v(e){Or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(e0(e)),r=p.useRef(!1),n=xn(),a=p.useMemo(()=>Y6(n.search,r.current?null:t.current),[n.search]),s=za(),o=p.useCallback((l,c)=>{const u=e0(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}var yI=0,bI=()=>`__${String(++yI)}__`;function wI(){let{router:e}=QS("useSubmit"),{basename:t}=p.useContext(hr),r=z6(),n=e.fetch,a=e.navigate;return p.useCallback(async(s,o={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=J6(s,t);if(o.navigate===!1){let h=o.fetcherKey||bI();await n(h,r,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function jI(e,{relative:t}={}){let{basename:r}=p.useContext(hr),n=p.useContext(Jr);Oe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Xl(e||".",{relative:t})},o=xn();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Mn([r,s.pathname])),Sl(s)}function NI(e,{relative:t}={}){let r=p.useContext(FS);Oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QS("useViewTransitionState"),a=Xl(e,{relative:t});if(!r.isTransitioning)return!1;let s=Un(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Un(r.nextLocation.pathname,n)||r.nextLocation.pathname;return rd(a.pathname,o)!=null||rd(a.pathname,s)!=null}const _I="modulepreload",SI=function(e){return"/"+e},iw={},to=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=SI(c),c in iw)return;iw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_I,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},kI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Sv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EI extends Sv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sw extends Sv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ow extends Sv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var t0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(t0||(t0={}));var PI=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OI{constructor(t,{headers:r={},customFetch:n,region:a=t0.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=kI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return PI(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(v=>{throw new EI(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new sw(f);if(!f.ok)throw new ow(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof ow||a instanceof sw?a.context:void 0}}})}}var Vt={},kv={},Ef={},Ql={},Pf={},Of={},AI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Is=AI();const CI=Is.fetch,JS=Is.fetch.bind(Is),ZS=Is.Headers,TI=Is.Request,II=Is.Response,ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZS,Request:TI,Response:II,default:JS,fetch:CI},Symbol.toStringTag,{value:"Module"})),DI=y4(ro);var Af={};Object.defineProperty(Af,"__esModule",{value:!0});let MI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Af.default=MI;var ek=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const $I=ek(DI),LI=ek(Af);let RI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$I.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,c,u;let d=null,f=null,h=null,m=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=w:f=JSON.parse(w))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await s.text();try{d=JSON.parse(y),Array.isArray(d)&&s.status===404&&(f=[],d=null,m=200,g="OK")}catch{s.status===404&&y===""?(m=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new LI.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(s=>{var o,l,c;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Of.default=RI;var zI=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const FI=zI(Of);let BI=class extends FI.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Pf.default=BI;var UI=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const WI=UI(Pf);let qI=class extends WI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ql.default=qI;var HI=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const _o=HI(Ql);let KI=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _o.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _o.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ef.default=KI;var tk=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kv,"__esModule",{value:!0});const VI=tk(Ef),GI=tk(Ql);let YI=class rk{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new VI.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new GI.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};kv.default=YI;var no=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.PostgrestError=Vt.PostgrestBuilder=Vt.PostgrestTransformBuilder=Vt.PostgrestFilterBuilder=Vt.PostgrestQueryBuilder=Vt.PostgrestClient=void 0;const nk=no(kv);Vt.PostgrestClient=nk.default;const ak=no(Ef);Vt.PostgrestQueryBuilder=ak.default;const ik=no(Ql);Vt.PostgrestFilterBuilder=ik.default;const sk=no(Pf);Vt.PostgrestTransformBuilder=sk.default;const ok=no(Of);Vt.PostgrestBuilder=ok.default;const lk=no(Af);Vt.PostgrestError=lk.default;var XI=Vt.default={PostgrestClient:nk.default,PostgrestQueryBuilder:ak.default,PostgrestFilterBuilder:ik.default,PostgrestTransformBuilder:sk.default,PostgrestBuilder:ok.default,PostgrestError:lk.default};const{PostgrestClient:QI,PostgrestQueryBuilder:AJ,PostgrestFilterBuilder:CJ,PostgrestTransformBuilder:TJ,PostgrestBuilder:IJ,PostgrestError:DJ}=XI;class JI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ZI="2.15.5",eD=`realtime-js/${ZI}`,tD="1.0.0",r0=1e4,rD=1e3,nD=100;var el;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(el||(el={}));var tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tt||(tt={}));var Br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Br||(Br={}));var n0;(function(e){e.websocket="websocket"})(n0||(n0={}));var ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ri||(ri={}));class aD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ck{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ye||(ye={}));const lw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=iD(o,e,t,a),s),{})},iD=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,o=r[e];return s&&!n.includes(s)?uk(s,o):a0(o)},uk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cD(t,r)}switch(e){case ye.bool:return sD(t);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return oD(t);case ye.json:case ye.jsonb:return lD(t);case ye.timestamp:return uD(t);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return a0(t);default:return a0(t)}},a0=e=>e,sD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>uk(t,l))}return e},uD=e=>typeof e=="string"?e.replace(" ","T"):e,dk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class xm{constructor(t,r,n={},a=r0){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cw||(cw={}));class tl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tl.syncState(this.state,a,s,o),this.pendingDiffs.forEach(c=>{this.state=tl.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tl.syncDiff(this.state,a,s,o),l())}),this.onJoin((a,s,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:o})}),this.onLeave((a,s,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),v=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uw||(uw={}));var rl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rl||(rl={}));var kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class Ev{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,Br.join,this.params,this.timeout),this.rejoinTimer=new ck(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new tl(this),this.broadcastEndpointURL=dk(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[rl.PRESENCE]&&this.bindings[rl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(kn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(kn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,x=[];for(let w=0;w<y;w++){const b=v[w],{filter:{event:j,schema:_,table:N,filter:S}}=b,P=m&&m[w];if(P&&P.event===j&&P.schema===_&&P.table===N&&P.filter===S)x.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=tt.errored,t==null||t(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(kn.SUBSCRIBED);return}}).receive("error",m=>{this.state=tt.errored,t==null||t(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tt.joined&&t===rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new xm(this,Br.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new xm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nD){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Br;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,v,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var g,v,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(w=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:y,commit_timestamp:x,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ev.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Br.close,{},t)}_onError(t){this._on(Br.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=lw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=lw(t.columns,t.old_record)),r}}const ym=()=>{},qc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dD=[1e3,2e3,5e3,1e4],fD=1e4,hD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mD{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r0,this.transport=null,this.heartbeatIntervalMs=qc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ym,this.ref=0,this.reconnectTimer=null,this.logger=ym,this.conn=null,this.sendBuffer=[],this.serializer=new aD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>to(async()=>{const{default:l}=await Promise.resolve().then(()=>ro);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${n0.websocket}`,this.httpEndpoint=dk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tD}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case el.connecting:return ri.Connecting;case el.open:return ri.Open;case el.closing:return ri.Closing;default:return ri.Closed}}isConnected(){return this.connectionState()===ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Ev(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rD,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:o}=r,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Br.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:eD};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Br.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ck(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:r0,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qc.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ym,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>dD[f-1]||fD,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Pv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pD extends Pv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i0 extends Pv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var gD=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const fk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vD=()=>gD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>ro),void 0)).Response:Response}),s0=e=>{if(Array.isArray(e))return e.map(r=>s0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=s0(n)}),t},xD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Di=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const bm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yD=(e,t,r)=>Di(void 0,void 0,void 0,function*(){const n=yield vD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,o=(a==null?void 0:a.statusCode)||s+"";t(new pD(bm(a),s,o))}).catch(a=>{t(new i0(bm(a),a))}):t(new i0(bm(e),e))}),bD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(xD(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Jl(e,t,r,n,a,s){return Di(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,bD(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>yD(c,l,n))})})}function nd(e,t,r,n){return Di(this,void 0,void 0,function*(){return Jl(e,"GET",t,r,n)})}function on(e,t,r,n,a){return Di(this,void 0,void 0,function*(){return Jl(e,"POST",t,n,a,r)})}function o0(e,t,r,n,a){return Di(this,void 0,void 0,function*(){return Jl(e,"PUT",t,n,a,r)})}function wD(e,t,r,n){return Di(this,void 0,void 0,function*(){return Jl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hk(e,t,r,n,a){return Di(this,void 0,void 0,function*(){return Jl(e,"DELETE",t,n,a,r)})}var Mt=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ND{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=fk(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Mt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},dw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?o0:on)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Mt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:dw.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield o0(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Mt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield on(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new Pv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Mt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield on(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Mt(this,void 0,void 0,function*(){try{const a=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}download(t,r){return Mt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield nd(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rt(l))return{data:null,error:l};throw l}})}info(t){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:s0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}exists(t){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n)&&n instanceof i0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Mt(this,void 0,void 0,function*(){try{return{data:yield hk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Mt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jD),r),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Mt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield on(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _D="2.12.1",SD={"X-Client-Info":`storage-js/${_D}`};var Fi=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class kD{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},SD),r),this.fetch=fk(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fi(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rt(t))return{data:null,error:t};throw t}})}getBucket(t){return Fi(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Fi(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Fi(this,void 0,void 0,function*(){try{return{data:yield o0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fi(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fi(this,void 0,void 0,function*(){try{return{data:yield hk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}}class ED extends kD{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new ND(this.url,this.headers,t,this.fetch)}}const PD="2.57.4";let Fo="";typeof Deno<"u"?Fo="deno":typeof document<"u"?Fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fo="react-native":Fo="node";const OD={"X-Client-Info":`supabase-js-${Fo}/${PD}`},AD={headers:OD},CD={schema:"public"},TD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ID={};var DD=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const MD=e=>{let t;return e?t=e:typeof fetch>"u"?t=JS:t=fetch,(...r)=>t(...r)},$D=()=>typeof Headers>"u"?ZS:Headers,LD=(e,t,r)=>{const n=MD(r),a=$D();return(s,o)=>DD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var RD=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function zD(e){return e.endsWith("/")?e:e+"/"}function FD(e,t){var r,n;const{db:a,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>RD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function BD(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mk="2.71.1",Xi=30*1e3,l0=3,wm=l0*Xi,UD="http://localhost:9999",WD="supabase.auth.token",qD={"X-Client-Info":`gotrue-js/${mk}`},c0="X-Supabase-Api-Version",pk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KD=10*60*1e3;class Ov extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VD extends Ov{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GD(e){return ne(e)&&e.name==="AuthApiError"}class gk extends Ov{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fa extends Ov{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ia extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YD(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Hc extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kc extends Fa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vc extends Fa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XD(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class fw extends Fa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class u0 extends Fa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function jm(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class hw extends Fa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class d0 extends Fa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mw=` 	
\r=`.split(""),QD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mw.length;t+=1)e[mw[t].charCodeAt(0)]=-2;for(let t=0;t<ad.length;t+=1)e[ad[t].charCodeAt(0)]=t;return e})();function pw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ad[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ad[n]),t.queuedBits-=6}}function vk(e,t,r){const n=QD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=o=>{e5(o,n,r)};for(let o=0;o<e.length;o+=1)vk(e.charCodeAt(o),a,s);return t.join("")}function JD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}JD(n,t)}}function e5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function t5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vk(e.charCodeAt(a),r,n);return new Uint8Array(t)}function r5(e){const t=[];return ZD(e,r=>t.push(r)),new Uint8Array(t)}function n5(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>pw(a,r,n)),pw(null,r,n),t.join("")}function a5(e){return Math.round(Date.now()/1e3)+e}function i5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rr=()=>typeof window<"u"&&typeof document<"u",Va={tested:!1,writable:!1},xk=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Va.tested)return Va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Va.tested=!0,Va.writable=!0}catch{Va.tested=!0,Va.writable=!1}return Va.writable};function s5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const yk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>to(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},o5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ga=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},aa=async(e,t)=>{await e.removeItem(t)};class Cf{constructor(){this.promise=new Cf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Cf.promiseConstructor=Promise;function Nm(e){const t=e.split(".");if(t.length!==3)throw new d0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!HD.test(t[n]))throw new d0("JWT not in base64url format");return{header:JSON.parse(gw(t[0])),payload:JSON.parse(gw(t[1])),signature:t5(t[2]),raw:{header:t[0],payload:t[1]}}}async function l5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function c5(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){a(o);return}}})()})}function u5(e){return("0"+e.toString(16)).substr(-2)}function d5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,u5).join("")}async function f5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function h5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await f5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bi(e,t,r=!1){const n=d5();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Qi(e,`${t}-code-verifier`,a);const s=await h5(n);return[s,n===s?"plain":"s256"]}const m5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p5(e){const t=e.headers.get(c0);if(!t||!t.match(m5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function g5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function v5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ui(e){if(!x5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _m(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vw(e){return JSON.parse(JSON.stringify(e))}var y5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b5=[502,503,504];async function xw(e){var t;if(!o5(e))throw new u0(Ja(e),0);if(b5.includes(e.status))throw new u0(Ja(e),e.status);let r;try{r=await e.json()}catch(s){throw new gk(Ja(s),s)}let n;const a=p5(e);if(a&&a.getTime()>=pk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hw(Ja(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ia}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new hw(Ja(r),e.status,r.weak_password.reasons);throw new VD(Ja(r),e.status||500,n)}const w5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ie(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[c0]||(s[c0]=pk["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await j5(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function j5(e,t,r,n,a,s){const o=w5(t,n,a,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new u0(Ja(c),0)}if(l.ok||await xw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xw(c)}}function _n(e){var t;let r=null;k5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=a5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yw(e){const t=_n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N5(e){return{data:e,error:null}}function _5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=y5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function S5(e){return e}function k5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sm=["global","local","others"];var E5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class P5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=yk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Sm[0]){if(Sm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sm.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fa})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=E5(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fa})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:S5});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ui(t);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fa})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ui(t);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fa})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ui(t);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fa})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ui(t.userId);try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ui(t.userId),Ui(t.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function bw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function O5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wi={debug:!!(globalThis&&xk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A5 extends bk{}async function C5(e,t,r){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}O5();const T5={url:UD,storageKey:WD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ww(e,t,r){return await r()}const qi={};class kl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&Rr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},T5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new P5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yk(a.fetch),this.lock=a.lock||ww,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Rr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=C5:this.lock=ww,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:xk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bw(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=qi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=s5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),XD(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new gk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:_n}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Bi(this.storage,this.storageKey)),s=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:_n})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_n})}else throw new Kc("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else throw new Kc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,s,o,l,c,u,d,f,h,m;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:w,options:b}=t;let j;if(Rr())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),w?{statement:w}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:y,error:x}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:n5(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_n});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Hc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(ne(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:o}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_n});if(await aa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Hc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:o})}catch(s){if(ne(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:o}=t,l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_n}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bi(this.storage,this.storageKey));const{error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Kc("You must provide either an email or phone number.")}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:_n});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Bi(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:N5})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ia;const{error:a}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:o}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:o,error:l}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kc("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ga(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_m()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fa}):await this._useSession(async r=>{var n,a,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ia}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:fa})})}catch(r){if(ne(r))return YD(r)&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new ia;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Bi(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ia;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:o}=Nm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ia;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rr())throw new Vc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new Vc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:y}=await this._getUser(s);if(y)throw y;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(GD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=i5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Bi(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)throw o;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await c5(async a=>(a>0&&await l5(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_n})),(a,s)=>{const o=200*Math.pow(2,a);return s&&jm(s)&&Date.now()+o-n<Xi})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ga(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Qi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_m()}else if(a&&!a.user&&!a.user){const o=await Ga(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await aa(this.storage,this.storageKey+"-user"),await Qi(this.storage,this.storageKey,a)):a.user=_m()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${wm}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),jm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cf;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ia;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),ne(s)){const o={session:null,error:s};return jm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=vw(a);await Qi(this.storage,this.storageKey,s)}else{const a=vw(r);await Qi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await aa(this.storage,this.storageKey),await aa(this.storage,this.storageKey+"-code-verifier"),await aa(this.storage,this.storageKey+"-user"),this.userStorage&&await aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xi}ms, refresh threshold is ${l0} ticks`),a<=l0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Bi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+KD>a)return n;const{data:s,error:o}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:o,raw:{header:l,payload:c}}=Nm(n);r!=null&&r.allowExpired||g5(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:o},error:null}}const d=v5(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,r5(`${l}.${c}`)))throw new d0("Invalid JWT signature");return{data:{claims:s,header:a,signature:o},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}kl.nextInstanceID=0;const I5=kl;class D5 extends I5{constructor(t){super(t)}}var M5=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class $5{constructor(t,r,n){var a,s,o;this.supabaseUrl=t,this.supabaseKey=r;const l=BD(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:CD,realtime:ID,auth:Object.assign(Object.assign({},TD),{storageKey:c}),global:AD},d=FD(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=LD(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new QI(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ED(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new OI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return M5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D5({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L5=(e,t,r)=>new $5(e,t,r);function R5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z5="https://mvxmavfhslavexkwtiee.supabase.co",F5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eG1hdmZoc2xhdmV4a3d0aWVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5Mjg2MjcsImV4cCI6MjA4NzUwNDYyN30.LbQuWOmnVVYfN6OedtxRajiGH_DxgdGKOPXjTNBH-LQ",U=L5(z5,F5),B5=Object.freeze(Object.defineProperty({__proto__:null,supabase:U},Symbol.toStringTag,{value:"Module"})),wk=p.createContext(void 0);function U5({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[s,o]=p.useState(null),[l,c]=p.useState(!0);p.useEffect(()=>{U.auth.getSession().then(({data:{session:g}})=>{o(g),r((g==null?void 0:g.user)??null),g!=null&&g.user?u(g.user.id):c(!1)});const{data:{subscription:m}}=U.auth.onAuthStateChange((g,v)=>{(async()=>(o(v),r((v==null?void 0:v.user)??null),v!=null&&v.user?await u(v.user.id):(a(null),c(!1))))()});return()=>m.unsubscribe()},[]);const u=async m=>{try{const{data:g,error:v}=await U.from("user_profiles").select("*").eq("id",m).maybeSingle();if(v)throw v;a(g)}catch(g){console.error("Error loading profile:",g)}finally{c(!1)}},h={user:t,profile:n,session:s,loading:l,signIn:async(m,g)=>{try{const{error:v}=await U.auth.signInWithPassword({email:m,password:g});return{error:v}}catch(v){return{error:v}}},signOut:async()=>{await U.auth.signOut(),a(null)}};return i.jsx(wk.Provider,{value:h,children:e})}function Av(){const e=p.useContext(wk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const jk=p.createContext(void 0);function W5({children:e}){const[t,r]=p.useState(null);p.useEffect(()=>{const o=localStorage.getItem("selectedDam");if(o)try{const l=JSON.parse(o);l.id&&l.id.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)?r(l):(console.warn("Invalid dam ID format, clearing selection"),localStorage.removeItem("selectedDam"))}catch(l){console.error("Error parsing stored dam:",l),localStorage.removeItem("selectedDam")}},[]);const s={selectedDam:t,selectDam:o=>{r(o),localStorage.setItem("selectedDam",JSON.stringify(o))},clearSelection:()=>{r(null),localStorage.removeItem("selectedDam")}};return i.jsx(jk.Provider,{value:s,children:e})}function Ba(){const e=p.useContext(jk);if(e===void 0)throw new Error("useDamSelection must be used within a DamSelectionProvider");return e}function q5({children:e}){const{user:t,loading:r}=Av();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-slate-600",children:"Cargando..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(VS,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...H5,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${K5(e)}`,l].join(" "),...u},[...t.map(([f,h])=>p.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=K("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=K("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=K("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=K("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=K("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=K("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=K("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=K("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=K("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=K("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=K("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=K("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=K("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=K("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=K("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=K("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=K("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=K("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=K("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=K("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=K("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=K("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=K("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=K("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=K("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=K("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=K("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=K("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Ck({className:e="",size:t=40,showText:r=!0,textColor:n="auto"}){return i.jsxs("div",{className:`flex flex-col items-center ${e}`,children:[i.jsxs("svg",{width:t,height:t,viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"SIPRESAS Logo",children:[i.jsxs("defs",{children:[i.jsxs("radialGradient",{id:"outerRing",cx:"50%",cy:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"#7dc8f0",stopOpacity:"0.3"}),i.jsx("stop",{offset:"100%",stopColor:"#4db8e8",stopOpacity:"0.6"})]}),i.jsxs("radialGradient",{id:"middleRing",cx:"50%",cy:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"#3ba9dd",stopOpacity:"0.8"}),i.jsx("stop",{offset:"100%",stopColor:"#2b8fc9",stopOpacity:"0.95"})]}),i.jsxs("radialGradient",{id:"innerRing",cx:"50%",cy:"50%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1d6fa8"}),i.jsx("stop",{offset:"100%",stopColor:"#0f5280"})]}),i.jsxs("radialGradient",{id:"centerCircle",cx:"50%",cy:"40%",children:[i.jsx("stop",{offset:"0%",stopColor:"#2b8fc9"}),i.jsx("stop",{offset:"60%",stopColor:"#1d6fa8"}),i.jsx("stop",{offset:"100%",stopColor:"#0d4470"})]})]}),i.jsx("circle",{cx:"60",cy:"60",r:"56",fill:"url(#outerRing)"}),i.jsx("circle",{cx:"60",cy:"60",r:"48",fill:"white",fillOpacity:"0.95"}),i.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"url(#middleRing)"}),i.jsx("circle",{cx:"60",cy:"60",r:"35",fill:"white",fillOpacity:"0.98"}),i.jsx("circle",{cx:"60",cy:"60",r:"32",fill:"url(#innerRing)"}),i.jsx("circle",{cx:"60",cy:"60",r:"20",fill:"white",fillOpacity:"0.15"}),i.jsx("circle",{cx:"60",cy:"60",r:"18",fill:"url(#centerCircle)"}),i.jsx("ellipse",{cx:"60",cy:"54",rx:"8",ry:"6",fill:"white",opacity:"0.35"})]}),r&&i.jsx("span",{className:`mt-1.5 text-xs font-bold tracking-wider ${n==="white"?"text-white":"text-gray-600"}`,style:{letterSpacing:"0.2em",fontFamily:"system-ui, -apple-system, sans-serif"},children:"SIPRESAS"})]})}function Tk({className:e="",height:t=50}){return i.jsxs("svg",{viewBox:"0 0 575 85",height:t,className:e,xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Gobierno de Espaa - Ministerio para la Transicin Ecolgica y el Reto Demogrfico",children:[i.jsx("rect",{width:"575",height:"85",fill:"#F9E547"}),i.jsxs("g",{children:[i.jsx("rect",{x:"0",y:"0",width:"28",height:"85",fill:"#003399"}),i.jsx("circle",{cx:"14",cy:"12",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"22",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"32",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"42",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"52",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"62",r:"1.5",fill:"#FFCC00"}),i.jsx("circle",{cx:"14",cy:"72",r:"1.5",fill:"#FFCC00"}),i.jsx("rect",{x:"28",y:"0",width:"18",height:"21.25",fill:"#C8102E"}),i.jsx("rect",{x:"28",y:"21.25",width:"18",height:"42.5",fill:"#FFD700"}),i.jsx("rect",{x:"28",y:"63.75",width:"18",height:"21.25",fill:"#C8102E"})]}),i.jsxs("g",{transform:"translate(80, 15)",children:[i.jsx("path",{d:"M 0,0 L 3,5 L 6,3 L 9,5 L 12,0",fill:"#FFD700",stroke:"#C8102E",strokeWidth:"0.5"}),i.jsx("rect",{x:"-2",y:"5",width:"16",height:"20",rx:"2",fill:"#C8102E",stroke:"#FFD700",strokeWidth:"1"}),i.jsx("rect",{x:"2",y:"10",width:"3",height:"3",fill:"#FFD700"}),i.jsx("rect",{x:"9",y:"10",width:"3",height:"3",fill:"#FFD700"}),i.jsx("circle",{cx:"6",cy:"18",r:"2",fill:"#FFD700"}),i.jsx("rect",{x:"-4",y:"12",width:"2",height:"10",fill:"#C8102E"}),i.jsx("rect",{x:"14",y:"12",width:"2",height:"10",fill:"#C8102E"})]}),i.jsx("line",{x1:"268",y1:"10",x2:"268",y2:"75",stroke:"#8B7355",strokeWidth:"1.5"}),i.jsx("text",{x:"170",y:"32",fontFamily:"Arial, sans-serif",fontSize:"16",fontWeight:"bold",fill:"#000000",children:"GOBIERNO"}),i.jsx("text",{x:"170",y:"52",fontFamily:"Arial, sans-serif",fontSize:"16",fontWeight:"bold",fill:"#000000",children:"DE ESPAA"}),i.jsx("text",{x:"285",y:"24",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"MINISTERIO"}),i.jsx("text",{x:"285",y:"40",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"PARA LA TRANSICIN ECOLGICA"}),i.jsx("text",{x:"285",y:"56",fontFamily:"Arial, sans-serif",fontSize:"13",fontWeight:"600",fill:"#000000",children:"Y EL RETO DEMOGRFICO"})]})}const cM=({children:e})=>{const[t,r]=p.useState(!1),n=xn(),a=za(),{profile:s,signOut:o}=Av(),{selectedDam:l,clearSelection:c}=Ba(),u=[{path:"/map",icon:p0,label:"Seleccionar Presa"},{path:"/dashboard",icon:h0,label:"Ficha Principal",requiresDam:!0},{path:"/inventory",icon:al,label:"Inventario de Presas",section:"Gestin",requiresDam:!0},{path:"/maintenance",icon:Df,label:"Mantenimiento",section:"Gestin",requiresDam:!0},{path:"/technical-archive",icon:Iv,label:"Archivo Tcnico",section:"Documentacin",requiresDam:!0},{path:"/auscultation",icon:Qe,label:"Auscultacin",section:"Monitorizacin",requiresDam:!0},{path:"/exploitation",icon:mn,label:"Explotacin",section:"Monitorizacin",requiresDam:!0},{path:"/emergency",icon:Dv,label:"Gestin de Emergencias",section:"Seguridad",requiresDam:!0},{path:"/incidents",icon:Te,label:"Incidencias",section:"Seguridad",requiresDam:!0},{path:"/bim-viewer",icon:wr,label:"Visualizador BIM",section:"Modelos",requiresDam:!0},{path:"/bim",icon:wr,label:"Gestin BIM",section:"Modelos",requiresDam:!0},{path:"/control-center",icon:nM,label:"Centro de Control Integral",section:"Control",requiresDam:!0},{path:"/analytics",icon:Bo,label:"Anlisis y Reportes"},{path:"/settings",icon:kk,label:"Configuracin"}],d=[{label:"CHG",url:"https://www.chguadalquivir.es/"},{label:"SAIH Guadalquivir",url:"https://www.chguadalquivir.es/saih/"},{label:"MITECO",url:"https://www.miteco.gob.es/es/"},{label:"IDE-CHG",url:"https://idechg.chguadalquivir.es/"}],f=async()=>{await o(),a("/login")},h=m=>({admin:"Administrador",technician:"Tcnico",operator:"Operador",consultation:"Consulta"})[m]||m;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("header",{className:"bg-white border-b-2 border-[#0066A1] shadow-sm",children:[i.jsxs("div",{className:"bg-white px-4 py-2 flex items-center justify-between border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"w-12 h-12 bg-[#0066A1] rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-sm",children:"CHG"})})}),i.jsx("div",{className:"h-10 w-px bg-gray-300"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ck,{size:40,showText:!1}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-[#0066A1]",children:"SIPRESAS"}),i.jsx("p",{className:"text-xs text-gray-600",children:"Sistema Integral de Presas y Seguridad"})]})]}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-10 w-px bg-gray-300"}),i.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-2 rounded",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Presa Seleccionada"}),i.jsxs("p",{className:"text-sm font-semibold text-[#0066A1]",children:[l.code," - ",l.name]})]}),i.jsx("button",{onClick:()=>{c(),a("/map")},className:"ml-2 p-1 hover:bg-blue-100 rounded transition-colors",title:"Cambiar presa",children:i.jsx(sd,{size:16,className:"text-gray-600"})})]})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(Tk,{height:50})})]}),i.jsxs("div",{className:"bg-[#0066A1] px-4 py-2 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{onClick:()=>r(!t),className:"flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/20 text-white rounded transition-colors text-sm",children:[i.jsx(rM,{size:18}),i.jsx("span",{children:"Men"})]}),i.jsx("div",{className:"flex items-center gap-1",children:d.slice(0,2).map((m,g)=>i.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 text-white hover:bg-white/10 rounded transition-colors text-sm flex items-center gap-1",children:[m.label,i.jsx(id,{size:12})]},g))})]}),s&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:s.full_name}),i.jsx("p",{className:"text-xs text-blue-100",children:h(s.role)})]}),i.jsx("button",{onClick:f,className:"p-2 hover:bg-white/10 text-white rounded transition-colors flex items-center gap-1 text-sm",title:"Cerrar sesin",children:i.jsx(tM,{size:16})})]})]}),i.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-1.5 flex items-center justify-center gap-2",children:[i.jsx(If,{size:16,className:"text-yellow-700"}),i.jsxs("p",{className:"text-xs text-yellow-800 font-medium",children:["Los datos del portal web se obtienen mediante estaciones automticas y ",i.jsx("strong",{children:"NO estn contrastados"})]})]}),l&&i.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto",children:[i.jsxs(Lt,{to:"/dashboard",className:`flex flex-col items-center justify-center gap-2 px-6 py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap min-w-[120px] shadow-sm border-2 ${n.pathname==="/dashboard"?"bg-[#0066A1] text-white border-[#0066A1] shadow-md transform scale-105":"bg-gradient-to-br from-blue-50 to-blue-100 text-[#0066A1] border-blue-300 hover:bg-blue-100 hover:shadow-md hover:border-[#0066A1]"}`,children:[i.jsx(h0,{size:22,strokeWidth:2}),i.jsx("span",{className:"text-xs font-semibold",children:"Ficha Principal"})]}),i.jsx("div",{className:"h-16 w-px bg-gray-300 mx-2"}),u.filter(m=>m.requiresDam&&m.path!=="/dashboard").map(m=>{const g=m.icon,v=n.pathname===m.path;return i.jsxs(Lt,{to:m.path,className:`flex flex-col items-center justify-center gap-2 px-6 py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap min-w-[120px] shadow-sm ${v?"bg-[#0066A1] text-white shadow-md transform scale-105":"bg-blue-50 text-[#0066A1] hover:bg-blue-100 hover:shadow-md"}`,children:[i.jsx(g,{size:22,strokeWidth:2}),i.jsx("span",{className:"text-xs font-semibold",children:m.label})]},m.path)})]})})]}),i.jsxs("div",{className:"flex",children:[i.jsx("main",{className:"flex-1 p-6 min-h-screen",children:e}),i.jsx("aside",{className:`fixed left-0 top-0 bottom-0 bg-white border-r border-gray-200 shadow-lg transition-all duration-300 z-40 ${t?"w-72":"w-0"} overflow-hidden`,style:{top:l?"230px":"146px"},children:i.jsxs("div",{className:"h-full overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-[#0066A1] text-white px-4 py-3 flex items-center justify-between z-10",children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Mdulos SIPRESAS"}),i.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx(sd,{size:18})})]}),i.jsxs("nav",{className:"p-3",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Principal"}),u.filter(m=>!m.section).slice(0,2).map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Gestin"}),u.filter(m=>m.section==="Gestin").map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Monitorizacin"}),u.filter(m=>m.section==="Monitorizacin").map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Seguridad"}),u.filter(m=>m.section==="Seguridad").map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Otros"}),u.filter(m=>!m.section&&m.section!=="Modelos").slice(2).map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Modelos"}),u.filter(m=>m.section==="Modelos").map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Control"}),u.filter(m=>m.section==="Control").map(m=>{const g=m.icon,v=n.pathname===m.path;return m.requiresDam&&!l?i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-400 cursor-not-allowed opacity-50",title:"Seleccione una presa primero",children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label})]},m.path):i.jsxs(Lt,{to:m.path,onClick:()=>r(!1),className:`flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 transition-all text-sm ${v?"bg-[#0066A1] text-white shadow-sm":"text-gray-700 hover:bg-blue-50 hover:text-[#0066A1]"}`,children:[i.jsx(g,{size:16}),i.jsx("span",{children:m.label}),i.jsx(ln,{size:14,className:"ml-auto"})]},m.path)})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase mb-2 px-2",children:"Enlaces Externos"}),d.map((m,g)=>i.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-3 py-2.5 rounded-md mb-1 text-sm text-gray-700 hover:bg-blue-50 hover:text-[#0066A1] transition-all",children:[i.jsx(id,{size:16}),i.jsx("span",{children:m.label})]},g))]})]}),i.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-4 text-center",children:i.jsxs("p",{className:"text-xs text-gray-600",children:[i.jsx("strong",{className:"text-[#0066A1]",children:"SIPRESAS v2.0"}),i.jsx("br",{}),"CHG - Confederacin Hidrogrfica del Guadalquivir",i.jsx("br",{})," 2026"]})})]})}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/20 z-30",style:{top:l?"230px":"146px"},onClick:()=>r(!1)})]})]})};function uM(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,s]=p.useState(""),[o,l]=p.useState(!1),{signIn:c}=Av(),u=za(),d=async f=>{f.preventDefault(),s(""),l(!0);try{const{error:h}=await c(e,r);h?s("Credenciales incorrectas. Por favor, intenta de nuevo."):u("/")}catch{s("Error al iniciar sesin. Por favor, intenta de nuevo.")}finally{l(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex flex-col",children:[i.jsx("header",{className:"bg-white border-b-2 border-[#0066A1] shadow-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-[#0066A1] rounded flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold",children:"CHG"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-[#0066A1]",children:"Confederacin Hidrogrfica del Guadalquivir"}),i.jsx("p",{className:"text-xs text-gray-600",children:"Sistema Automtico de Informacin Hidrolgica"})]})]}),i.jsx("div",{children:i.jsx(Tk,{height:55})})]})}),i.jsx("main",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"max-w-5xl w-full grid md:grid-cols-2 gap-8 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ck,{size:60,showText:!1}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-[#0066A1]",children:"SIPRESAS"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Sistema Integral de Presas y Seguridad"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#0066A1] mb-3",children:"Mdulos del Sistema"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),i.jsxs("span",{children:[i.jsx("strong",{children:"Inventario y Gestin:"})," Control completo de presas y embalses"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),i.jsxs("span",{children:[i.jsx("strong",{children:"Auscultacin:"})," Monitorizacin en tiempo real de sensores"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),i.jsxs("span",{children:[i.jsx("strong",{children:"Emergencias:"})," Gestin de incidentes y planes de emergencia"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),i.jsxs("span",{children:[i.jsx("strong",{children:"Explotacin:"})," Control de operaciones y gestin hdrica"]})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-[#0066A1] mt-1",children:""}),i.jsxs("span",{children:[i.jsx("strong",{children:"BIM:"})," Modelos 3D y documentacin tcnica avanzada"]})]})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-xs text-blue-900",children:[i.jsx("strong",{children:"Nota:"})," Los datos del sistema se obtienen mediante estaciones automticas y deben ser contrastados antes de su uso oficial."]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border-2 border-[#0066A1] shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-[#0066A1] px-6 py-4 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-white/10 rounded-full mb-2",children:i.jsx(m0,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"Inicio de Sesin"}),i.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Acceso al Sistema SIPRESAS"})]}),i.jsxs("div",{className:"p-6",children:[a&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[i.jsx(Sr,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-800",children:a})]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario *"}),i.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0066A1] focus:border-transparent",placeholder:"usuario@ejemplo.es",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea *"}),i.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0066A1] focus:border-transparent",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full bg-[#0066A1] hover:bg-[#004d7a] text-white font-medium py-3 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Accediendo...":"Iniciar Sesin"})]}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Credenciales de Demostracin:"}),i.jsxs("div",{className:"space-y-1.5 text-xs text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium w-20",children:"Admin:"}),i.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"admin@sipresas.es"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium w-20",children:"Tcnico:"}),i.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"tecnico@sipresas.es"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium w-20",children:"Operador:"}),i.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"operador@sipresas.es"})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-gray-300 mt-2",children:[i.jsx("span",{className:"font-medium w-20",children:"Contrasea:"}),i.jsx("code",{className:"bg-white px-2 py-1 rounded border border-gray-200 text-[10px]",children:"demo123"})]})]})]})]})]})]})}),i.jsx("footer",{className:"bg-white border-t border-gray-200 py-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between text-xs text-gray-600",children:[i.jsxs("div",{children:[i.jsx("p",{children:" 2026 CHG - Confederacin Hidrogrfica del Guadalquivir"}),i.jsx("p",{className:"text-[10px] mt-0.5",children:"SIPRESAS v2.0 - Sistema Integral de Presas y Seguridad"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{children:"Ministerio para la Transicin Ecolgica"}),i.jsx("p",{className:"text-[10px] mt-0.5",children:"y el Reto Demogrfico"})]})]})})]})}function W({children:e,className:t="",onClick:r}){const n=r?"cursor-pointer hover:shadow-md transition-all":"";return i.jsx("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${n} ${t}`,onClick:r,children:e})}function y0({children:e,className:t=""}){return i.jsx("div",{className:`px-6 py-4 border-b border-gray-200 bg-sipresas-lightest/30 ${t}`,children:e})}function sl({children:e,className:t=""}){return i.jsx("div",{className:`px-6 py-4 ${t}`,children:e})}function b0({children:e,className:t=""}){return i.jsx("h3",{className:`text-lg font-semibold text-sipresas-dark ${t}`,children:e})}const dM={critical:{label:"Crtica",className:"bg-red-100 text-red-800 border-red-300"},high:{label:"Alta",className:"bg-orange-100 text-orange-800 border-orange-300"},medium:{label:"Media",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},low:{label:"Baja",className:"bg-green-100 text-green-800 border-green-300"}},fM={detection:{label:"Deteccin",className:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter"},evaluation:{label:"Evaluacin",className:"bg-cyan-100 text-cyan-800 border-cyan-300"},activation:{label:"Activacin",className:"bg-orange-100 text-orange-800 border-orange-300"},management:{label:"Gestin",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},resolution:{label:"Resolucin",className:"bg-lime-100 text-lime-800 border-lime-300"},closed:{label:"Cerrada",className:"bg-gray-100 text-gray-800 border-gray-300"}},hM={operational:{label:"Operativa",className:"bg-green-100 text-green-800 border-green-300"},maintenance:{label:"Mantenimiento",className:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter"},alert:{label:"Alerta",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},emergency:{label:"Emergencia",className:"bg-red-100 text-red-800 border-red-300"},warning:{label:"Advertencia",className:"bg-yellow-100 text-yellow-800 border-yellow-300"}},mM={normal:{label:"Normal",className:"bg-green-100 text-green-800 border-green-300"},caution:{label:"Precaucin",className:"bg-yellow-100 text-yellow-800 border-yellow-300"},alert:{label:"Alerta",className:"bg-orange-100 text-orange-800 border-orange-300"},critical:{label:"Crtico",className:"bg-red-100 text-red-800 border-red-300"}},pM={active:{label:"Activo",className:"bg-green-100 text-green-800 border-green-300"},inactive:{label:"Inactivo",className:"bg-slate-100 text-slate-800 border-slate-300"},maintenance:{label:"Mantenimiento",className:"bg-blue-100 text-blue-800 border-blue-300"},fault:{label:"Fallo",className:"bg-red-100 text-red-800 border-red-300"}};function ir({status:e,type:t}){let r,n,a;switch(t){case"severity":r=dM[e];break;case"emergency":r=fM[e];break;case"operational":r=hM[e];break;case"alert":r=mM[e];break;case"sensor":r=pM[e];break}return n=(r==null?void 0:r.label)||e,a=(r==null?void 0:r.className)||"bg-slate-100 text-slate-800 border-slate-300",i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a}`,children:n})}async function Mf(){const{data:e,error:t}=await U.from("dams").select("*").order("name");if(t)throw t;return e||[]}async function gM(e){const{data:t,error:r}=await U.from("dams").select("*").eq("id",e).maybeSingle();if(r)throw r;return t}async function vM(){const{data:e,error:t}=await U.from("emergencies").select(`
      *,
      dam:dams(*),
      responsible:user_profiles(*)
    `).order("detected_at",{ascending:!1});if(t)throw t;return e||[]}async function xM(){const{data:e,error:t}=await U.from("emergencies").select(`
      *,
      dam:dams(*),
      responsible:user_profiles(*)
    `).not("status","eq","closed").order("detected_at",{ascending:!1});if(t)throw t;return e||[]}async function yM(e){const{data:t,error:r}=await U.from("emergencies").select(`
      *,
      dam:dams(*),
      responsible:user_profiles(*)
    `).eq("dam_id",e).order("detected_at",{ascending:!1});if(r)throw r;return t||[]}async function bM(){const{data:e,error:t}=await U.from("sensor_readings").select(`
      *,
      sensor:sensors(
        *,
        dam:dams(*)
      )
    `).in("alert_level",["alert","critical"]).order("timestamp",{ascending:!1}).limit(20);if(t)throw t;return e||[]}async function wM(){const[e,t,r,n]=await Promise.all([U.from("dams").select("operational_status, current_level"),U.from("emergencies").select("severity, status"),U.from("sensors").select("status"),U.from("sensor_readings").select("alert_level").in("alert_level",["alert","critical"]).gte("timestamp",new Date(Date.now()-864e5).toISOString())]),a=e.data||[],s=t.data||[],o=r.data||[],l=n.data||[],c=a.filter(g=>g.operational_status==="operational").length,u=a.filter(g=>g.operational_status==="alert").length,d=a.filter(g=>g.operational_status==="emergency").length,f=s.filter(g=>g.status!=="closed").length,h=s.filter(g=>g.severity==="critical"&&g.status!=="closed").length,m=a.length>0?a.reduce((g,v)=>g+v.current_level,0)/a.length:0;return{totalDams:a.length,operationalDams:c,damsInAlert:u,damsInEmergency:d,activeEmergencies:f,criticalEmergencies:h,totalSensors:o.length,sensorsInAlert:l.length,avgReservoirLevel:Math.round(m*10)/10}}async function jM(e,t){let r=U.from("maintenance_work_orders").select(`
      *,
      dam:dams(*),
      activity:maintenance_activities(*),
      assigned_user:user_profiles!maintenance_work_orders_assigned_to_fkey(*)
    `).eq("dam_id",e);t&&(r=r.eq("scheduled_year",t));const{data:n,error:a}=await r.order("scheduled_date",{ascending:!0});if(a)throw a;return n||[]}async function NM(e){const{data:t,error:r}=await U.from("document_folders").select("*").eq("dam_id",e).order("path");if(r)throw r;return t||[]}async function _M(e,t){let r=U.from("technical_documents").select(`
      *,
      dam:dams(*),
      folder:document_folders(*),
      uploader:user_profiles!technical_documents_uploaded_by_fkey(*)
    `).eq("dam_id",e);t&&(r=r.eq("folder_id",t));const{data:n,error:a}=await r.order("created_at",{ascending:!1});if(a)throw a;return n||[]}async function SM(){const{data:e,error:t}=await U.from("exploitation_systems").select(`
      *,
      director:user_profiles(*)
    `).order("name");if(t)throw t;return e||[]}async function kM(e){let t=U.from("exploitation_zones").select(`
      *,
      system:exploitation_systems(*)
    `).order("name");const{data:r,error:n}=await t;if(n)throw n;return r||[]}async function EM(e,t,r){let n=U.from("exploitation_daily_data").select(`
      *,
      dam:dams(*),
      registrar:user_profiles!exploitation_daily_data_registered_by_fkey(*),
      verifier:user_profiles!exploitation_daily_data_verified_by_fkey(*)
    `).order("date",{ascending:!1});e&&(n=n.eq("dam_id",e));const{data:a,error:s}=await n;if(s)throw s;return a||[]}async function PM(e){const{data:t,error:r}=await U.from("exploitation_daily_data").insert(e).select().single();if(r)throw r;return t}function OM(){const{selectedDam:e}=Ba(),t=za(),[r,n]=p.useState(new Date),[a,s]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!0);p.useEffect(()=>{e||t("/map")},[e,t]),p.useEffect(()=>{const v=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(v)},[]),p.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const[v,y,x]=await Promise.all([wM(),xM(),bM()]);s(v),l(y.slice(0,3)),u(x.slice(0,5))}catch(v){console.error("Error loading dashboard:",v)}finally{f(!1)}},m=v=>{const y=Math.floor((Date.now()-new Date(v).getTime())/6e4);if(y<60)return`Hace ${y} min`;const x=Math.floor(y/60);return x<24?`Hace ${x} h`:`Hace ${Math.floor(x/24)} d`},g=[{path:"/inventory",icon:al,label:"Inventario",description:"Gestin de activos y elementos",color:"from-blue-500 to-blue-600",bgLight:"bg-blue-50",textColor:"text-blue-700"},{path:"/maintenance",icon:Df,label:"Mantenimiento",description:"Planes y rdenes de trabajo",color:"from-orange-500 to-orange-600",bgLight:"bg-orange-50",textColor:"text-orange-700"},{path:"/technical-archive",icon:Iv,label:"Archivo Tcnico",description:"Documentacin y planos",color:"from-purple-500 to-purple-600",bgLight:"bg-purple-50",textColor:"text-purple-700"},{path:"/auscultation",icon:Qe,label:"Auscultacin",description:"Monitorizacin de sensores",color:"from-green-500 to-green-600",bgLight:"bg-green-50",textColor:"text-green-700"},{path:"/exploitation",icon:mn,label:"Explotacin",description:"Datos hidrulicos y operacin",color:"from-cyan-500 to-cyan-600",bgLight:"bg-cyan-50",textColor:"text-cyan-700"},{path:"/incidents",icon:Te,label:"Emergencias",description:"Gestin de incidencias",color:"from-red-500 to-red-600",bgLight:"bg-red-50",textColor:"text-red-700"},{path:"/bim",icon:wr,label:"BIM",description:"Modelos 3D y visualizacin",color:"from-indigo-500 to-indigo-600",bgLight:"bg-indigo-50",textColor:"text-indigo-700"}];return e?d||!a?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Cargando dashboard..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#0066A1] to-[#004d7a] rounded-lg shadow-lg p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(f0,{size:32}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl font-bold",children:[e.code," - ",e.name]}),i.jsxs("p",{className:"text-blue-100 mt-1",children:[e.province," - ",e.river]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-200 text-sm",children:"Nivel Actual"}),i.jsxs("p",{className:"text-2xl font-bold",children:[e.current_level,"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-200 text-sm",children:"Estado Operacional"}),i.jsx("div",{className:"mt-1",children:i.jsx(ir,{status:e.operational_status})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-200 text-sm",children:"Capacidad"}),i.jsxs("p",{className:"text-2xl font-bold",children:[e.capacity_hm3," hm"]})]})]})]}),i.jsxs("div",{className:"text-right bg-white/10 px-6 py-4 rounded-lg backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[i.jsx(Ua,{size:20}),i.jsx("span",{className:"text-2xl font-bold",children:r.toLocaleTimeString("es-ES")})]}),i.jsx("p",{className:"text-xs text-blue-100",children:r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-1 h-6 bg-[#0066A1] rounded"}),"Mdulos de Gestin"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(v=>{const y=v.icon;return i.jsxs(Lt,{to:v.path,className:"group relative overflow-hidden bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-[#0066A1] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[i.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${v.bgLight} rounded-full -mr-16 -mt-16 opacity-50 group-hover:opacity-100 transition-opacity`}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`inline-flex p-3 rounded-lg bg-gradient-to-br ${v.color} text-white mb-4 shadow-lg`,children:i.jsx(y,{size:28})}),i.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-[#0066A1] transition-colors",children:v.label}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v.description}),i.jsxs("div",{className:"flex items-center text-[#0066A1] font-semibold text-sm group-hover:gap-2 transition-all",children:[i.jsx("span",{children:"Acceder"}),i.jsx(G5,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]})]},v.path)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-lg border-2 border-[#0066A1] p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(f0,{className:"w-8 h-8 text-[#0066A1]"}),i.jsx("span",{className:"text-3xl font-bold text-[#0066A1]",children:a.totalDams})]}),i.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Presas Totales"}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[a.operationalDams," operativas"]})]}),i.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.criticalEmergencies>0?"border-red-500":"border-green-500"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(Te,{className:`w-8 h-8 ${a.criticalEmergencies>0?"text-red-600":"text-green-600"}`}),i.jsx("span",{className:`text-3xl font-bold ${a.criticalEmergencies>0?"text-red-600":"text-green-600"}`,children:a.activeEmergencies})]}),i.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Emergencias Activas"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.criticalEmergencies>0?`${a.criticalEmergencies} crticas`:"Sin emergencias crticas"})]}),i.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.avgReservoirLevel>80?"border-green-500":a.avgReservoirLevel>50?"border-yellow-500":"border-red-500"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(Tv,{className:`w-8 h-8 ${a.avgReservoirLevel>80?"text-green-600":a.avgReservoirLevel>50?"text-yellow-600":"text-red-600"}`}),i.jsxs("span",{className:`text-3xl font-bold ${a.avgReservoirLevel>80?"text-green-600":a.avgReservoirLevel>50?"text-yellow-600":"text-red-600"}`,children:[a.avgReservoirLevel,"%"]})]}),i.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Nivel Medio Embalses"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Capacidad promedio"})]}),i.jsxs("div",{className:`bg-white rounded-lg border-2 p-5 shadow-sm ${a.sensorsInAlert>0?"border-yellow-500":"border-green-500"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx(Qe,{className:`w-8 h-8 ${a.sensorsInAlert>0?"text-yellow-600":"text-green-600"}`}),i.jsx("span",{className:`text-3xl font-bold ${a.sensorsInAlert>0?"text-yellow-600":"text-green-600"}`,children:a.totalSensors})]}),i.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Sensores Activos"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.sensorsInAlert>0?`${a.sensorsInAlert} en alerta`:"Todos operativos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsx(y0,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(b0,{children:"Emergencias Recientes"}),o.length>0&&i.jsx(Lt,{to:"/incidents",className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"Ver todas "})]})}),i.jsx(sl,{className:"p-0",children:i.jsx("div",{className:"divide-y divide-slate-200",children:o.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Ve,{className:"mx-auto text-green-500 mb-3",size:48}),i.jsx("p",{className:"text-slate-600 font-medium",children:"No hay emergencias activas"}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Todos los sistemas operan normalmente"})]}):o.map(v=>{var y,x;return i.jsxs(Lt,{to:`/incidents?id=${v.id}`,className:"block p-4 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-slate-900",children:v.title}),i.jsx("span",{className:"text-xs text-slate-500",children:v.code})]}),i.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[(y=v.dam)==null?void 0:y.name," - ",(x=v.dam)==null?void 0:x.province]})]}),i.jsx("span",{className:"text-xs text-slate-500",children:m(v.detected_at)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ir,{status:v.severity,type:"severity"}),i.jsx(ir,{status:v.status,type:"emergency"})]})]},v.id)})})})]}),i.jsxs(W,{children:[i.jsx(y0,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(b0,{children:"Alertas de Sensores"}),c.length>0&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-50 text-orange-700 rounded-md border border-orange-200",children:[i.jsx(ws,{size:14}),i.jsx("span",{className:"text-xs font-medium",children:c.length})]})]})}),i.jsx(sl,{className:"p-0",children:i.jsx("div",{className:"divide-y divide-slate-200 max-h-80 overflow-y-auto",children:c.length===0?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx(Ve,{className:"mx-auto text-green-500 mb-2",size:36}),i.jsx("p",{className:"text-sm text-slate-600",children:"Sin alertas activas"})]}):c.map(v=>{var y,x,w,b;return i.jsxs(Lt,{to:`/auscultation?sensor=${v.sensor_id}`,className:"block p-3 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900",children:(y=v.sensor)==null?void 0:y.name}),i.jsx("p",{className:"text-xs text-slate-600 mt-1",children:(w=(x=v.sensor)==null?void 0:x.dam)==null?void 0:w.name})]}),i.jsx(ir,{status:v.alert_level,type:"alert"})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("span",{className:"text-slate-500",children:["Valor: ",v.value.toFixed(2)," ",(b=v.sensor)==null?void 0:b.unit]}),i.jsx("span",{className:"text-slate-500",children:m(v.timestamp)})]})]},v.id)})})})]})]})]}):null}const Ot=[],Gc=[],So=[],AM=[],Am={totalOrders:0,completed:0,inProgress:0,pending:0,preventivo:{pendientes:0,completadas:0,canceladas:0},correctivo:{pendientes:0,completadas:0,canceladas:0}},Sw=[],kw=()=>[];function Ik(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ik(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function le(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ik(e))&&(n&&(n+=" "),n+=t);return n}var CM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mv(e){if(typeof e!="string")return!1;var t=CM;return t.includes(e)}var TM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IM=new Set(TM);function Dk(e){return typeof e!="string"?!1:IM.has(e)}function Mk(e){return typeof e=="string"&&e.startsWith("data-")}function er(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Dk(r)||Mk(r))&&(t[r]=e[r]);return t}function Ni(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return er(t)}return typeof e=="object"&&!Array.isArray(e)?er(e):null}function Dt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Dk(r)||Mk(r)||Mv(r))&&(t[r]=e[r]);return t}function DM(e){return e==null?null:p.isValidElement(e)?Dt(e.props):typeof e=="object"&&!Array.isArray(e)?Dt(e):null}var MM=["children","width","height","viewBox","className","style","title","desc"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(null,arguments)}function $M(e,t){if(e==null)return{};var r,n,a=LM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $v=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=$M(e,MM),f=s||{width:n,height:a,x:0,y:0},h=le("recharts-surface",o);return p.createElement("svg",w0({},Dt(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),RM=["children","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(null,arguments)}function zM(e,t){if(e==null)return{};var r,n,a=FM(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Be=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=zM(e,RM),s=le("recharts-layer",n);return p.createElement("g",j0({className:s},Dt(a),{ref:t}),r)}),$k=p.createContext(null),BM=()=>p.useContext($k);function be(e){return function(){return e}}const Lk=Math.cos,od=Math.sin,Zr=Math.sqrt,ld=Math.PI,$f=2*ld,N0=Math.PI,_0=2*N0,Za=1e-6,UM=_0-Za;function Rk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Rk;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Rk:WM(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Za)if(!(Math.abs(f*c-u*d)>Za)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,v=c*c+u*u,y=m*m+g*g,x=Math.sqrt(v),w=Math.sqrt(h),b=s*Math.tan((N0-Math.acos((v+h-y)/(2*x*w)))/2),j=b/w,_=b/x;Math.abs(j-1)>Za&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Za||Math.abs(this._y1-d)>Za)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_0+_0),h>UM?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Za&&this._append`A${n},${n},0,${+(h>=N0)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Lv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qM(t)}function Rv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zk(e){this._context=e}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lf(e){return new zk(e)}function Fk(e){return e[0]}function Bk(e){return e[1]}function Uk(e,t){var r=be(!0),n=null,a=Lf,s=null,o=Lv(l);e=typeof e=="function"?e:e===void 0?Fk:be(e),t=typeof t=="function"?t:t===void 0?Bk:be(t);function l(c){var u,d=(c=Rv(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:be(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:be(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:be(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Yc(e,t,r){var n=null,a=be(!0),s=null,o=Lf,l=null,c=Lv(u);e=typeof e=="function"?e:e===void 0?Fk:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Bk:be(+r);function u(f){var h,m,g,v=(f=Rv(f)).length,y,x=!1,w,b=new Array(v),j=new Array(v);for(s==null&&(l=o(w=c())),h=0;h<=v;++h){if(!(h<v&&a(y=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(y,h,f),j[h]=+t(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):j[h]))}if(w)return l=null,w+""||null}function d(){return Uk().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:be(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:be(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:be(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class Wk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HM(e){return new Wk(e,!0)}function KM(e){return new Wk(e,!1)}const zv={draw(e,t){const r=Zr(t/ld);e.moveTo(r,0),e.arc(0,0,r,0,$f)}},VM={draw(e,t){const r=Zr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qk=Zr(1/3),GM=qk*2,YM={draw(e,t){const r=Zr(t/GM),n=r*qk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},XM={draw(e,t){const r=Zr(t),n=-r/2;e.rect(n,n,r,r)}},QM=.8908130915292852,Hk=od(ld/10)/od(7*ld/10),JM=od($f/10)*Hk,ZM=-Lk($f/10)*Hk,e$={draw(e,t){const r=Zr(t*QM),n=JM*r,a=ZM*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=$f*s/5,l=Lk(o),c=od(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Cm=Zr(3),t$={draw(e,t){const r=-Zr(t/(Cm*3));e.moveTo(0,r*2),e.lineTo(-Cm*r,-r),e.lineTo(Cm*r,-r),e.closePath()}},pr=-.5,gr=Zr(3)/2,S0=1/Zr(12),r$=(S0/2+1)*3,n$={draw(e,t){const r=Zr(t/r$),n=r/2,a=r*S0,s=n,o=r*S0+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(pr*n-gr*a,gr*n+pr*a),e.lineTo(pr*s-gr*o,gr*s+pr*o),e.lineTo(pr*l-gr*c,gr*l+pr*c),e.lineTo(pr*n+gr*a,pr*a-gr*n),e.lineTo(pr*s+gr*o,pr*o-gr*s),e.lineTo(pr*l+gr*c,pr*c-gr*l),e.closePath()}};function a$(e,t){let r=null,n=Lv(a);e=typeof e=="function"?e:be(e||zv),t=typeof t=="function"?t:be(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:be(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:be(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function cd(){}function ud(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Kk(e){this._context=e}Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ud(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i$(e){return new Kk(e)}function Vk(e){this._context=e}Vk.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s$(e){return new Vk(e)}function Gk(e){this._context=e}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ud(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o$(e){return new Gk(e)}function Yk(e){this._context=e}Yk.prototype={areaStart:cd,areaEnd:cd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l$(e){return new Yk(e)}function Ew(e){return e<0?-1:1}function Pw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(Ew(s)+Ew(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Ow(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tm(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function dd(e){this._context=e}dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tm(this,this._t0,Ow(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tm(this,Ow(this,r=Pw(this,e,t)),r);break;default:Tm(this,this._t0,r=Pw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Xk(e){this._context=new Qk(e)}(Xk.prototype=Object.create(dd.prototype)).point=function(e,t){dd.prototype.point.call(this,t,e)};function Qk(e){this._context=e}Qk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function c$(e){return new dd(e)}function u$(e){return new Xk(e)}function Jk(e){this._context=e}Jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Aw(e),a=Aw(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Aw(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function d$(e){return new Jk(e)}function Rf(e,t){this._context=e,this._t=t}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function f$(e){return new Rf(e,.5)}function h$(e){return new Rf(e,0)}function m$(e){return new Rf(e,1)}function _i(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function k0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function p$(e,t){return e[t]}function g$(e){const t=[];return t.key=e,t}function v$(){var e=be([]),t=k0,r=_i,n=p$;function a(s){var o=Array.from(e.apply(this,arguments),g$),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Rv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:be(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:be(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?k0:typeof s=="function"?s:be(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??_i,a):r},a}function x$(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}_i(e,t)}}function y$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}_i(e,t)}}function b$(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var v=e[t[g]],y=v[n][1]||0,x=v[n-1][1]||0;m+=y-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,_i(e,t)}}var zf={},Zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Zk);var Fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Fv);var Ff={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Ff);var Bf={},eE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(eE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eE,r=Ff;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(Bf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk,r=Fv,n=Ff,a=Bf;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(zf);var w$=zf.get;const Si=Xn(w$);var j$=4;function ga(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,o)=>{var l=r[o-1];return typeof l=="string"?a+l+s:l!==void 0?a+ga(l)+s:a+s},"")}var mt=e=>e===0?0:e>0?1:-1,Xr=e=>typeof e=="number"&&e!=+e,ki=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,H=e=>(typeof e=="number"||e instanceof Number)&&!Xr(e),Ar=e=>H(e)||typeof e=="string",N$=0,Pl=e=>{var t=++N$;return"".concat(e||"").concat(t)},Tt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!H(t)&&typeof t!="string")return n;var s;if(ki(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Xr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},tE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _e(e,t,r){return H(e)&&H(t)?ga(e+r*(t-e)):t}function rE(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Si(n,t))===r)}var Ue=e=>e===null||typeof e>"u",ec=e=>Ue(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Yt(e){return e!=null}function Mi(){}var _$=["type","size","sizeType"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(null,arguments)}function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return(t=k$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P$(e,t){if(e==null)return{};var r,n,a=O$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nE={symbolCircle:zv,symbolCross:VM,symbolDiamond:YM,symbolSquare:XM,symbolStar:e$,symbolTriangle:t$,symbolWye:n$},A$=Math.PI/180,C$=e=>{var t="symbol".concat(ec(e));return nE[t]||zv},T$=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*A$;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},I$=(e,t)=>{nE["symbol".concat(ec(e))]=t},Bv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=P$(e,_$),s=Tw(Tw({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=C$(o),m=a$().type(h).size(T$(r,n,o)),g=m();if(g!==null)return g},{className:c,cx:u,cy:d}=s,f=Dt(s);return H(u)&&H(d)&&H(r)?p.createElement("path",E0({},f,{className:le("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Bv.registerSymbol=I$;var aE=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Uv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Mv(a)&&(n[a]=s=>r[a](r,s))}),n},D$=(e,t,r)=>n=>(e(t,r,n),null),tc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Mv(a)&&typeof s=="function"&&(n||(n={}),n[a]=D$(s,t,r))}),n};function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){$$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$(e,t,r){return(t=L$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=R$(e,"string");return typeof t=="symbol"?t:t+""}function R$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ge(e,t){var r=M$({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(null,arguments)}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){F$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F$(e,t,r){return(t=B$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=U$(e,"string");return typeof t=="symbol"?t:t+""}function U$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xr=32,W$={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function q$(e){var{data:t,iconType:r,inactiveColor:n}=e,a=xr/2,s=xr/6,o=xr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:xr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xr/8,"h").concat(xr,"v").concat(xr*3/4,"h").concat(-xr,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=z$({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(Bv,{fill:l,cx:a,cy:a,size:xr,sizeType:"diameter",type:c})}function H$(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:xr,height:xr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=le({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,v=h?h(d.value,d,f):d.value;return p.createElement("li",fd({className:m,style:c,key:"legend-item-".concat(f)},tc(e,d,f)),p.createElement($v,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},p.createElement(q$,{data:d,iconType:o,inactiveColor:s})),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var K$=e=>{var t=Ge(e,W$),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:s},p.createElement(H$,fd({},t,{payload:r})))},iE={},sE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o,s,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(sE);var oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(oE);var Wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Wv);var lE={},Uf={},cE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Uf);var uE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(uE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uf,r=uE;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lE);var dE={},fE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(fE);var hE={},qv={},mE={},Hv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Hv);var Kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Kv);var Vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Vv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv,r=Kv,n=Vv;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(g,v,y,x,w,b){const j=h(g,v,y,x,w,b);return j!==void 0?!!j:s(g,v,m,b)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<g.length;v++){const y=g[v];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of f.entries()){const y=d.get(g);if(h(y,v,g,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<f.length;v++){const y=f[v];let x=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const b=d[w];let j=!1;if(h(b,y,v,d,f,m)&&(j=!0),j){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(mE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mE;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(qv);var pE={},Gv={},gE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(gE);var Wf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Wf);var Yv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",v="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",S="[object Int32Array]",P="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=C,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=S,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Yv);var vE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(vE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gE,r=Wf,n=Yv,a=Kv,s=vE;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const v=g==null?void 0:g(d,f,h,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,w]of d)y.set(x,l(w,x,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(l(x,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,m,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,h,m,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,h,m,g),y}return d}function c(d,f,h=d,m,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const x=v[y],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=l(f[x],x,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Gv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv,r=pE;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(hE);var xE={},yE={},bE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv,r=Wf,n=Yv;function a(s,o){return t.cloneDeepWith(s,(l,c,u,d)=>{const f=o==null?void 0:o(l,c,u,d);if(f!==void 0)return f;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const h={};return d.set(s,h),t.copyProperties(h,s,u,d),h}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(h,s),h}case n.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(bE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(yE);var wE={},Xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xv);var jE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(jE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv,r=Xv,n=jE,a=Bf;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(wE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv,r=Ff,n=yE,a=zf,s=wE;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(xE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wv,r=fE,n=hE,a=xE;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(dE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sE,r=oE,n=Wv,a=lE,s=dE;function o(l,c=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(s.iteratee(c),1)):[]}e.uniqBy=o})(iE);var V$=iE.uniqBy;const Mw=Xn(V$);function NE(e,t,r){return t===!0?Mw(e,r):typeof t=="function"?Mw(e,t):e}var _E={exports:{}},SE={},kE={exports:{}},EE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=p;function G$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y$=typeof Object.is=="function"?Object.is:G$,X$=Ls.useState,Q$=Ls.useEffect,J$=Ls.useLayoutEffect,Z$=Ls.useDebugValue;function eL(e,t){var r=t(),n=X$({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return J$(function(){a.value=r,a.getSnapshot=t,Im(a)&&s({inst:a})},[e,r,t]),Q$(function(){return Im(a)&&s({inst:a}),e(function(){Im(a)&&s({inst:a})})},[e]),Z$(r),r}function Im(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Y$(e,r)}catch{return!0}}function tL(e,t){return t()}var rL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tL:eL;EE.useSyncExternalStore=Ls.useSyncExternalStore!==void 0?Ls.useSyncExternalStore:rL;kE.exports=EE;var nL=kE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=p,aL=nL;function iL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sL=typeof Object.is=="function"?Object.is:iL,oL=aL.useSyncExternalStore,lL=qf.useRef,cL=qf.useEffect,uL=qf.useMemo,dL=qf.useDebugValue;SE.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=lL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=uL(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,sL(d,m))return g;var v=n(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=oL(e,s[0],s[1]);return cL(function(){o.hasValue=!0,o.value=l},[l]),dL(l),l};_E.exports=SE;var fL=_E.exports,Qv=p.createContext(null),hL=e=>e,ve=()=>{var e=p.useContext(Qv);return e?e.store.dispatch:hL},ku=()=>{},mL=()=>ku,pL=(e,t)=>e===t;function G(e){var t=p.useContext(Qv),r=p.useMemo(()=>t?n=>{if(n!=null)return e(n)}:ku,[t,e]);return fL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mL,t?t.store.getState:ku,t?t.store.getState:ku,r,pL)}function gL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var $w=e=>Array.isArray(e)?e:[e];function yL(e){const t=Array.isArray(e[0])?e[0]:e;return xL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bL(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var wL=class{constructor(e){this.value=e}deref(){return this.value}},jL=typeof WeakRef<"u"?WeakRef:wL,NL=0,Lw=1;function Xc(){return{s:NL,v:void 0,o:null,p:null}}function PE(e,t={}){let r=Xc();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const y=v.get(g);y===void 0?(l=Xc(),v.set(g,l)):l=y}else{let v=l.p;v===null&&(l.p=v=new Map);const y=v.get(g);y===void 0?(l=Xc(),v.set(g,l)):l=y}}const u=l;let d;if(l.s===Lw)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new jL(d):d}return u.s=Lw,u.v=d,d}return o.clearCache=()=>{r=Xc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function _L(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),gL(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=PE,argsMemoizeOptions:g=[],devModeChecks:v={}}=d,y=$w(h),x=$w(g),w=yL(a),b=f(function(){return s++,u.apply(null,arguments)},...y),j=m(function(){o++;const N=bL(w,arguments);return l=b.apply(null,N),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=_L(PE),SL=Object.assign((e,t=T)=>{vL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>SL}),OE={},AE={},CE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(CE);var TE={},Jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Jv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(TE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CE,r=TE,n=Bf;function a(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let v=m;for(let y=0;y<g.length&&v!=null;++y)v=v[g[y]];return v},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(m.criteria[v],g.criteria[v],l[v]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(AE);var IE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(IE);var Zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv,r=Uf,n=Hv,a=Vv;function s(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.isEqualsSameValueZero(c[l],o):!1}e.isIterateeCall=s})(Zv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AE,r=IE,n=Zv;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(OE);var kL=OE.sortBy;const Hf=Xn(kL);var DE=e=>e.legend.settings,EL=e=>e.legend.size,PL=e=>e.legend.payload,OL=T([PL,DE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Hf(n,r):n});function AL(){return G(OL)}var Qc=1;function ME(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Qc||Math.abs(o.left-t.left)>Qc||Math.abs(o.top-t.top)>Qc||Math.abs(o.width-t.width)>Qc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CL=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rw=CL,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),TL={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},hd=TL;function ex(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $E(e,t,r){if(typeof e!="function")throw new Error(xt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(xt(1));return r($E)(e,t)}let n=e,a=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((y,x)=>{o.set(x,y)}))}function d(){if(c)throw new Error(xt(3));return a}function f(y){if(typeof y!="function")throw new Error(xt(4));if(c)throw new Error(xt(5));let x=!0;u();const w=l++;return o.set(w,y),function(){if(x){if(c)throw new Error(xt(6));x=!1,u(),o.delete(w),s=null}}}function h(y){if(!ex(y))throw new Error(xt(7));if(typeof y.type>"u")throw new Error(xt(8));if(typeof y.type!="string")throw new Error(xt(17));if(c)throw new Error(xt(9));try{c=!0,a=n(a,y)}finally{c=!1}return(s=o).forEach(w=>{w()}),y}function m(y){if(typeof y!="function")throw new Error(xt(10));n=y,h({type:hd.REPLACE})}function g(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(xt(11));function w(){const j=x;j.next&&j.next(d())}return w(),{unsubscribe:y(w)}},[Rw](){return this}}}return h({type:hd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Rw]:g}}function IL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hd.INIT})>"u")throw new Error(xt(12));if(typeof r(void 0,{type:hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function LE(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{IL(r)}catch(s){a=s}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(xt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function md(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function DL(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(xt(15))};const o={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=md(...l)(a.dispatch),{...a,dispatch:s}}}function RE(e){return ex(e)&&"type"in e&&typeof e.type=="string"}var zE=Symbol.for("immer-nothing"),zw=Symbol.for("immer-draftable"),Bt=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sr=Object,Rs=sr.getPrototypeOf,pd="constructor",Kf="prototype",P0="configurable",gd="enumerable",Eu="writable",Ol="value",Wn=e=>!!e&&!!e[Bt];function Qr(e){var t;return e?FE(e)||Gf(e)||!!e[zw]||!!((t=e[pd])!=null&&t[zw])||Yf(e)||Xf(e):!1}var ML=sr[Kf][pd].toString(),Fw=new WeakMap;function FE(e){if(!e||!tx(e))return!1;const t=Rs(e);if(t===null||t===sr[Kf])return!0;const r=sr.hasOwnProperty.call(t,pd)&&t[pd];if(r===Object)return!0;if(!Ji(r))return!1;let n=Fw.get(r);return n===void 0&&(n=Function.toString.call(r),Fw.set(r,n)),n===ML}function Vf(e,t,r=!0){rc(e)===0?(r?Reflect.ownKeys(e):sr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function rc(e){const t=e[Bt];return t?t.type_:Gf(e)?1:Yf(e)?2:Xf(e)?3:0}var Bw=(e,t,r=rc(e))=>r===2?e.has(t):sr[Kf].hasOwnProperty.call(e,t),O0=(e,t,r=rc(e))=>r===2?e.get(t):e[t],vd=(e,t,r,n=rc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function $L(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Gf=Array.isArray,Yf=e=>e instanceof Map,Xf=e=>e instanceof Set,tx=e=>typeof e=="object",Ji=e=>typeof e=="function",Mm=e=>typeof e=="boolean";function LL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Pn=e=>e.copy_||e.base_,rx=e=>e.modified_?e.copy_:e.base_;function A0(e,t){if(Yf(e))return new Map(e);if(Xf(e))return new Set(e);if(Gf(e))return Array[Kf].slice.call(e);const r=FE(e);if(t===!0||t==="class_only"&&!r){const n=sr.getOwnPropertyDescriptors(e);delete n[Bt];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[Eu]===!1&&(l[Eu]=!0,l[P0]=!0),(l.get||l.set)&&(n[o]={[P0]:!0,[Eu]:!0,[gd]:l[gd],[Ol]:e[o]})}return sr.create(Rs(e),n)}else{const n=Rs(e);if(n!==null&&r)return{...e};const a=sr.create(n);return sr.assign(a,e)}}function nx(e,t=!1){return Qf(e)||Wn(e)||!Qr(e)||(rc(e)>1&&sr.defineProperties(e,{set:Jc,add:Jc,clear:Jc,delete:Jc}),sr.freeze(e),t&&Vf(e,(r,n)=>{nx(n,!0)},!1)),e}function RL(){Wr(2)}var Jc={[Ol]:RL};function Qf(e){return e===null||!tx(e)?!0:sr.isFrozen(e)}var xd="MapSet",C0="Patches",Uw="ArrayMethods",BE={};function Ei(e){const t=BE[e];return t||Wr(0,e),t}var Ww=e=>!!BE[e],Al,UE=()=>Al,zL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ww(xd)?Ei(xd):void 0,arrayMethodsPlugin_:Ww(Uw)?Ei(Uw):void 0});function qw(e,t){t&&(e.patchPlugin_=Ei(C0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function T0(e){I0(e),e.drafts_.forEach(FL),e.drafts_=null}function I0(e){e===Al&&(Al=e.parent_)}var Hw=e=>Al=zL(Al,e);function FL(e){const t=e[Bt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Kw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Bt].modified_&&(T0(t),Wr(4)),Qr(e)&&(e=Vw(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Bt].base_,e,t)}else e=Vw(t,r);return BL(t,e,!0),T0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zE?e:void 0}function Vw(e,t){if(Qf(t))return t;const r=t[Bt];if(!r)return yd(t,e.handledSet_,e);if(!Jf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);HE(r,e)}return r.copy_}function BL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nx(t,r)}function WE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Jf=(e,t)=>e.scope_===t,UL=[];function qE(e,t,r,n){const a=Pn(e),s=e.type_;if(n!==void 0&&O0(a,n,s)===t){vd(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Vf(a,(c,u)=>{if(Wn(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??UL;for(const l of o)vd(a,l,r,s)}function WL(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!Jf(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=rx(s);qE(e,s.draft_??s,o,r),HE(s,a)})}function HE(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}WE(e)}}function qL(e,t,r){const{scope_:n}=e;if(Wn(r)){const a=r[Bt];Jf(a,n)&&a.callbacks_.push(function(){Pu(e);const o=rx(a);qE(e,r,o,t)})}else Qr(r)&&e.callbacks_.push(function(){const s=Pn(e);e.type_===3?s.has(r)&&yd(r,n.handledSet_,n):O0(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&yd(O0(e.copy_,t,e.type_),n.handledSet_,n)})}function yd(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Wn(e)||t.has(e)||!Qr(e)||Qf(e)||(t.add(e),Vf(e,(n,a)=>{if(Wn(a)){const s=a[Bt];if(Jf(s,r)){const o=rx(s);vd(e,n,o,e.type_),WE(s)}}else Qr(a)&&yd(a,t,r)})),e}function HL(e,t){const r=Gf(e),n={type_:r?1:0,scope_:t?t.scope_:UE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=bd;r&&(a=[n],s=Cl);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var bd={get(e,t){if(t===Bt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Pn(e);if(!Bw(a,t,e.type_))return KL(e,a,t);const s=a[t];if(e.finalized_||!Qr(s)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&LL(t))return s;if(s===$m(e.base_,t)){Pu(e);const o=e.type_===1?+t:t,l=M0(e.scope_,s,e,o);return e.copy_[o]=l}return s},has(e,t){return t in Pn(e)},ownKeys(e){return Reflect.ownKeys(Pn(e))},set(e,t,r){const n=KE(Pn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=$m(Pn(e),t),s=a==null?void 0:a[Bt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if($L(r,a)&&(r!==void 0||Bw(e.base_,t,e.type_)))return!0;Pu(e),D0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),qL(e,t,r)),!0},deleteProperty(e,t){return Pu(e),$m(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),D0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Pn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Eu]:!0,[P0]:e.type_!==1||t!=="length",[gd]:n[gd],[Ol]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Rs(e.base_)},setPrototypeOf(){Wr(12)}},Cl={};for(let e in bd){let t=bd[e];Cl[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Cl.deleteProperty=function(e,t){return Cl.set.call(this,e,t,void 0)};Cl.set=function(e,t,r){return bd.set.call(this,e[0],t,r,e[0])};function $m(e,t){const r=e[Bt];return(r?Pn(r):e)[t]}function KL(e,t,r){var a;const n=KE(t,r);return n?Ol in n?n[Ol]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KE(e,t){if(!(t in e))return;let r=Rs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Rs(r)}}function D0(e){e.modified_||(e.modified_=!0,e.parent_&&D0(e.parent_))}function Pu(e){e.copy_||(e.assigned_=new Map,e.copy_=A0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Ji(r)&&!Ji(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}Ji(n)||Wr(6),a!==void 0&&!Ji(a)&&Wr(7);let s;if(Qr(r)){const o=Hw(this),l=M0(o,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?T0(o):I0(o)}return qw(o,a),Kw(s,o)}else if(!r||!tx(r)){if(s=n(r),s===void 0&&(s=r),s===zE&&(s=void 0),this.autoFreeze_&&nx(s,!0),a){const o=[],l=[];Ei(C0).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(Ji(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},Mm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Mm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Mm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Qr(t)||Wr(8),Wn(t)&&(t=Gr(t));const r=Hw(this),n=M0(r,t,void 0);return n[Bt].isManual_=!0,I0(r),n}finishDraft(t,r){const n=t&&t[Bt];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return qw(a,r),Kw(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ei(C0).applyPatches_;return Wn(t)?a(t,r):this.produce(t,s=>a(s,r))}};function M0(e,t,r,n){const[a,s]=Yf(t)?Ei(xd).proxyMap_(t,r):Xf(t)?Ei(xd).proxySet_(t,r):HL(t,r);return((r==null?void 0:r.scope_)??UE()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?WL(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Gr(e){return Wn(e)||Wr(10,e),VE(e)}function VE(e){if(!Qr(e)||Qf(e))return e;const t=e[Bt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=A0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=A0(e,!0);return Vf(r,(a,s)=>{vd(r,a,VE(s))},n),t&&(t.finalized_=!1),r}var GL=new VL,GE=GL.produce;function YE(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var YL=YE(),XL=YE,QL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?md:md.apply(null,arguments)};function Cr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(lr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RE(n)&&n.type===e,r}var XE=class Uo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Uo.prototype)}static get[Symbol.species](){return Uo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Uo(...t[0].concat(this)):new Uo(...t.concat(this))}};function Gw(e){return Qr(e)?GE(e,()=>{}):e}function Zc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function JL(e){return typeof e=="boolean"}var ZL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new XE;return r&&(JL(r)?o.push(YL):o.push(XL(r.extraArgument))),o},QE="RTK_autoBatch",ke=()=>e=>({payload:e,meta:{[QE]:!0}}),Yw=e=>t=>{setTimeout(t,e)},JE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Yw(10):e.type==="callback"?e.queueNotification:Yw(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[QE]),s=!a,s&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},eR=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new XE(e);return n&&a.push(JE(typeof n=="object"?n:void 0)),a};function tR(e){const t=ZL(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(ex(r))c=LE(r);else throw new Error(lr(1));let u;typeof n=="function"?u=n(t):u=t();let d=md;a&&(d=QL({trace:!1,...typeof a=="object"&&a}));const f=DL(...u),h=eR(f);let m=typeof l=="function"?l(h):h();const g=d(...m);return $E(c,o,g)}function ZE(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function rR(e){return typeof e=="function"}function nR(e,t){let[r,n,a]=ZE(t),s;if(rR(e))s=()=>Gw(e());else{const l=Gw(e);s=()=>l}function o(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Wn(d)){const m=f(d,c);return m===void 0?d:m}else{if(Qr(d))return GE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=s,o}var aR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iR=(e=21)=>{let t="",r=e;for(;r--;)t+=aR[Math.random()*64|0];return t},sR=Symbol.for("rtk-slice-createasyncthunk");function oR(e,t){return`${e}/${t}`}function lR({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[sR];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(lr(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(uR()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(lr(12));if(N in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],N={reducerName:j,type:oR(s,j),createNotation:typeof a.reducers=="function"};fR(_)?mR(N,_,d,t):dR(N,_,d)});function f(){const[j={},_=[],N=void 0]=typeof a.extraReducers=="function"?ZE(a.extraReducers):[a.extraReducers],S={...j,...u.sliceCaseReducersByType};return nR(a.initialState,P=>{for(let C in S)P.addCase(C,S[C]);for(let C of u.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of _)P.addMatcher(C.matcher,C.reducer);N&&P.addDefaultCase(N)})}const h=j=>j,m=new Map,g=new WeakMap;let v;function y(j,_){return v||(v=f()),v(j,_)}function x(){return v||(v=f()),v.getInitialState()}function w(j,_=!1){function N(P){let C=P[j];return typeof C>"u"&&_&&(C=Zc(g,N,x)),C}function S(P=h){const C=Zc(m,_,()=>new WeakMap);return Zc(C,P,()=>{const I={};for(const[O,k]of Object.entries(a.selectors??{}))I[O]=cR(k,P,()=>Zc(g,P,x),_);return I})}return{reducerPath:j,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const b={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(o),injectInto(j,{reducerPath:_,...N}={}){const S=_??o;return j.inject({reducerPath:S,reducer:y},N),{...b,...w(S,!0)}}};return b}}function cR(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var tr=lR();function uR(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function dR({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!hR(n))throw new Error(lr(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Cr(e,o):Cr(e))}function fR(e){return e._reducerDefinitionType==="asyncThunk"}function hR(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mR({type:e,reducerName:t},r,n,a){if(!a)throw new Error(lr(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||eu,pending:l||eu,rejected:c||eu,settled:u||eu})}function eu(){}var pR="task",eP="listener",tP="completed",ax="cancelled",gR=`task-${ax}`,vR=`task-${tP}`,$0=`${eP}-${ax}`,xR=`${eP}-${tP}`,Zf=class{constructor(e){Uh(this,"name","TaskAbortError");Uh(this,"message");this.code=e,this.message=`${pR} ${ax} (reason: ${e})`}},ix=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},wd=()=>{},rP=(e,t=wd)=>(e.catch(t),e),nP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),mi=e=>{if(e.aborted)throw new Zf(e.reason)};function aP(e,t){let r=wd;return new Promise((n,a)=>{const s=()=>a(new Zf(e.reason));if(e.aborted){s();return}r=nP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=wd})}var yR=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Zf?"cancelled":"rejected",error:r}}finally{t==null||t()}},jd=e=>t=>rP(aP(e,t).then(r=>(mi(e),r))),iP=e=>{const t=jd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ns}=Object,Xw={},eh="listenerMiddleware",bR=(e,t)=>{const r=n=>nP(e,()=>n.abort(e.reason));return(n,a)=>{ix(n);const s=new AbortController;r(s);const o=yR(async()=>{mi(e),mi(s.signal);const l=await n({pause:jd(s.signal),delay:iP(s.signal),signal:s.signal});return mi(s.signal),l},()=>s.abort(vR));return a!=null&&a.autoJoin&&t.push(o.catch(wd)),{result:jd(e)(o),cancel(){s.abort(gR)}}}},wR=(e,t)=>{const r=async(n,a)=>{mi(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await aP(t,Promise.race(l));return mi(t),c}finally{s()}};return(n,a)=>rP(r(n,a))},sP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Cr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(lr(21));return ix(s),{predicate:a,type:t,effect:s}},oP=Ns(e=>{const{type:t,predicate:r,effect:n}=sP(e);return{id:iR(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>oP}),Qw=(e,t)=>{const{type:r,effect:n,predicate:a}=sP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},L0=e=>{e.pending.forEach(t=>{t.abort($0)})},jR=(e,t)=>()=>{for(const r of t.keys())L0(r);e.clear()},Jw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},lP=Ns(Cr(`${eh}/add`),{withTypes:()=>lP}),NR=Cr(`${eh}/removeAll`),cP=Ns(Cr(`${eh}/remove`),{withTypes:()=>cP}),_R=(...e)=>{console.error(`${eh}/error`,...e)},nc=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},a=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:s,onError:o=_R}=e;ix(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&L0(m)}),c=m=>{const g=Qw(t,m)??oP(m);return l(g)};Ns(c,{withTypes:()=>c});const u=m=>{const g=Qw(t,m);return g&&(g.unsubscribe(),m.cancelActive&&L0(g)),!!g};Ns(u,{withTypes:()=>u});const d=async(m,g,v,y)=>{const x=new AbortController,w=wR(c,x.signal),b=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(g,Ns({},v,{getOriginalState:y,condition:(j,_)=>w(j,_).then(Boolean),take:w,delay:iP(x.signal),pause:jd(x.signal),extra:s,signal:x.signal,fork:bR(x.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,_,N)=>{j!==x&&(j.abort($0),N.delete(j))})},cancel:()=>{x.abort($0),m.pending.delete(x)},throwIfCancelled:()=>{mi(x.signal)}})))}catch(j){j instanceof Zf||Jw(o,j,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(xR),a(m),m.pending.delete(x)}},f=jR(t,r);return{middleware:m=>g=>v=>{if(!RE(v))return g(v);if(lP.match(v))return c(v.payload);if(NR.match(v)){f();return}if(cP.match(v))return u(v.payload);let y=m.getState();const x=()=>{if(y===Xw)throw new Error(lr(23));return y};let w;try{if(w=g(v),t.size>0){const b=m.getState(),j=Array.from(t.values());for(const _ of j){let N=!1;try{N=_.predicate(v,b,y)}catch(S){N=!1,Jw(o,S,{raisedBy:"predicate"})}N&&d(_,v,m,x)}}}finally{y=Xw}return w},startListening:c,stopListening:u,clearListeners:f}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SR={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uP=tr({name:"chartLayout",initialState:SR,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kR,setLayout:ER,setChartSize:PR,setScale:OR}=uP.actions,AR=uP.reducer;function dP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function re(e){return Number.isFinite(e)}function gn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){CR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CR(e,t,r){return(t=TR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TR(e){var t=IR(e,"string");return typeof t=="symbol"?t:t+""}function IR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function me(e,t,r){return Ue(e)||Ue(t)?r:Ar(t)?Si(e,t,r):typeof t=="function"?t(e):r}var DR=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&H(e[s]))return fs(fs({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&H(e[o]))return fs(fs({},e),{},{[o]:e[o]+(a||0)})}return e},yn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",fP=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},hP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=m==="angleAxis"&&s&&s.length>=2?mt(s[0]-s[1])*2*v:v,f||h){var y=(f||h||[]).map((x,w)=>{var b=n?n.indexOf(x):x,j=o.map(b);return re(j)?{coordinate:j+v,value:x,offset:v,index:w}:null}).filter(Yt);return y}return c&&u?u.map((x,w)=>{var b=o.map(x);return re(b)?{coordinate:b+v,value:x,index:w,offset:v}:null}).filter(Yt):o.ticks&&!r&&d!=null?o.ticks(d).map((x,w)=>{var b=o.map(x);return re(b)?{coordinate:b+v,value:x,index:w,offset:v}:null}).filter(Yt):o.domain().map((x,w)=>{var b=o.map(x);return re(b)?{coordinate:b+v,value:n?n[x]:x,index:w,offset:v}:null}).filter(Yt)},MR=(e,t)=>{if(!t||t.length!==2||!H(t[0])||!H(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!H(e[0])||e[0]<r)&&(a[0]=r),(!H(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},$R=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=Xr(d)?f:d;h>=0?(u[0]=s,s+=h,u[1]=s):(u[0]=o,o+=h,u[1]=o)}}}},LR=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,o=0;o<r;++o){var l=e[o],c=l==null?void 0:l[a];if(c!=null){var u=Xr(c[1])?c[0]:c[1];u>=0?(c[0]=s,s+=u,c[1]=s):(c[0]=0,c[1]=0)}}}},RR={sign:$R,expand:x$,none:_i,silhouette:y$,wiggle:b$,positive:LR},zR=(e,t,r)=>{var n,a=(n=RR[r])!==null&&n!==void 0?n:_i,s=v$().keys(t).value((l,c)=>Number(me(l,c,0))).order(k0).offset(a),o=s(e);return o.forEach((l,c)=>{l.forEach((u,d)=>{var f=me(e[d],t[c],0);Array.isArray(f)&&f.length===2&&H(f[0])&&H(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function mP(e){return e==null?void 0:String(e)}function ej(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(a[t.dataKey])){var l=rE(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var c=me(a,Ue(o)?t.dataKey:o),u=t.scale.map(c);return H(u)?u:null}var tj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=me(s,t.dataKey,t.scale.domain()[o]);if(Ue(l))return null;var c=t.scale.map(l);return H(c)?c-a/2+n:null},FR=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},BR=e=>{var t=e.flat(2).filter(H);return[Math.min(...t),Math.max(...t)]},UR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],WR=(e,t,r)=>{if(e!=null)return UR(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:o}=s,l=o.reduce((c,u)=>{var d=dP(u,t,r),f=BR(d);return!re(f[0])||!re(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},rj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Hf(t,d=>d.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function aj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return fs(fs({},t),{},{dataKey:r,payload:n,value:a,name:s})}function ao(e,t){if(e)return String(e);if(typeof t=="string")return t}var qR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},HR=(e,t)=>t==="centric"?e.angle:e.radius,Jn=e=>e.layout.width,Zn=e=>e.layout.height,KR=e=>e.layout.scale,pP=e=>e.layout.margin,th=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rh=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gP="data-recharts-item-index",vP="data-recharts-item-id",ac=60;function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){VR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VR(e,t,r){return(t=GR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XR=e=>e.brush.height;function QR(e){var t=rh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ac;return r+a}return r},0)}function JR(e){var t=rh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ac;return r+a}return r},0)}function ZR(e){var t=th(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ez(e){var t=th(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var st=T([Jn,Zn,pP,XR,QR,JR,ZR,ez,DE,EL],(e,t,r,n,a,s,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=tu(tu({},f),d),m=h.bottom;h.bottom+=n,h=DR(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return tu(tu({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),tz=T(st,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sx=T(Jn,Zn,(e,t)=>({x:0,y:0,width:e,height:t})),rz=p.createContext(null),_t=()=>p.useContext(rz)!=null,nh=e=>e.brush,ah=T([nh,st,pP],(e,t,r)=>({height:e.height,x:H(e.x)?e.x:t.left,y:H(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:H(e.width)?e.width:t.width})),xP={},yP={},bP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,l=null},y=()=>{d()},x=function(...w){if(a!=null&&a.aborted)return;o=this,l=w;const b=h==null;m(),c&&b&&d()};return x.schedule=m,x.cancel=v,x.flush=y,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(bP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(yP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(xP);var nz=xP.throttle;const az=Xn(nz);var Nd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},un={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},wP=(e,t,r)=>{var{width:n=un.width,height:a=un.height,aspect:s,maxHeight:o}=r,l=ki(n)?e:Number(n),c=ki(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},iz={width:0,height:0,overflow:"visible"},sz={width:0,overflowX:"visible"},oz={height:0,overflowY:"visible"},lz={},cz=e=>{var{width:t,height:r}=e,n=ki(t),a=ki(r);return n&&a?iz:n?sz:a?oz:lz};function uz(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=un.width,s=un.height):a===void 0?a=n&&n>0?void 0:un.width:s===void 0&&(s=n&&n>0?void 0:un.height),{width:a,height:s}}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t,r){return(t=fz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=hz(e,"string");return typeof t=="symbol"?t:t+""}function hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jP=p.createContext(un.initialDimension);function mz(e){return gn(e.width)&&gn(e.height)}function NP(e){var{children:t,width:r,height:n}=e,a=p.useMemo(()=>({width:r,height:n}),[r,n]);return mz(a)?p.createElement(jP.Provider,{value:a},t):null}var ox=()=>p.useContext(jP),pz=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=un.initialDimension,width:a,height:s,minWidth:o=un.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=un.debounce,id:f,className:h,onResize:m,style:g={}}=e,v=p.useRef(null),y=p.useRef();y.current=m,p.useImperativeHandle(t,()=>v.current);var[x,w]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((P,C)=>{w(I=>{var O=Math.round(P),k=Math.round(C);return I.containerWidth===O&&I.containerHeight===k?I:{containerWidth:O,containerHeight:k}})},[]);p.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Mi;var P=k=>{var M,L=k[0];if(L!=null){var{width:J,height:Y}=L.contentRect;b(J,Y),(M=y.current)===null||M===void 0||M.call(y,J,Y)}};d>0&&(P=az(P,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(P),{width:I,height:O}=v.current.getBoundingClientRect();return b(I,O),C.observe(v.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:_}=x;Nd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:S}=wP(j,_,{width:a,height:s,aspect:r,maxHeight:c});return Nd(N!=null&&N>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,S,a,s,o,l,r),p.createElement("div",{id:f?"".concat(f):void 0,className:le("recharts-responsive-container",h),style:oj(oj({},g),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:v},p.createElement("div",{style:cz({width:a,height:s})},p.createElement(NP,{width:N,height:S},u)))}),va=p.forwardRef((e,t)=>{var r=ox();if(gn(r.width)&&gn(r.height))return e.children;var{width:n,height:a}=uz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=wP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return H(s)&&H(o)?p.createElement(NP,{width:s,height:o},e.children):p.createElement(pz,R0({},e,{width:n,height:a,ref:t}))});function lx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ic=()=>{var e,t=_t(),r=G(tz),n=G(ah),a=(e=G(nh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},gz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_P=()=>{var e;return(e=G(st))!==null&&e!==void 0?e:gz},cx=()=>G(Jn),ux=()=>G(Zn),vz=()=>G(e=>e.layout.margin),ce=e=>e.layout.layoutType,$i=()=>G(ce),dx=()=>{var e=$i();if(e==="horizontal"||e==="vertical")return e},SP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},xz=()=>{var e=$i();return e!==void 0},sc=e=>{var t=ve(),r=_t(),{width:n,height:a}=e,s=ox(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),p.useEffect(()=>{!r&&gn(o)&&gn(l)&&t(PR({width:o,height:l}))},[t,r,o,l]),null},kP=Symbol.for("immer-nothing"),lj=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tl=Object.getPrototypeOf;function Fs(e){return!!e&&!!e[ur]}function Pi(e){var t;return e?EP(e)||Array.isArray(e)||!!e[lj]||!!((t=e.constructor)!=null&&t[lj])||oc(e)||sh(e):!1}var yz=Object.prototype.constructor.toString(),cj=new WeakMap;function EP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=cj.get(r);return n===void 0&&(n=Function.toString.call(r),cj.set(r,n)),n===yz}function _d(e,t,r=!0){ih(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ih(e){const t=e[ur];return t?t.type_:Array.isArray(e)?1:oc(e)?2:sh(e)?3:0}function z0(e,t){return ih(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PP(e,t,r){const n=ih(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function bz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oc(e){return e instanceof Map}function sh(e){return e instanceof Set}function ei(e){return e.copy_||e.base_}function F0(e,t){if(oc(e))return new Map(e);if(sh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=EP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ur];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Tl(e),n)}else{const n=Tl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function fx(e,t=!1){return oh(e)||Fs(e)||!Pi(e)||(ih(e)>1&&Object.defineProperties(e,{set:ru,add:ru,clear:ru,delete:ru}),Object.freeze(e),t&&Object.values(e).forEach(r=>fx(r,!0))),e}function wz(){qr(2)}var ru={value:wz};function oh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var jz={};function Oi(e){const t=jz[e];return t||qr(0,e),t}var Il;function OP(){return Il}function Nz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uj(e,t){t&&(Oi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B0(e){U0(e),e.drafts_.forEach(_z),e.drafts_=null}function U0(e){e===Il&&(Il=e.parent_)}function dj(e){return Il=Nz(Il,e)}function _z(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ur].modified_&&(B0(t),qr(4)),Pi(e)&&(e=Sd(t,e),t.parent_||kd(t,e)),t.patches_&&Oi("Patches").generateReplacementPatches_(r[ur].base_,e,t.patches_,t.inversePatches_)):e=Sd(t,r,[]),B0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kP?e:void 0}function Sd(e,t,r){if(oh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ur];if(!a)return _d(t,(s,o)=>hj(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return kd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),_d(o,(c,u)=>hj(e,a,s,c,u,r,l),n),kd(e,s,!1),r&&e.patches_&&Oi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function hj(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=oh(a);if(!(l&&!o)){if(Fs(a)){const c=s&&t&&t.type_!==3&&!z0(t.assigned_,n)?s.concat(n):void 0,u=Sd(e,a,c);if(PP(r,n,u),Fs(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Pi(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Sd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(oc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&kd(e,a)}}}function kd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fx(t,r)}function Sz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:OP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=hx;r&&(a=[n],s=Dl);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var hx={get(e,t){if(t===ur)return e;const r=ei(e);if(!z0(r,t))return kz(e,r,t);const n=r[t];return e.finalized_||!Pi(n)?n:n===Lm(e.base_,t)?(Rm(e),e.copy_[t]=q0(n,e)):n},has(e,t){return t in ei(e)},ownKeys(e){return Reflect.ownKeys(ei(e))},set(e,t,r){const n=AP(ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Lm(ei(e),t),s=a==null?void 0:a[ur];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(bz(r,a)&&(r!==void 0||z0(e.base_,t)))return!0;Rm(e),W0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Rm(e),W0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){qr(11)},getPrototypeOf(e){return Tl(e.base_)},setPrototypeOf(){qr(12)}},Dl={};_d(hx,(e,t)=>{Dl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dl.deleteProperty=function(e,t){return Dl.set.call(this,e,t,void 0)};Dl.set=function(e,t,r){return hx.set.call(this,e[0],t,r,e[0])};function Lm(e,t){const r=e[ur];return(r?ei(r):e)[t]}function kz(e,t,r){var a;const n=AP(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function AP(e,t){if(!(t in e))return;let r=Tl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tl(r)}}function W0(e){e.modified_||(e.modified_=!0,e.parent_&&W0(e.parent_))}function Rm(e){e.copy_||(e.copy_=F0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ez=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(c=s,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&qr(6),n!==void 0&&typeof n!="function"&&qr(7);let a;if(Pi(t)){const s=dj(this),o=q0(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?B0(s):U0(s)}return uj(s,n),fj(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===kP&&(a=void 0),this.autoFreeze_&&fx(a,!0),n){const s=[],o=[];Oi("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else qr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Pi(e)||qr(8),Fs(e)&&(e=Pz(e));const t=dj(this),r=q0(e,void 0);return r[ur].isManual_=!0,U0(t),r}finishDraft(e,t){const r=e&&e[ur];(!r||!r.isManual_)&&qr(9);const{scope_:n}=r;return uj(n,t),fj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Oi("Patches").applyPatches_;return Fs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function q0(e,t){const r=oc(e)?Oi("MapSet").proxyMap_(e,t):sh(e)?Oi("MapSet").proxySet_(e,t):Sz(e,t);return(t?t.scope_:OP()).drafts_.push(r),r}function Pz(e){return Fs(e)||qr(10,e),CP(e)}function CP(e){if(!Pi(e)||oh(e))return e;const t=e[ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=F0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=F0(e,!0);return _d(r,(a,s)=>{PP(r,a,CP(s))},n),t&&(t.finalized_=!1),r}var Oz=new Ez;Oz.produce;var Az={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TP=tr({name:"legend",initialState:Az,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ke()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ke()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ke()}}}),{setLegendSize:mj,setLegendSettings:Cz,addLegendPayload:IP,replaceLegendPayload:DP,removeLegendPayload:MP}=TP.actions,Tz=TP.reducer,Iz=["contextPayload"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=$z(e,"string");return typeof t=="symbol"?t:t+""}function $z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lz(e,t){if(e==null)return{};var r,n,a=Rz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zz(e){return e.value}function Fz(e){var{contextPayload:t}=e,r=Lz(e,Iz),n=NE(t,e.payloadUniqBy,zz),a=Bs(Bs({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(K$,a)}function Bz(e,t,r,n,a,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Bs(Bs({},u),d)}function Uz(e){var t=ve();return p.useEffect(()=>{t(Cz(e))},[t,e]),null}function Wz(e){var t=ve();return p.useEffect(()=>(t(mj(e)),()=>{t(mj({width:0,height:0}))}),[t,e]),null}function qz(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var Hz={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ml(e){var t=Ge(e,Hz),r=AL(),n=BM(),a=vz(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=ME([r]),f=cx(),h=ux();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),g=qz(t.layout,o,s,m),v=c?l:Bs(Bs({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||o||"auto"},Bz(l,t,a,f,h,u)),l),y=c??n;if(y==null||r==null)return null;var x=p.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},p.createElement(Uz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&p.createElement(Wz,{width:u.width,height:u.height}),p.createElement(Fz,H0({},t,g,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return _f.createPortal(x,y)}Ml.displayName="Legend";function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yz(e){return Array.isArray(e)&&Ar(e[0])&&Ar(e[1])?e.join(" ~ "):e}var Hi={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Xz=e=>{var{separator:t=Hi.separator,contentStyle:r,itemStyle:n,labelStyle:a=Hi.labelStyle,payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=Hi.accessibilityLayer}=e,m=()=>{if(s&&s.length){var _={padding:0,margin:0},N=(l?Hf(s,l):s).map((S,P)=>{if(S.type==="none")return null;var C=S.formatter||o||Yz,{value:I,name:O}=S,k=I,M=O;if(C){var L=C(I,O,S,P,s);if(Array.isArray(L))[k,M]=L;else if(L!=null)k=L;else return null}var J=ko(ko({},Hi.itemStyle),{},{color:S.color||Hi.itemStyle.color},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:J},Ar(M)?p.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Ar(M)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},k),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},g=ko(ko({},Hi.contentStyle),r),v=ko({margin:0},a),y=!Ue(d),x=y?d:"",w=le("recharts-default-tooltip",c),b=le("recharts-tooltip-label",u);y&&f&&s!==void 0&&s!==null&&(x=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",K0({className:w,style:g},j),p.createElement("p",{className:b,style:v},p.isValidElement(x)?x:"".concat(x)),m())},Eo="recharts-tooltip-wrapper",Qz={visibility:"hidden"};function Jz(e){var{coordinate:t,translateX:r,translateY:n}=e;return le(Eo,{["".concat(Eo,"-right")]:H(r)&&t&&H(t.x)&&r>=t.x,["".concat(Eo,"-left")]:H(r)&&t&&H(t.x)&&r<t.x,["".concat(Eo,"-bottom")]:H(n)&&t&&H(t.y)&&n>=t.y,["".concat(Eo,"-top")]:H(n)&&t&&H(t.y)&&n<t.y})}function vj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&H(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+l,y=h+u;return v>y?Math.max(d,h):Math.max(f,h)}function Zz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function e8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:o,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,f,h;return l.height>0&&l.width>0&&r?(f=vj({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),h=vj({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=Zz({translateX:f,translateY:h,useTranslate3d:c})):d=Qz,{cssProperties:d,cssClasses:Jz({translateX:f,translateY:h,coordinate:r})}}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n8 extends p.PureComponent{constructor(){super(...arguments),V0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),V0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:v,innerRef:y,hasPortalFromProps:x}=this.props,w=typeof u=="number"?u:u.x,b=typeof u=="number"?u:u.y,{cssClasses:j,cssProperties:_}=e8({allowEscapeViewBox:r,coordinate:o,offsetLeft:w,offsetTop:b,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),N=x?{}:nu(nu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=nu(nu({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:S,ref:y},s)}}var $P=()=>{var e;return(e=G(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=i8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8(e){var t=s8(e,"string");return typeof t=="symbol"?t:t+""}function s8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wj={curveBasisClosed:s$,curveBasisOpen:o$,curveBasis:i$,curveBumpX:HM,curveBumpY:KM,curveLinearClosed:l$,curveLinear:Lf,curveMonotoneX:c$,curveMonotoneY:u$,curveNatural:d$,curveStep:f$,curveStepAfter:m$,curveStepBefore:h$},Ed=e=>re(e.x)&&re(e.y),jj=e=>e.base!=null&&Ed(e.base)&&Ed(e),Po=e=>e.x,Oo=e=>e.y,o8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ec(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=wj["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return wj[r]||Lf},Nj={connectNulls:!1,type:"linear"},l8=e=>{var{type:t=Nj.type,points:r=[],baseLine:n,layout:a,connectNulls:s=Nj.connectNulls}=e,o=o8(t,a),l=s?r.filter(Ed):r;if(Array.isArray(n)){var c,u=r.map((g,v)=>bj(bj({},g),{},{base:n[v]}));a==="vertical"?c=Yc().y(Oo).x1(Po).x0(g=>g.base.x):c=Yc().x(Po).y1(Oo).y0(g=>g.base.y);var d=c.defined(jj).curve(o),f=s?u.filter(jj):u;return d(f)}var h;a==="vertical"&&H(n)?h=Yc().y(Oo).x1(Po).x0(n):H(n)?h=Yc().x(Po).y1(Oo).y0(n):h=Uk().x(Po).y(Oo);var m=h.defined(Ed).curve(o);return m(l)},_s=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=$i();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=r&&r.length?l8(o):n;return p.createElement("path",G0({},er(e),Uv(e),{className:le("recharts-curve",t),d:l===null?void 0:l,ref:a}))},c8=["x","y","top","left","width","height","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return(t=f8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8(e,t){if(e==null)return{};var r,n,a=p8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g8=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),v8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=m8(e,c8),u=u8({x:t,y:r,top:n,left:a,width:s,height:o},c);return!H(t)||!H(r)||!H(s)||!H(o)||!H(n)||!H(a)?null:p.createElement("path",Y0({},Dt(u),{className:le("recharts-cross",l),d:g8(t,r,s,o,n,a)}))};function x8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8(e,t,r){return(t=b8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),LP=(e,t,r)=>e.map(n=>"".concat(j8(n)," ").concat(t,"ms ").concat(r)).join(","),N8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),$l=(e,t)=>Object.keys(t).reduce((r,n)=>kj(kj({},r),{},{[n]:e(n,t[n])}),{});function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){_8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t,r){return(t=S8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pd=(e,t,r)=>e+(t-e)*r,X0=e=>{var{from:t,to:r}=e;return t!==r},RP=(e,t,r)=>{var n=$l((a,s)=>{if(X0(s)){var[o,l]=e(s.from,s.to,s.velocity);return at(at({},s),{},{from:o,velocity:l})}return s},t);return r<1?$l((a,s)=>X0(s)&&n[a]!=null?at(at({},s),{},{velocity:Pd(s.velocity,n[a].velocity,r),from:Pd(s.from,n[a].from,r)}):s,t):RP(e,n,r-1)};function E8(e,t,r,n,a,s){var o,l=n.reduce((h,m)=>at(at({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>$l((h,m)=>m.from,l),u=()=>!Object.values(l).filter(X0).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=RP(r,l,g),a(at(at(at({},e),t),c())),o=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function P8(e,t,r,n,a,s,o){var l=null,c=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:at(at({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=$l((v,y)=>Pd(...y,r(h)),c);if(s(at(at(at({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=$l((v,y)=>Pd(...y,r(1)),c);s(at(at(at({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const O8=(e,t,r,n,a,s)=>{var o=N8(e,t);return r==null?()=>(a(at(at({},e),t)),()=>{}):r.isStepper===!0?E8(e,t,r,o,a,s):P8(e,t,r,n,o,a,s)};var Od=1e-4,zP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],FP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Pj=(e,t)=>r=>{var n=zP(e,t);return FP(n,r)},A8=(e,t)=>r=>{var n=zP(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return FP(a,r)},C8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},T8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=C8(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},I8=(e,t,r,n)=>{var a=Pj(e,r),s=Pj(t,n),o=A8(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<Od||g<Od)return s(f);f=l(f-m/g)}return s(f)};return c.isStepper=!1,c},Oj=function(){return I8(...T8(...arguments))},D8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<Od&&Math.abs(f)<Od?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},M8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Oj(e);case"spring":return D8();default:if(e.split("(")[0]==="cubic-bezier")return Oj(e)}return typeof e=="function"?e:null};function $8(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class L8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function R8(){return $8(new L8)}var z8=p.createContext(R8);function F8(e,t){var r=p.useContext(z8);return p.useMemo(()=>t??r(e),[e,t,r])}var B8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lc={devToolsEnabled:!0,isSsr:B8()},U8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Aj={t:0},zm={t:1};function cc(e){var t=Ge(e,U8),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!lc.isSsr:r,f=F8(t.animationId,t.animationManager),[h,m]=p.useState(d?Aj:zm),g=p.useRef(null);return p.useEffect(()=>{d||m(zm)},[d]),p.useEffect(()=>{if(!d||!n)return Mi;var v=O8(Aj,zm,M8(s),a,m,f.getTimeoutController()),y=()=>{g.current=v()};return f.start([c,o,y,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,s,o,c,l,f]),u(h.t)}function uc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Pl(t)),n=p.useRef(e);return n.current!==e&&(r.current=Pl(t),n.current=e),r.current}var W8=["radius"],q8=["radius"],Cj,Tj,Ij,Dj,Mj,$j,Lj,Rj,zj,Fj;function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return(t=K8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(null,arguments)}function Wj(e,t){if(e==null)return{};var r,n,a=G8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qj=(e,t,r,n,a)=>{var s=ga(r),o=ga(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,u=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0,f;if(l>0&&Array.isArray(a)){for(var h=[0,0,0,0],m=0,g=4;m<g;m++){var v,y=(v=a[m])!==null&&v!==void 0?v:0;h[m]=y>l?l:y}f=Re(Cj||(Cj=tn(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=Re(Tj||(Tj=tn(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Re(Ij||(Ij=tn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=Re(Dj||(Dj=tn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=Re(Mj||(Mj=tn(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=Re($j||($j=tn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=Re(Lj||(Lj=tn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=Re(Rj||(Rj=tn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var x=Math.min(l,a);f=Re(zj||(zj=tn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=Re(Fj||(Fj=tn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Hj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BP=e=>{var t=Ge(e,Hj),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Y=r.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:v}=t,y=p.useRef(l),x=p.useRef(c),w=p.useRef(s),b=p.useRef(o),j=p.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),_=uc(j,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var N=le("recharts-rectangle",d);if(!v){var S=Dt(t),P=Wj(S,W8);return p.createElement("path",Ad({},P,{x:ga(s),y:ga(o),width:ga(l),height:ga(c),radius:typeof u=="number"?u:void 0,className:N,d:qj(s,o,l,c,u)}))}var C=y.current,I=x.current,O=w.current,k=b.current,M="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),J=LP(["strokeDasharray"],h,typeof f=="string"?f:Hj.animationEasing);return p.createElement(cc,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:v,begin:m},Y=>{var Z=_e(C,l,Y),R=_e(I,c,Y),B=_e(O,s,Y),q=_e(k,o,Y);r.current&&(y.current=Z,x.current=R,w.current=B,b.current=q);var ee;g?Y>0?ee={transition:J,strokeDasharray:L}:ee={strokeDasharray:M}:ee={strokeDasharray:L};var ae=Dt(t),Ae=Wj(ae,q8);return p.createElement("path",Ad({},Ae,{radius:typeof u=="number"?u:void 0,className:N,d:qj(B,q,Z,R,u),ref:r,style:Uj(Uj({},ee),t.style)}))})};function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return(t=X8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=Q8(e,"string");return typeof t=="symbol"?t:t+""}function Q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=Math.PI/180,J8=e=>e*180/Math.PI,Je=(e,t,r,n)=>({x:e+Math.cos(-Cd*n)*r,y:t+Math.sin(-Cd*n)*r}),UP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Z8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},e7=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=Z8({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:J8(c),angleInRadian:c}},t7=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},r7=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},n7=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=e7({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=t7(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Vj(Vj({},t),{},{radius:a,angle:r7(d,t)}):null};function WP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=Je(t,r,n,a),l=Je(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var Gj,Yj,Xj,Qj,Jj,Zj,e1;function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}function si(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a7=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},au=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Cd,f=c?a:a+s*d,h=Je(t,r,u,f),m=Je(t,r,n,f),g=c?a-s*d:a,v=Je(t,r,u*Math.cos(d*Cd),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},qP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=a7(s,o),c=s+l,u=Je(t,r,a,s),d=Je(t,r,a,c),f=Re(Gj||(Gj=si(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(n>0){var h=Je(t,r,n,s),m=Je(t,r,n,c);f+=Re(Yj||(Yj=si(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(s<=c),h.x,h.y)}else f+=Re(Xj||(Xj=si(["L ",","," Z"])),t,r);return f},i7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=mt(u-c),{circleTangency:f,lineTangency:h,theta:m}=au({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:y}=au({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-m-y;if(x<0)return o?Re(Qj||(Qj=si(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):qP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w=Re(Jj||(Jj=si(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(d<0),f.x,f.y,a,a,+(x>180),+(d<0),g.x,g.y,s,s,+(d<0),v.x,v.y);if(n>0){var{circleTangency:b,lineTangency:j,theta:_}=au({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:S,theta:P}=au({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-_-P;if(C<0&&s===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+=Re(Zj||(Zj=si(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,s,s,+(d<0),N.x,N.y,n,n,+(C>180),+(d>0),b.x,b.y,s,s,+(d<0),j.x,j.y)}else w+=Re(e1||(e1=si(["L",",","Z"])),t,r);return w},s7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HP=e=>{var t=Ge(e,s7),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=le("recharts-sector",f),m=s-a,g=Tt(o,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=i7({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=qP({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",Q0({},Dt(t),{className:h,d:v}))};function o7(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(aE(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,c=Je(n,a,s,l),u=Je(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return WP(t)}}var KP={},VP={},GP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(GP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(VP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv,r=VP;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(KP);var l7=KP.range;const YP=Xn(l7);function Ea(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mx(e){let t,r,n;e.length!==2?(t=Ea,r=(l,c)=>Ea(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ea||e===c7?e:u7,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function u7(){return 0}function XP(e){return e===null?NaN:+e}function*d7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const f7=mx(Ea),dc=f7.right;mx(XP).center;class t1 extends Map{constructor(t,r=p7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(r1(this,t))}has(t){return super.has(r1(this,t))}set(t,r){return super.set(h7(this,t),r)}delete(t){return super.delete(m7(this,t))}}function r1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function h7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function m7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function p7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function g7(e=Ea){if(e===Ea)return QP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function QP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const v7=Math.sqrt(50),x7=Math.sqrt(10),y7=Math.sqrt(2);function Td(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=v7?10:s>=x7?5:s>=y7?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Td(e,t,r*2):[l,c,u]}function J0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Td(t,e,r):Td(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Z0(e,t,r){return t=+t,e=+e,r=+r,Td(e,t,r)[2]}function eg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Z0(t,e,r):Z0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function n1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?QP:g7(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));JP(e,t,m,g,a)}const s=e[t];let o=r,l=n;for(Ao(e,r,t),a(e[n],s)>0&&Ao(e,r,n);o<l;){for(Ao(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Ao(e,r,l):(++l,Ao(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ao(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b7(e,t,r){if(e=Float64Array.from(d7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return a1(e);if(t>=1)return n1(e);var n,a=(n-1)*t,s=Math.floor(a),o=n1(JP(e,s).subarray(0,s+1)),l=a1(e.subarray(s+1));return o+(l-o)*(a-s)}}function w7(e,t,r=XP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function j7(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ea(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const tg=Symbol("implicit");function px(){var e=new t1,t=[],r=[],n=tg;function a(s){let o=e.get(s);if(o===void 0){if(n!==tg)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new t1;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return px(t,r).unknown(n)},Ir.apply(a,arguments),a}function gx(){var e=px().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,v=m?n:a;s=(v-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(v-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=j7(h).map(function(x){return g+s*x});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return gx(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ir.apply(f(),arguments)}function ZP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZP(t())},e}function N7(){return ZP(gx.apply(null,arguments).paddingInner(1))}function vx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fc(){}var Ll=.7,Id=1/Ll,Ss="\\s*([+-]?\\d+)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_7=/^#([0-9a-f]{3,8})$/,S7=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),k7=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),E7=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Rl}\\)$`),P7=new RegExp(`^rgba\\(${pn},${pn},${pn},${Rl}\\)$`),O7=new RegExp(`^hsl\\(${Rl},${pn},${pn}\\)$`),A7=new RegExp(`^hsla\\(${Rl},${pn},${pn},${Rl}\\)$`),i1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vx(fc,zl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:s1,formatHex:s1,formatHex8:C7,formatHsl:T7,formatRgb:o1,toString:o1});function s1(){return this.rgb().formatHex()}function C7(){return this.rgb().formatHex8()}function T7(){return tO(this).formatHsl()}function o1(){return this.rgb().formatRgb()}function zl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?l1(t):r===3?new Xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?iu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?iu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=S7.exec(e))?new Xt(t[1],t[2],t[3],1):(t=k7.exec(e))?new Xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=E7.exec(e))?iu(t[1],t[2],t[3],t[4]):(t=P7.exec(e))?iu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=O7.exec(e))?d1(t[1],t[2]/100,t[3]/100,1):(t=A7.exec(e))?d1(t[1],t[2]/100,t[3]/100,t[4]):i1.hasOwnProperty(e)?l1(i1[e]):e==="transparent"?new Xt(NaN,NaN,NaN,0):null}function l1(e){return new Xt(e>>16&255,e>>8&255,e&255,1)}function iu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xt(e,t,r,n)}function I7(e){return e instanceof fc||(e=zl(e)),e?(e=e.rgb(),new Xt(e.r,e.g,e.b,e.opacity)):new Xt}function rg(e,t,r,n){return arguments.length===1?I7(e):new Xt(e,t,r,n??1)}function Xt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}vx(Xt,rg,eO(fc,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xt(pi(this.r),pi(this.g),pi(this.b),Dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c1,formatHex:c1,formatHex8:D7,formatRgb:u1,toString:u1}));function c1(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function D7(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function u1(){const e=Dd(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function Dd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oi(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function d1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,r,n)}function tO(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof fc||(e=zl(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Hr(o,l,c,e.opacity)}function M7(e,t,r,n){return arguments.length===1?tO(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}vx(Hr,M7,eO(fc,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ll:Math.pow(Ll,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xt(Fm(e>=240?e-240:e+120,a,n),Fm(e,a,n),Fm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Hr(f1(this.h),su(this.s),su(this.l),Dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dd(this.opacity);return`${e===1?"hsl(":"hsla("}${f1(this.h)}, ${su(this.s)*100}%, ${su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function f1(e){return e=(e||0)%360,e<0?e+360:e}function su(e){return Math.max(0,Math.min(1,e||0))}function Fm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xx=e=>()=>e;function $7(e,t){return function(r){return e+r*t}}function L7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function R7(e){return(e=+e)==1?rO:function(t,r){return r-t?L7(t,r,e):xx(isNaN(t)?r:t)}}function rO(e,t){var r=t-e;return r?$7(e,r):xx(isNaN(e)?t:e)}const h1=function e(t){var r=R7(t);function n(a,s){var o=r((a=rg(a)).r,(s=rg(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=rO(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function z7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function F7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=io(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function U7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Md(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W7(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=io(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bm=new RegExp(ng.source,"g");function q7(e){return function(){return e}}function H7(e){return function(t){return e(t)+""}}function K7(e,t){var r=ng.lastIndex=Bm.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ng.exec(e))&&(a=Bm.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Md(n,a)})),r=Bm.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?H7(c[0].x):q7(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function io(e,t){var r=typeof t,n;return t==null||r==="boolean"?xx(t):(r==="number"?Md:r==="string"?(n=zl(t))?(t=n,h1):K7:t instanceof zl?h1:t instanceof Date?U7:F7(t)?z7:Array.isArray(t)?B7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W7:Md)(e,t)}function yx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function V7(e,t){t===void 0&&(t=e,e=io);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function G7(e){return function(){return e}}function $d(e){return+e}var m1=[0,1];function zt(e){return e}function ag(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:G7(isNaN(t)?NaN:.5)}function Y7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function X7(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=ag(a,n),s=r(o,s)):(n=ag(n,a),s=r(s,o)),function(l){return s(n(l))}}function Q7(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ag(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=dc(e,l,1,n)-1;return s[c](a[c](l))}}function hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lh(){var e=m1,t=m1,r=io,n,a,s,o=zt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=Y7(e[0],e[h-1])),l=h>2?Q7:X7,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Md)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,$d),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=yx,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function bx(){return lh()(zt,zt)}function J7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ld(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Us(e){return e=Ld(Math.abs(e)),e?e[1]:NaN}function Z7(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function eF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fl(e){if(!(t=tF.exec(e)))throw new Error("invalid format: "+e);var t;return new wx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fl.prototype=wx.prototype;function wx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Rd;function nF(e,t){var r=Ld(e,t);if(!r)return Rd=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Rd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ld(e,Math.max(0,t+s-1))[0]}function p1(e,t){var r=Ld(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const g1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:J7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p1(e*100,t),r:p1,s:nF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v1(e){return e}var x1=Array.prototype.map,y1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aF(e){var t=e.grouping===void 0||e.thousands===void 0?v1:Z7(x1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?v1:eF(x1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Fl(f);var m=f.fill,g=f.align,v=f.sign,y=f.symbol,x=f.zero,w=f.width,b=f.comma,j=f.precision,_=f.trim,N=f.type;N==="n"?(b=!0,N="g"):g1[N]||(j===void 0&&(j=12),_=!0,N="g"),(x||m==="0"&&g==="=")&&(x=!0,m="0",g="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(y==="$"?n:/[%p]/.test(N)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=g1[N],I=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(k){var M=S,L=P,J,Y,Z;if(N==="c")L=C(k)+L,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?c:C(Math.abs(k),j),_&&(k=rF(k)),R&&+k==0&&v!=="+"&&(R=!1),M=(R?v==="("?v:l:v==="-"||v==="("?"":v)+M,L=(N==="s"&&!isNaN(k)&&Rd!==void 0?y1[8+Rd/3]:"")+L+(R&&v==="("?")":""),I){for(J=-1,Y=k.length;++J<Y;)if(Z=k.charCodeAt(J),48>Z||Z>57){L=(Z===46?a+k.slice(J+1):k.slice(J))+L,k=k.slice(0,J);break}}}b&&!x&&(k=t(k,1/0));var B=M.length+k.length+L.length,q=B<w?new Array(w-B+1).join(m):"";switch(b&&x&&(k=t(q+k,q.length?w-L.length:1/0),q=""),g){case"<":k=M+k+L+q;break;case"=":k=M+q+k+L;break;case"^":k=q.slice(0,B=q.length>>1)+M+k+L+q.slice(B);break;default:k=q+M+k+L;break}return s(k)}return O.toString=function(){return f+""},O}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Us(h)/3)))*3,g=Math.pow(10,-m),v=u((f=Fl(f),f.type="f",f),{suffix:y1[8+m/3]});return function(y){return v(g*y)}}return{format:u,formatPrefix:d}}var ou,jx,nO;iF({thousands:",",grouping:[3],currency:["$",""]});function iF(e){return ou=aF(e),jx=ou.format,nO=ou.formatPrefix,ou}function sF(e){return Math.max(0,-Us(Math.abs(e)))}function oF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Us(t)/3)))*3-Us(Math.abs(e)))}function lF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Us(t)-Us(e))+1}function aO(e,t,r,n){var a=eg(e,t,r),s;switch(n=Fl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=oF(a,o))&&(n.precision=s),nO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=sF(a))&&(n.precision=s-(n.type==="%")*2);break}}return jx(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return J0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return aO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Z0(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function iO(){var e=bx();return e.copy=function(){return hc(e,iO())},Ir.apply(e,arguments),Wa(e)}function sO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$d),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sO(e).unknown(t)},e=arguments.length?Array.from(e,$d):[0,1],Wa(r)}function oO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function b1(e){return Math.log(e)}function w1(e){return Math.exp(e)}function cF(e){return-Math.log(-e)}function uF(e){return-Math.exp(-e)}function dF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fF(e){return e===10?dF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j1(e){return(t,r)=>-e(-t,r)}function Nx(e){const t=e(b1,w1),r=t.domain;let n=10,a,s;function o(){return a=hF(n),s=fF(n),r()[0]<0?(a=j1(a),s=j1(s),e(cF,uF)):e(b1,w1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,v;const y=l==null?10:+l;let x=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;x.push(v)}x.length*2<y&&(x=J0(u,d,y))}else x=J0(h,m,Math.min(m-h,y)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fl(c)).precision==null&&(c.trim=!0),c=jx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(oO(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function lO(){const e=Nx(lh()).domain([1,10]);return e.copy=()=>hc(e,lO()).base(e.base()),Ir.apply(e,arguments),e}function N1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _x(e){var t=1,r=e(N1(t),_1(t));return r.constant=function(n){return arguments.length?e(N1(t=+n),_1(t)):t},Wa(r)}function cO(){var e=_x(lh());return e.copy=function(){return hc(e,cO()).constant(e.constant())},Ir.apply(e,arguments)}function S1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pF(e){return e<0?-e*e:e*e}function Sx(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(mF,pF):e(S1(r),S1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function kx(){var e=Sx(lh());return e.copy=function(){return hc(e,kx()).exponent(e.exponent())},Ir.apply(e,arguments),e}function gF(){return kx.apply(null,arguments).exponent(.5)}function k1(e){return Math.sign(e)*e*e}function vF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uO(){var e=bx(),t=[0,1],r=!1,n;function a(s){var o=vF(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(k1(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,$d)).map(k1)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return uO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ir.apply(a,arguments),Wa(a)}function dO(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=w7(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[dc(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ea),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return dO().domain(e).range(t).unknown(n)},Ir.apply(s,arguments)}function fO(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[dc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return fO().domain([e,t]).range(a).unknown(s)},Ir.apply(Wa(o),arguments)}function hO(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[dc(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return hO().domain(e).range(t).unknown(r)},Ir.apply(a,arguments)}const Um=new Date,Wm=new Date;function ot(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>ot(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(Um.setTime(+s),Wm.setTime(+o),e(Um),e(Wm),Math.floor(r(Um,Wm))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const zd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zd);zd.range;const Tn=1e3,Nr=Tn*60,In=Nr*60,qn=In*24,Ex=qn*7,E1=qn*30,qm=qn*365,li=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCSeconds());li.range;const Px=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tn)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());Px.range;const Ox=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());Ox.range;const Ax=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tn-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getHours());Ax.range;const Cx=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCHours());Cx.range;const mc=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/qn,e=>e.getDate()-1);mc.range;const ch=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qn,e=>e.getUTCDate()-1);ch.range;const mO=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qn,e=>Math.floor(e/qn));mO.range;function Li(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Ex)}const uh=Li(0),Fd=Li(1),xF=Li(2),yF=Li(3),Ws=Li(4),bF=Li(5),wF=Li(6);uh.range;Fd.range;xF.range;yF.range;Ws.range;bF.range;wF.range;function Ri(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ex)}const dh=Ri(0),Bd=Ri(1),jF=Ri(2),NF=Ri(3),qs=Ri(4),_F=Ri(5),SF=Ri(6);dh.range;Bd.range;jF.range;NF.range;qs.range;_F.range;SF.range;const Tx=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Tx.range;const Ix=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ix.range;const Hn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hn.range;const Kn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function pO(e,t,r,n,a,s){const o=[[li,1,Tn],[li,5,5*Tn],[li,15,15*Tn],[li,30,30*Tn],[s,1,Nr],[s,5,5*Nr],[s,15,15*Nr],[s,30,30*Nr],[a,1,In],[a,3,3*In],[a,6,6*In],[a,12,12*In],[n,1,qn],[n,2,2*qn],[r,1,Ex],[t,1,E1],[t,3,3*E1],[e,1,qm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=mx(([,,y])=>y).right(o,h);if(m===o.length)return e.every(eg(u/qm,d/qm,f));if(m===0)return zd.every(Math.max(eg(u,d,f),1));const[g,v]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(v)}return[l,c]}const[kF,EF]=pO(Kn,Ix,dh,mO,Cx,Ox),[PF,OF]=pO(Hn,Tx,uh,mc,Ax,Px);function Hm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Km(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Co(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=To(a),d=Io(a),f=To(s),h=Io(s),m=To(o),g=Io(o),v=To(l),y=Io(l),x=To(c),w=Io(c),b={a:Z,A:R,b:B,B:q,c:null,d:I1,e:I1,f:ZF,g:c9,G:d9,H:XF,I:QF,j:JF,L:gO,m:e9,M:t9,p:ee,q:ae,Q:$1,s:L1,S:r9,u:n9,U:a9,V:i9,w:s9,W:o9,x:null,X:null,y:l9,Y:u9,Z:f9,"%":M1},j={a:Ae,A:pe,b:St,B:et,c:null,d:D1,e:D1,f:g9,g:k9,G:P9,H:h9,I:m9,j:p9,L:xO,m:v9,M:x9,p:he,q:$,Q:$1,s:L1,S:y9,u:b9,U:w9,V:j9,w:N9,W:_9,x:null,X:null,y:S9,Y:E9,Z:O9,"%":M1},_={a:I,A:O,b:k,B:M,c:L,d:C1,e:C1,f:KF,g:A1,G:O1,H:T1,I:T1,j:UF,L:HF,m:BF,M:WF,p:C,q:FF,Q:GF,s:YF,S:qF,u:MF,U:$F,V:LF,w:DF,W:RF,x:J,X:Y,y:A1,Y:O1,Z:zF,"%":VF};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(E,F){return function(A){var D=[],te=-1,V=0,qe=E.length,Ye,Mr,mr;for(A instanceof Date||(A=new Date(+A));++te<qe;)E.charCodeAt(te)===37&&(D.push(E.slice(V,te)),(Mr=P1[Ye=E.charAt(++te)])!=null?Ye=E.charAt(++te):Mr=Ye==="e"?" ":"0",(mr=F[Ye])&&(Ye=mr(A,Mr)),D.push(Ye),V=te+1);return D.push(E.slice(V,te)),D.join("")}}function S(E,F){return function(A){var D=Co(1900,void 0,1),te=P(D,E,A+="",0),V,qe;if(te!=A.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(F&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(V=Km(Co(D.y,0,1)),qe=V.getUTCDay(),V=qe>4||qe===0?Bd.ceil(V):Bd(V),V=ch.offset(V,(D.V-1)*7),D.y=V.getUTCFullYear(),D.m=V.getUTCMonth(),D.d=V.getUTCDate()+(D.w+6)%7):(V=Hm(Co(D.y,0,1)),qe=V.getDay(),V=qe>4||qe===0?Fd.ceil(V):Fd(V),V=mc.offset(V,(D.V-1)*7),D.y=V.getFullYear(),D.m=V.getMonth(),D.d=V.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),qe="Z"in D?Km(Co(D.y,0,1)).getUTCDay():Hm(Co(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(qe+5)%7:D.w+D.U*7-(qe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Km(D)):Hm(D)}}function P(E,F,A,D){for(var te=0,V=F.length,qe=A.length,Ye,Mr;te<V;){if(D>=qe)return-1;if(Ye=F.charCodeAt(te++),Ye===37){if(Ye=F.charAt(te++),Mr=_[Ye in P1?F.charAt(te++):Ye],!Mr||(D=Mr(E,A,D))<0)return-1}else if(Ye!=A.charCodeAt(D++))return-1}return D}function C(E,F,A){var D=u.exec(F.slice(A));return D?(E.p=d.get(D[0].toLowerCase()),A+D[0].length):-1}function I(E,F,A){var D=m.exec(F.slice(A));return D?(E.w=g.get(D[0].toLowerCase()),A+D[0].length):-1}function O(E,F,A){var D=f.exec(F.slice(A));return D?(E.w=h.get(D[0].toLowerCase()),A+D[0].length):-1}function k(E,F,A){var D=x.exec(F.slice(A));return D?(E.m=w.get(D[0].toLowerCase()),A+D[0].length):-1}function M(E,F,A){var D=v.exec(F.slice(A));return D?(E.m=y.get(D[0].toLowerCase()),A+D[0].length):-1}function L(E,F,A){return P(E,t,F,A)}function J(E,F,A){return P(E,r,F,A)}function Y(E,F,A){return P(E,n,F,A)}function Z(E){return o[E.getDay()]}function R(E){return s[E.getDay()]}function B(E){return c[E.getMonth()]}function q(E){return l[E.getMonth()]}function ee(E){return a[+(E.getHours()>=12)]}function ae(E){return 1+~~(E.getMonth()/3)}function Ae(E){return o[E.getUTCDay()]}function pe(E){return s[E.getUTCDay()]}function St(E){return c[E.getUTCMonth()]}function et(E){return l[E.getUTCMonth()]}function he(E){return a[+(E.getUTCHours()>=12)]}function $(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var F=N(E+="",b);return F.toString=function(){return E},F},parse:function(E){var F=S(E+="",!1);return F.toString=function(){return E},F},utcFormat:function(E){var F=N(E+="",j);return F.toString=function(){return E},F},utcParse:function(E){var F=S(E+="",!0);return F.toString=function(){return E},F}}}var P1={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,CF=/^%/,TF=/[\\^$*+?|[\]().{}]/g;function ue(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function IF(e){return e.replace(TF,"\\$&")}function To(e){return new RegExp("^(?:"+e.map(IF).join("|")+")","i")}function Io(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function DF(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function MF(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function $F(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LF(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RF(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function O1(e,t,r){var n=gt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function A1(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FF(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function BF(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function C1(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function T1(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=gt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VF(e,t,r){var n=CF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function GF(e,t,r){var n=gt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=gt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function I1(e,t){return ue(e.getDate(),t,2)}function XF(e,t){return ue(e.getHours(),t,2)}function QF(e,t){return ue(e.getHours()%12||12,t,2)}function JF(e,t){return ue(1+mc.count(Hn(e),e),t,3)}function gO(e,t){return ue(e.getMilliseconds(),t,3)}function ZF(e,t){return gO(e,t)+"000"}function e9(e,t){return ue(e.getMonth()+1,t,2)}function t9(e,t){return ue(e.getMinutes(),t,2)}function r9(e,t){return ue(e.getSeconds(),t,2)}function n9(e){var t=e.getDay();return t===0?7:t}function a9(e,t){return ue(uh.count(Hn(e)-1,e),t,2)}function vO(e){var t=e.getDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function i9(e,t){return e=vO(e),ue(Ws.count(Hn(e),e)+(Hn(e).getDay()===4),t,2)}function s9(e){return e.getDay()}function o9(e,t){return ue(Fd.count(Hn(e)-1,e),t,2)}function l9(e,t){return ue(e.getFullYear()%100,t,2)}function c9(e,t){return e=vO(e),ue(e.getFullYear()%100,t,2)}function u9(e,t){return ue(e.getFullYear()%1e4,t,4)}function d9(e,t){var r=e.getDay();return e=r>=4||r===0?Ws(e):Ws.ceil(e),ue(e.getFullYear()%1e4,t,4)}function f9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function D1(e,t){return ue(e.getUTCDate(),t,2)}function h9(e,t){return ue(e.getUTCHours(),t,2)}function m9(e,t){return ue(e.getUTCHours()%12||12,t,2)}function p9(e,t){return ue(1+ch.count(Kn(e),e),t,3)}function xO(e,t){return ue(e.getUTCMilliseconds(),t,3)}function g9(e,t){return xO(e,t)+"000"}function v9(e,t){return ue(e.getUTCMonth()+1,t,2)}function x9(e,t){return ue(e.getUTCMinutes(),t,2)}function y9(e,t){return ue(e.getUTCSeconds(),t,2)}function b9(e){var t=e.getUTCDay();return t===0?7:t}function w9(e,t){return ue(dh.count(Kn(e)-1,e),t,2)}function yO(e){var t=e.getUTCDay();return t>=4||t===0?qs(e):qs.ceil(e)}function j9(e,t){return e=yO(e),ue(qs.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function N9(e){return e.getUTCDay()}function _9(e,t){return ue(Bd.count(Kn(e)-1,e),t,2)}function S9(e,t){return ue(e.getUTCFullYear()%100,t,2)}function k9(e,t){return e=yO(e),ue(e.getUTCFullYear()%100,t,2)}function E9(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function P9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qs(e):qs.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function O9(){return"+0000"}function M1(){return"%"}function $1(e){return+e}function L1(e){return Math.floor(+e/1e3)}var Ki,bO,wO;A9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A9(e){return Ki=AF(e),bO=Ki.format,Ki.parse,wO=Ki.utcFormat,Ki.utcParse,Ki}function C9(e){return new Date(e)}function T9(e){return e instanceof Date?+e:+new Date(+e)}function Dx(e,t,r,n,a,s,o,l,c,u){var d=bx(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?v:s(N)<N?y:n(N)<N?a(N)<N?x:w:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,T9)):h().map(C9)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(oO(S,N)):d},d.copy=function(){return hc(d,Dx(e,t,r,n,a,s,o,l,c,u))},d}function I9(){return Ir.apply(Dx(PF,OF,Hn,Tx,uh,mc,Ax,Px,li,bO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D9(){return Ir.apply(Dx(kF,EF,Kn,Ix,dh,ch,Cx,Ox,li,wO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fh(){var e=0,t=1,r,n,a,s,o=zt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(io),u.rangeRound=d(yx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jO(){var e=Wa(fh()(zt));return e.copy=function(){return qa(e,jO())},ea.apply(e,arguments)}function NO(){var e=Nx(fh()).domain([1,10]);return e.copy=function(){return qa(e,NO()).base(e.base())},ea.apply(e,arguments)}function _O(){var e=_x(fh());return e.copy=function(){return qa(e,_O()).constant(e.constant())},ea.apply(e,arguments)}function Mx(){var e=Sx(fh());return e.copy=function(){return qa(e,Mx()).exponent(e.exponent())},ea.apply(e,arguments)}function M9(){return Mx.apply(null,arguments).exponent(.5)}function SO(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((dc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ea),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>b7(e,s/n))},r.copy=function(){return SO(t).domain(e)},ea.apply(r,arguments)}function hh(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=zt,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(n*v<n*s?l:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function g(v){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,u=V7(v,[x,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(io),m.rangeRound=g(yx),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,a=v(e),s=v(t),o=v(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function kO(){var e=Wa(hh()(zt));return e.copy=function(){return qa(e,kO())},ea.apply(e,arguments)}function EO(){var e=Nx(hh()).domain([.1,1,10]);return e.copy=function(){return qa(e,EO()).base(e.base())},ea.apply(e,arguments)}function PO(){var e=_x(hh());return e.copy=function(){return qa(e,PO()).constant(e.constant())},ea.apply(e,arguments)}function $x(){var e=Sx(hh());return e.copy=function(){return qa(e,$x()).exponent(e.exponent())},ea.apply(e,arguments)}function $9(){return $x.apply(null,arguments).exponent(.5)}const Wo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gx,scaleDiverging:kO,scaleDivergingLog:EO,scaleDivergingPow:$x,scaleDivergingSqrt:$9,scaleDivergingSymlog:PO,scaleIdentity:sO,scaleImplicit:tg,scaleLinear:iO,scaleLog:lO,scaleOrdinal:px,scalePoint:N7,scalePow:kx,scaleQuantile:dO,scaleQuantize:fO,scaleRadial:uO,scaleSequential:jO,scaleSequentialLog:NO,scaleSequentialPow:Mx,scaleSequentialQuantile:SO,scaleSequentialSqrt:M9,scaleSequentialSymlog:_O,scaleSqrt:gF,scaleSymlog:cO,scaleThreshold:hO,scaleTime:I9,scaleUtc:D9,tickFormat:aO},Symbol.toStringTag,{value:"Module"}));var ta=e=>e.chartData,mh=T([ta],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),OO=(e,t,r,n)=>n?mh(e):ta(e),AO=(e,t,r)=>r?mh(e):ta(e);function Vn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(re(t)&&re(r))return!0}return!1}function R1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(re(r))a=r;else if(typeof r=="function")return;if(re(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(Vn(o))return o}}function L9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Vn(n))return R1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(H(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&rj.test(a)){var c=rj.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(H(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&nj.test(s)){var d=nj.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Vn(h))return t==null?h:R1(h,t,r)}}}var so=1e9,R9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rx,Pe=!0,Tr="[DecimalError] ",gi=Tr+"Invalid argument: ",Lx=Tr+"Exponent out of range: ",oo=Math.floor,ti=Math.pow,z9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,dt=1e7,Ne=7,TO=9007199254740991,Ud=oo(TO/Ne),Q={};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Q.comparedTo=Q.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ne;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Q.dividedBy=Q.div=function(e){return $n(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.idiv=function(e){var t=this,r=t.constructor;return ge($n(t,new r(e),0,1),r.precision)};Q.equals=Q.eq=function(e){return!this.cmp(e)};Q.exponent=function(){return Ze(this)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){return this.cmp(e)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nr))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(nr)?new n(0):(Pe=!1,t=$n(Bl(r,s),Bl(e,s),s),Pe=!0,ge(t,a))};Q.minus=Q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MO(t,e):IO(t,(e.s=-e.s,e))};Q.modulo=Q.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?(Pe=!1,t=$n(r,e,0,1).times(e),Pe=!0,r.minus(t)):ge(new n(r),a)};Q.naturalExponential=Q.exp=function(){return DO(this)};Q.naturalLogarithm=Q.ln=function(){return Bl(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Q.plus=Q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IO(t,e):MO(t,(e.s=-e.s,e))};Q.precision=Q.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gi+e);if(t=Ze(a)+1,n=a.d.length-1,r=n*Ne+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Q.squareRoot=Q.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(e=Ze(l),Pe=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=dn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=oo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus($n(l,s,o+2)).times(.5),dn(s.d).slice(0,o)===(t=dn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ge(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Pe=!0,ge(n,r)};Q.times=Q.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%dt|0,t=l/dt|0;s[a]=(s[a]+t)%dt|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Pe?ge(e,f.precision):e};Q.toDecimalPlaces=Q.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vn(e,0,so),t===void 0?t=n.rounding:vn(t,0,8),ge(r,e+Ze(r)+1,t))};Q.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ai(n,!0):(vn(e,0,so),t===void 0?t=a.rounding:vn(t,0,8),n=ge(new a(n),e+1,t),r=Ai(n,!0,e+1)),r};Q.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Ai(a):(vn(e,0,so),t===void 0?t=s.rounding:vn(t,0,8),n=ge(new s(a),e+Ze(a)+1,t),r=Ai(n.abs(),!1,e+Ze(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Q.toInteger=Q.toint=function(){var e=this,t=e.constructor;return ge(new t(e),Ze(e)+1,t.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(nr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(nr))return l;if(n=c.precision,e.eq(nr))return ge(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=TO){for(a=new c(nr),t=Math.ceil(n/Ne+4),Pe=!1;r%2&&(a=a.times(l),F1(a.d,t)),r=oo(r/2),r!==0;)l=l.times(l),F1(l.d,t);return Pe=!0,e.s<0?new c(nr).div(a):ge(a,n)}}else if(s<0)throw Error(Tr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Pe=!1,a=e.times(Bl(l,n+u)),Pe=!0,a=DO(a),a.s=s,a};Q.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ze(a),n=Ai(a,r<=s.toExpNeg||r>=s.toExpPos)):(vn(e,1,so),t===void 0?t=s.rounding:vn(t,0,8),a=ge(new s(a),e,t),r=Ze(a),n=Ai(a,e<=r||r<=s.toExpNeg,e)),n};Q.toSignificantDigits=Q.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vn(e,1,so),t===void 0?t=n.rounding:vn(t,0,8)),ge(new n(r),e,t)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ze(e),r=e.constructor;return Ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function IO(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Pe?ge(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Ne),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/dt|0,c[s]%=dt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Pe?ge(t,f):t}function vn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gi+e)}function dn(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Ne-n.length,r&&(s+=la(r)),s+=n;o=e[t],n=o+"",r=Ne-n.length,r&&(s+=la(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var $n=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%dt|0,o=s/dt|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*dt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,g,v,y,x,w,b,j,_,N,S,P,C=n.constructor,I=n.s==a.s?1:-1,O=n.d,k=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Tr+"Division by zero");for(c=n.e-a.e,S=k.length,_=O.length,m=new C(I),g=m.d=[],u=0;k[u]==(O[u]||0);)++u;if(k[u]>(O[u]||0)&&--c,s==null?w=s=C.precision:o?w=s+(Ze(n)-Ze(a))+1:w=s,w<0)return new C(0);if(w=w/Ne+2|0,u=0,S==1)for(d=0,k=k[0],w++;(u<_||d)&&w--;u++)b=d*dt+(O[u]||0),g[u]=b/k|0,d=b%k|0;else{for(d=dt/(k[0]+1)|0,d>1&&(k=e(k,d),O=e(O,d),S=k.length,_=O.length),j=S,v=O.slice(0,S),y=v.length;y<S;)v[y++]=0;P=k.slice(),P.unshift(0),N=k[0],k[1]>=dt/2&&++N;do d=0,l=t(k,v,S,y),l<0?(x=v[0],S!=y&&(x=x*dt+(v[1]||0)),d=x/N|0,d>1?(d>=dt&&(d=dt-1),f=e(k,d),h=f.length,y=v.length,l=t(f,v,h,y),l==1&&(d--,r(f,S<h?P:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<y&&f.unshift(0),r(v,f,y),l==-1&&(y=v.length,l=t(k,v,S,y),l<1&&(d++,r(v,S<y?P:k,y))),y=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[y++]=O[j]||0:(v=[O[j]],y=1);while((j++<_||v[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=c,ge(m,o?s+Ze(m)+1:s)}}();function DO(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ze(e)>16)throw Error(Lx+Ze(e));if(!e.s)return new d(nr);for(t==null?(Pe=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ti(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(nr),d.precision=l;;){if(a=ge(a.times(e),l),r=r.times(++c),o=s.plus($n(a,r,l)),dn(o.d).slice(0,l)===dn(s.d).slice(0,l)){for(;u--;)s=ge(s.times(s),l);return d.precision=f,t==null?(Pe=!0,ge(s,f)):s}s=o}}function Ze(e){for(var t=e.e*Ne,r=e.d[0];r>=10;r/=10)t++;return t}function Vm(e,t,r){if(t>e.LN10.sd())throw Pe=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return ge(new e(e.LN10),t)}function la(e){for(var t="";e--;)t+="0";return t}function Bl(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(Tr+(m.s?"NaN":"-Infinity"));if(m.eq(nr))return new v(0);if(t==null?(Pe=!1,u=y):u=t,m.eq(10))return t==null&&(Pe=!0),Vm(v,u);if(u+=h,v.precision=u,r=dn(g),n=r.charAt(0),s=Ze(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=dn(m.d),n=r.charAt(0),f++;s=Ze(m),n>1?(m=new v("0."+r),s++):m=new v(n+"."+r.slice(1))}else return c=Vm(v,u+2,y).times(s+""),m=Bl(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=y,t==null?(Pe=!0,ge(m,y)):m;for(l=o=m=$n(m.minus(nr),m.plus(nr),u),d=ge(m.times(m),u),a=3;;){if(o=ge(o.times(d),u),c=l.plus($n(o,new v(a),u)),dn(c.d).slice(0,u)===dn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Vm(v,u+2,y).times(s+""))),l=$n(l,new v(f),u),v.precision=y,t==null?(Pe=!0,ge(l,y)):l;l=c,a+=2}}function z1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=oo(r/Ne),e.d=[],n=(r+1)%Ne,r<0&&(n+=Ne),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ne;n<a;)e.d.push(+t.slice(n,n+=Ne));t=t.slice(n),n=Ne-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Pe&&(e.e>Ud||e.e<-Ud))throw Error(Lx+r)}else e.s=0,e.e=0,e.d=[0];return e}function ge(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Ne,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ne),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Ne,a=n-Ne+o}if(r!==void 0&&(s=ti(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ti(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Ze(e),f.length=1,t=t-s-1,f[0]=ti(10,(Ne-t%Ne)%Ne),e.e=oo(-t/Ne)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ti(10,Ne-n),f[d]=a>0?(u/ti(10,o-a)%ti(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==dt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=dt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Pe&&(e.e>Ud||e.e<-Ud))throw Error(Lx+Ze(e));return e}function MO(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Pe?ge(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Ne),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=dt-1;--c[s],c[a]+=dt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Pe?ge(t,m):t):new h(0)}function Ai(e,t,r){var n,a=Ze(e),s=dn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+la(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+la(-a-1)+s,r&&(n=r-o)>0&&(s+=la(n))):a>=o?(s+=la(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+la(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=la(n))),e.s<0?"-"+s:s}function F1(e,t){if(e.length>t)return e.length=t,!0}function $O(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gi+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return z1(o,s.toString())}else if(typeof s!="string")throw Error(gi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,z9.test(s))z1(o,s);else throw Error(gi+s)}if(a.prototype=Q,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=$O,a.config=a.set=F9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function F9(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,a=["precision",1,so,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(oo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gi+r+": "+n);return this}var Rx=$O(R9);nr=new Rx(1);const de=Rx;function LO(e){var t;return e===0?t=1:t=Math.floor(new de(e).abs().log(10).toNumber())+1,t}function RO(e,t,r){for(var n=new de(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var zO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},FO=(e,t,r)=>{if(e.lte(0))return new de(0);var n=LO(e.toNumber()),a=new de(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new de(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new de(c.toNumber()):new de(Math.ceil(c.toNumber()))},B9=(e,t,r)=>{var n=new de(1),a=new de(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new de(10).pow(LO(e)-1),a=new de(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new de(Math.floor(e)))}else e===0?a=new de(Math.floor((t-1)/2)):r||(a=new de(Math.floor(e)));for(var o=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(a.add(new de(c-o).mul(n)).toNumber());return l},BO=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new de(0),tickMin:new de(0),tickMax:new de(0)};var o=FO(new de(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new de(0):(l=new de(t).add(r).div(2),l=l.sub(new de(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new de(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?BO(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new de(c).mul(o)),tickMax:l.add(new de(u).mul(o))})},U9=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=zO([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return B9(l,a,s);var{step:d,tickMin:f,tickMax:h}=BO(l,c,o,s,0),m=RO(f,h.add(new de(.1).mul(d)),d);return r>n?m.reverse():m},W9=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=zO([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=FO(new de(l).sub(o).div(c-1),s,0),d=[...RO(new de(o),new de(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},UO=e=>e.rootProps.maxBarSize,q9=e=>e.rootProps.barGap,WO=e=>e.rootProps.barCategoryGap,H9=e=>e.rootProps.barSize,pc=e=>e.rootProps.stackOffset,qO=e=>e.rootProps.reverseStackOrder,zx=e=>e.options.chartName,Fx=e=>e.rootProps.syncId,HO=e=>e.rootProps.syncMethod,Bx=e=>e.options.eventEmitter,K9=e=>e.rootProps.baseValue,Ie={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ya={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Ie.axis},rn={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Ie.axis},ph=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function gh(e,t,r){if(r!=="auto")return r;if(e!=null)return yn(e,t)?"category":"number"}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){V9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U1={allowDataOverflow:Ya.allowDataOverflow,allowDecimals:Ya.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ya.angleAxisId,includeHidden:!1,name:void 0,reversed:Ya.reversed,scale:Ya.scale,tick:Ya.tick,tickCount:void 0,ticks:void 0,type:Ya.type,unit:void 0},W1={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:rn.includeHidden,name:void 0,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:rn.type,unit:void 0},X9=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Ux=T([X9,SP],(e,t)=>{var r;if(e!=null)return e;var n=(r=gh(t,"angleAxis",U1.type))!==null&&r!==void 0?r:"category";return Wd(Wd({},U1),{},{type:n})}),Q9=(e,t)=>e.polarAxis.radiusAxis[t],Wx=T([Q9,SP],(e,t)=>{var r;if(e!=null)return e;var n=(r=gh(t,"radiusAxis",W1.type))!==null&&r!==void 0?r:"category";return Wd(Wd({},W1),{},{type:n})}),vh=e=>e.polarOptions,qx=T([Jn,Zn,st],UP),KO=T([vh,qx],(e,t)=>{if(e!=null)return Tt(e.innerRadius,t,0)}),VO=T([vh,qx],(e,t)=>{if(e!=null)return Tt(e.outerRadius,t,t*.8)}),J9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GO=T([vh],J9);T([Ux,GO],ph);var YO=T([qx,KO,VO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([Wx,YO],ph);var XO=T([ce,vh,KO,VO,Jn,Zn],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Tt(o,a,a/2),cy:Tt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),$e=(e,t)=>t,gc=(e,t,r)=>r;function xh(e){return e==null?void 0:e.id}function QO(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=xh(l);u.forEach((f,h)=>{var m=s==null||a?h:String(me(f,s,null)),g=me(f,l.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:g}),o.set(m,v)})}}),Array.from(o.values())}function yh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var bh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function wh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Z9(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var vt=e=>{var t=ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lo=e=>e.tooltip.settings.axisId;function eB(e){if(e in Wo)return Wo[e]();var t="scale".concat(ec(e));if(t in Wo)return Wo[t]()}function q1(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(s){function o(){return s.apply(this,arguments)}return o.toString=function(){return s.toString()},o}(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var o=a[0],l=a[1];return o<=l?s>=o&&s<=l:s>=l&&s<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,o)=>{var l=e(s);if(l!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function H1(e,t,r){if(typeof e=="function")return q1(e.copy().domain(t).range(r));if(e!=null){var n=eB(e);if(n!=null)return n.domain(t).range(r),q1(n)}}var JO=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Vn(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];re(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){tB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tB(e,t,r){return(t=rB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rB(e){var t=nB(e,"string");return typeof t=="symbol"?t:t+""}function nB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=[0,"auto"],ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZO=(e,t)=>e.cartesianAxis.xAxis[t],bn=(e,t)=>{var r=ZO(e,t);return r??ct},ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ig,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ac},eA=(e,t)=>e.cartesianAxis.yAxis[t],wn=(e,t)=>{var r=eA(e,t);return r??ut},aB={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??aB},We=(e,t,r)=>{switch(t){case"xAxis":return bn(e,r);case"yAxis":return wn(e,r);case"zAxis":return Hx(e,r);case"angleAxis":return Ux(e,r);case"radiusAxis":return Wx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iB=(e,t,r)=>{switch(t){case"xAxis":return bn(e,r);case"yAxis":return wn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},co=(e,t,r)=>{switch(t){case"xAxis":return bn(e,r);case"yAxis":return wn(e,r);case"angleAxis":return Ux(e,r);case"radiusAxis":return Wx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jh=e=>e.graphicalItems.cartesianItems,sB=T([$e,gc],Kx),Vx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),vc=T([jh,We,sB],Vx,{memoizeOptions:{resultEqualityCheck:wh}}),rA=T([vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yh)),nA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),oB=T([vc],nA),Gx=e=>e.map(t=>t.data).filter(Boolean).flat(1),lB=T([vc],Gx,{memoizeOptions:{resultEqualityCheck:wh}}),Yx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Xx=T([lB,OO],Yx),Qx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:me(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:me(a,n)}))):e.map(n=>({value:n})),Nh=T([Xx,We,vc],Qx);function aA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ou(e){if(Ar(e)||e instanceof Date){var t=Number(e);if(re(t))return t}}function V1(e){if(Array.isArray(e)){var t=[Ou(e[0]),Ou(e[1])];return Vn(t)?t:void 0}var r=Ou(e);if(r!=null)return[r,r]}function Gn(e){return e.map(Ou).filter(Yt)}function cB(e,t,r){return!r||typeof t!="number"||Xr(t)?[]:r.length?Gn(r.flatMap(n=>{var a=me(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!re(s)||!re(o)))return[t-s,t+o]})):[]}var lt=e=>{var t=vt(e),r=lo(e);return co(e,t,r)},xc=T([lt],e=>e==null?void 0:e.dataKey),uB=T([rA,OO,lt],QO),iA=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>{if(l.stackId==null)return o;var c=o[l.stackId];return c==null&&(c=[]),c.push(l),o[l.stackId]=c,o},a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(xh);return[l,{stackedData:zR(e,d,r),graphicalItems:u}]}))},Hd=T([uB,rA,pc,qO],iA),sA=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=WR(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},dB=T([We],e=>e.allowDataOverflow),Jx=e=>{var t;if(e==null||!("domain"in e))return ig;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ig},Zx=T([We],Jx),ey=T([Zx,dB],CO),fB=T([Hd,ta,$e,ey],sA,{memoizeOptions:{resultEqualityCheck:bh}}),_h=e=>e.errorBars,hB=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>aA(r,n)),Kd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},ty=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>aA(a,x)),h=me(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=cB(l,h,f);if(m.length>=2){var g=Math.min(...m),v=Math.max(...m);(s==null||g<s)&&(s=g),(o==null||v>o)&&(o=v)}var y=V1(h);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=V1(me(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),re(s)&&re(o))return[s,o]},mB=T([Xx,We,oB,_h,$e],ty,{memoizeOptions:{resultEqualityCheck:bh}});function pB(e){var{value:t}=e;if(Ar(t)||t instanceof Date)return t}var gB=(e,t,r)=>{var n=e.map(pB).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tE(n))?YP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},oA=e=>e.referenceElements.dots,uo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),vB=T([oA,$e,gc],uo),lA=e=>e.referenceElements.areas,xB=T([lA,$e,gc],uo),cA=e=>e.referenceElements.lines,yB=T([cA,$e,gc],uo),uA=(e,t)=>{if(e!=null){var r=Gn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},bB=T(vB,$e,uA),dA=(e,t)=>{if(e!=null){var r=Gn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},wB=T([xB,$e],dA);function jB(e){var t;if(e.x!=null)return Gn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gn(r)}function NB(e){var t;if(e.y!=null)return Gn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gn(r)}var fA=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?jB(n):NB(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_B=T([yB,$e],fA),SB=T(bB,_B,wB,(e,t,r)=>Kd(e,r,t)),ry=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?Kd(n,s,a):Kd(s,a);return L9(t,u,e.allowDataOverflow)},kB=T([We,Zx,ey,fB,mB,SB,ce,$e],ry,{memoizeOptions:{resultEqualityCheck:bh}}),EB=[0,1],ny=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=yn(t,s);if(u&&l==null){var d;return YP(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?gB(n,e,u):a==="expand"?EB:o}},ay=T([We,ce,Xx,Nh,pc,$e,kB],ny);function PB(e){return e in Wo}var hA=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat(ec(n));return PB(s)?s:"point"}}},Ha=T([We,tA,zx],hA);function iy(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?H1(e.scale,r,n):H1(t,r,n)}var sy=(e,t,r)=>{var n=Jx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Vn(e))return U9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Vn(e))return W9(e,t.tickCount,t.allowDecimals)}},oy=T([ay,co,Ha],sy),ly=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Vn(t)&&Array.isArray(r)&&r.length>0){var a,s,o=t[0],l=(a=r[0])!==null&&a!==void 0?a:0,c=t[1],u=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(o,l),Math.max(c,u)]}return t},OB=T([We,ay,oy,$e],ly),AB=T(Nh,We,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var o=s-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),mA=T(AB,ce,WO,st,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!re(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=Tt(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),CB=(e,t,r)=>{var n=bn(e,t);return n==null||typeof n.padding!="string"?0:mA(e,"xAxis",t,r,n.padding)},TB=(e,t,r)=>{var n=wn(e,t);return n==null||typeof n.padding!="string"?0:mA(e,"yAxis",t,r,n.padding)},IB=T(bn,CB,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),DB=T(wn,TB,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),MB=T([st,IB,ah,nh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),$B=T([st,ce,DB,ah,nh,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return MB(e,r,n);case"yAxis":return $B(e,r,n);case"zAxis":return(a=Hx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GO(e);case"radiusAxis":return YO(e,r);default:return}},pA=T([We,yc],ph),LB=T([Ha,OB],JO),Hs=T([We,Ha,LB,pA],iy);T([vc,_h,$e],hB);function gA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sh=(e,t)=>t,kh=(e,t,r)=>r,RB=T(th,Sh,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gA)),zB=T(rh,Sh,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(gA)),vA=(e,t)=>({width:e.width,height:t.height}),FB=(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}},xA=T(st,bn,vA),BB=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},UB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},WB=T(Zn,st,RB,Sh,kh,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=vA(t,l);o==null&&(o=BB(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),qB=T(Jn,st,zB,Sh,kh,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=FB(t,l);o==null&&(o=UB(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),HB=(e,t)=>{var r=bn(e,t);if(r!=null)return WB(e,r.orientation,r.mirror)},KB=T([st,bn,HB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),VB=(e,t)=>{var r=wn(e,t);if(r!=null)return qB(e,r.orientation,r.mirror)},GB=T([st,wn,VB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),yA=T(st,wn,(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}}),G1=(e,t,r)=>{switch(t){case"xAxis":return xA(e,r).width;case"yAxis":return yA(e,r).height;default:return}},bA=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=yn(e,n),c=t.map(u=>u.value);if(o&&l&&s==="category"&&a&&tE(c))return c}},cy=T([ce,Nh,We,$e],bA),wA=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=yn(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},uy=T([ce,Nh,co,$e],wA),Y1=T([ce,iB,Ha,Hs,cy,uy,yc,oy,$e],(e,t,r,n,a,s,o,l,c)=>{if(t!=null){var u=yn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),YB=(e,t,r,n,a,s,o,l,c)=>{if(!(t==null||n==null)){var u=yn(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?mt(s[0]-s[1])*2*g:g;var v=f||a;return v?v.map((y,x)=>{var w=o?o.indexOf(y):y,b=n.map(w);return re(b)?{index:x,coordinate:b+g,value:y,offset:g}:null}).filter(Yt):u&&l?l.map((y,x)=>{var w=n.map(y);return re(w)?{coordinate:w+g,value:y,index:x,offset:g}:null}).filter(Yt):n.ticks?n.ticks(h).map((y,x)=>{var w=n.map(y);return re(w)?{coordinate:w+g,value:y,index:x,offset:g}:null}).filter(Yt):n.domain().map((y,x)=>{var w=n.map(y);return re(w)?{coordinate:w+g,value:o?o[y]:y,index:x,offset:g}:null}).filter(Yt)}},jA=T([ce,co,Ha,Hs,oy,yc,cy,uy,$e],YB),XB=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=yn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?mt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>{var h=r.map(d);return re(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Yt):r.ticks?r.ticks(c).map((d,f)=>{var h=r.map(d);return re(h)?{coordinate:h+u,value:d,index:f,offset:u}:null}).filter(Yt):r.domain().map((d,f)=>{var h=r.map(d);return re(h)?{coordinate:h+u,value:a?a[d]:d,index:f,offset:u}:null}).filter(Yt)}},Ta=T([ce,co,Hs,yc,cy,uy,$e],XB),Ia=T(We,Hs,(e,t)=>{if(!(e==null||t==null))return qd(qd({},e),{},{scale:t})}),QB=T([We,Ha,ay,pA],iy);T((e,t,r)=>Hx(e,r),QB,(e,t)=>{if(!(e==null||t==null))return qd(qd({},e),{},{scale:t})});var JB=T([ce,th,rh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),NA=e=>e.options.defaultTooltipEventType,_A=e=>e.options.validateTooltipEventTypes;function SA(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function dy(e,t){var r=NA(e),n=_A(e);return SA(t,r,n)}function ZB(e){return G(t=>dy(t,e))}var kA=(e,t)=>{var r,n=Number(t);if(!(Xr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},eU=e=>e.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},tU={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},EA=tr({name:"tooltip",initialState:tU,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ke()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ke()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ke()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:rU,replaceTooltipEntrySettings:nU,removeTooltipEntrySettings:aU,setTooltipSettingsState:iU,setActiveMouseOverItemIndex:PA,mouseLeaveItem:sU,mouseLeaveChart:OA,setActiveClickItemIndex:oU,setMouseOverAxisIndex:AA,setMouseClickAxisIndex:lU,setSyncInteraction:sg,setKeyboardInteraction:og}=EA.actions,cU=EA.reducer;function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){uU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uU(e,t,r){return(t=dU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mU(e){return e.index!=null}var CA=(e,t,r,n)=>{if(t==null)return ha;var a=hU(e,t,r);if(a==null)return ha;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(mU(a)){if(s)return lu(lu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return lu(lu({},ha),{},{coordinate:a.coordinate})};function pU(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function gU(e,t){var r=pU(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function vU(e,t,r){if(r==null||t==null)return!0;var n=me(e,t);return n==null||!Vn(r)?!0:gU(n,r)}var fy=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!re(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||vU(u,r,n)?String(c):null},TA=(e,t,r,n,a,s,o)=>{if(s!=null){var l=o[0],c=l==null?void 0:l.getPosition(s);if(c!=null)return c;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},IA=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},DA=e=>e.options.tooltipPayloadSearcher,fo=e=>e.tooltip;function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=bU(e,"string");return typeof t=="symbol"?t:t+""}function bU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wU(e,t){return e??t}var MA=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:v,settings:y}=m,x=wU(v,l),w=Array.isArray(x)?dP(x,u,d):x,b=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,j=y==null?void 0:y.nameKey,_;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?_=rE(w,n,a):_=s(w,t,c,j),Array.isArray(_))_.forEach(S=>{var P=J1(J1({},y),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(aj({tooltipEntrySettings:P,dataKey:S.dataKey,payload:S.payload,value:me(S.payload,S.dataKey),name:S.name}))});else{var N;h.push(aj({tooltipEntrySettings:y,dataKey:b,payload:_,value:me(_,b),name:(N=me(_,j))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},hy=T([lt,tA,zx],hA),jU=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NU=T([vt,lo],Kx),ho=T([jU,lt,NU],Vx,{memoizeOptions:{resultEqualityCheck:wh}}),_U=T([ho],e=>e.filter(yh)),SU=T([ho],Gx,{memoizeOptions:{resultEqualityCheck:wh}}),mo=T([SU,ta],Yx),kU=T([_U,ta,lt],QO),my=T([mo,lt,ho],Qx),$A=T([lt],Jx),EU=T([lt],e=>e.allowDataOverflow),LA=T([$A,EU],CO),PU=T([ho],e=>e.filter(yh)),OU=T([kU,PU,pc,qO],iA),AU=T([OU,ta,vt,LA],sA),CU=T([ho],nA),TU=T([mo,lt,CU,_h,vt],ty,{memoizeOptions:{resultEqualityCheck:bh}}),IU=T([oA,vt,lo],uo),DU=T([IU,vt],uA),MU=T([lA,vt,lo],uo),$U=T([MU,vt],dA),LU=T([cA,vt,lo],uo),RU=T([LU,vt],fA),zU=T([DU,RU,$U],Kd),FU=T([lt,$A,LA,AU,TU,zU,ce,vt],ry),bc=T([lt,ce,mo,my,pc,vt,FU],ny),BU=T([bc,lt,hy],sy),UU=T([lt,bc,BU,vt],ly),RA=e=>{var t=vt(e),r=lo(e),n=!1;return yc(e,t,r,n)},zA=T([lt,RA],ph),FA=T([lt,hy,UU,zA],iy),WU=T([ce,my,lt,vt],bA),qU=T([ce,my,lt,vt],wA),HU=(e,t,r,n,a,s,o,l)=>{if(t){var{type:c}=t,u=yn(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?mt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>{var g=n.map(h);return re(g)?{coordinate:g+f,value:h,index:m,offset:f}:null}).filter(Yt):n.domain().map((h,m)=>{var g=n.map(h);return re(g)?{coordinate:g+f,value:s?s[h]:h,index:m,offset:f}:null}).filter(Yt)}}},ra=T([ce,lt,hy,FA,RA,WU,qU,vt],HU),py=T([NA,_A,eU],(e,t,r)=>SA(r.shared,e,t)),BA=e=>e.tooltip.settings.trigger,gy=e=>e.tooltip.settings.defaultIndex,wc=T([fo,py,BA,gy],CA),Da=T([wc,mo,xc,bc],fy),UA=T([ra,Da],kA),vy=T([wc],e=>{if(e)return e.dataKey}),KU=T([wc],e=>{if(e)return e.graphicalItemId}),WA=T([fo,py,BA,gy],IA),VU=T([Jn,Zn,ce,st,ra,gy,WA],TA),GU=T([wc,VU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),YU=T([wc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),XU=T([WA,Da,ta,xc,UA,DA,py],MA),QU=T([XU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tW=()=>G(lt),rW=()=>{var e=tW(),t=G(ra),r=G(FA);return zs(!e||!r?void 0:eN(eN({},e),{},{scale:r}),t)};function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sW=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},oW=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return Vi(Vi(Vi({},n),Je(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:c}=n;return Vi(Vi(Vi({},n),Je(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var qA=(e,t,r,n,a)=>{var s,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c,u,d,f,h,m=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,v=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||g==null||v==null))if(mt(g-m)!==mt(v-g)){var x=[];if(mt(v-g)===mt(a[1]-a[0])){y=v;var w=g+a[1]-a[0];x[0]=Math.min(w,(w+m)/2),x[1]=Math.max(w,(w+m)/2)}else{y=m;var b=v+a[1]-a[0];x[0]=Math.min(g,(b+g)/2),x[1]=Math.max(g,(b+g)/2)}var j=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>j[0]&&e<=j[1]||e>=x[0]&&e<=x[1]){var _;return(_=r[l])===null||_===void 0?void 0:_.index}}else{var N=Math.min(m,v),S=Math.max(m,v);if(e>(N+g)/2&&e<=(S+g)/2){var P;return(P=r[l])===null||P===void 0?void 0:P.index}}}else if(t)for(var C=0;C<o;C++){var I=t[C];if(I!=null){var O=t[C+1],k=t[C-1];if(C===0&&O!=null&&e<=(I.coordinate+O.coordinate)/2||C===o-1&&k!=null&&e>(I.coordinate+k.coordinate)/2||C>0&&C<o-1&&k!=null&&O!=null&&e>(I.coordinate+k.coordinate)/2&&e<=(I.coordinate+O.coordinate)/2)return I.index}}return-1},HA=()=>G(zx),xy=(e,t)=>t,KA=(e,t,r)=>r,yy=(e,t,r,n)=>n,cW=T(ra,e=>Hf(e,t=>t.coordinate)),by=T([fo,xy,KA,yy],CA),wy=T([by,mo,xc,bc],fy),uW=(e,t,r)=>{if(t!=null){var n=fo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},VA=T([fo,xy,KA,yy],IA),Vd=T([Jn,Zn,ce,st,ra,yy,VA],TA),dW=T([by,Vd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),GA=T([ra,wy],kA),fW=T([VA,wy,ta,xc,GA,DA,xy],MA),hW=T([by,wy],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),mW=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&lW(e,o)){var l=qR(e,t),c=qA(l,s,a,r,n),u=sW(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},pW=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=n7(e,r);if(l){var c=HR(l,t),u=qA(c,o,s,n,a),d=oW(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},gW=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?mW(e,t,n,a,s,o,l):pW(e,t,r,n,a,s,o)},vW=T(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),xW=T(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ie)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Z9}});function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW={},NW={zIndexMap:Object.values(Ie).reduce((e,t)=>nN(nN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),jW)},_W=new Set(Object.values(Ie));function SW(e){return _W.has(e)}var YA=tr({name:"zIndex",initialState:NW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ke()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!SW(r)&&delete e.zIndexMap[r])},prepare:ke()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:ke()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ke()}}}),{registerZIndexPortal:kW,unregisterZIndexPortal:EW,registerZIndexPortalElement:PW,unregisterZIndexPortalElement:OW}=YA.actions,AW=YA.reducer;function qt(e){var{zIndex:t,children:r}=e,n=xz(),a=n&&t!==void 0&&t!==0,s=_t(),o=ve();p.useLayoutEffect(()=>a?(o(kW({zIndex:t})),()=>{o(EW({zIndex:t}))}):Mi,[o,t,a]);var l=G(c=>vW(c,t,s));return a?l?_f.createPortal(r,l):null:r}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(null,arguments)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function MW(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,v,y;if(d==="ScatterChart")g=f,v=v8,y=Ie.cursorLine;else if(d==="BarChart")g=x8(l,f,s,o),v=BP,y=Ie.cursorRectangle;else if(l==="radial"&&aE(f)){var{cx:x,cy:w,radius:b,startAngle:j,endAngle:_}=WP(f);g={cx:x,cy:w,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},v=HP,y=Ie.cursorLine}else g={points:o7(l,f,s)},v=_s,y=Ie.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,S=cu(cu(cu(cu({stroke:"#ccc",pointerEvents:"none"},s),g),Ni(c)),{},{payload:h,payloadIndex:m,className:le("recharts-tooltip-cursor",N)});return p.createElement(qt,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},p.createElement(DW,{cursor:c,cursorComp:v,cursorProps:S}))}function $W(e){var t=rW(),r=_P(),n=$i(),a=HA();return t==null||r==null||n==null||a==null?null:p.createElement(MW,lg({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var XA=p.createContext(null),LW=()=>p.useContext(XA),QA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,_;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==d||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(QA);var RW=QA.exports;const zW=Xn(RW);var Ul=new zW,cg="recharts.syncEvent.tooltip",iN="recharts.syncEvent.brush",jy=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Xr(r))return e[r]}},FW={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},JA=tr({name:"options",initialState:FW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BW=JA.reducer,{createEventEmitter:UW}=JA.actions;function WW(e){return e.tooltip.syncInteraction}var qW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZA=tr({name:"chartData",initialState:qW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:sN,setDataStartEndIndexes:HW,setComputedData:$J}=ZA.actions,KW=ZA.reducer,VW=["x","y"];function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t){if(e==null)return{};var r,n,a=JW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZW(){var e=G(Fx),t=G(Bx),r=ve(),n=G(HO),a=G(ra),s=$i(),o=ic(),l=G(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return Mi;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:v}=m,y=QW(m,VW),{x,y:w,width:b,height:j}=d.payload.sourceViewBox,_=Gi(Gi({},y),{},{x:o.x+(b?(g-x)/b:0)*o.width,y:o.y+(j?(v-w)/j:0)*o.height});r(Gi(Gi({},d),{},{payload:Gi(Gi({},d.payload),{},{coordinate:_})}))}else r(d);return}if(a!=null){var N;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=n(a,S);N=a[P]}else n==="value"&&(N=a.find(Y=>String(Y.value)===d.payload.label));var{coordinate:C}=d.payload;if(N==null||d.payload.active===!1||C==null||o==null){r(sg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:O}=C,k=Math.min(I,o.x+o.width),M=Math.min(O,o.y+o.height),L={x:s==="horizontal"?N.coordinate:k,y:s==="horizontal"?M:N.coordinate},J=sg({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(J)}}};return Ul.on(cg,c),()=>{Ul.off(cg,c)}},[l,r,t,e,n,a,s,o])}function eq(){var e=G(Fx),t=G(Bx),r=ve();p.useEffect(()=>{if(e==null)return Mi;var n=(a,s,o)=>{t!==o&&e===a&&r(HW(s))};return Ul.on(iN,n),()=>{Ul.off(iN,n)}},[r,t,e])}function tq(){var e=ve();p.useEffect(()=>{e(UW())},[e]),ZW(),eq()}function rq(e,t,r,n,a,s){var o=G(m=>uW(m,e,t)),l=G(Bx),c=G(Fx),u=G(HO),d=G(WW),f=d==null?void 0:d.active,h=ic();p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=sg({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ul.emit(cg,c,m,l)}},[f,r,o,a,n,l,c,u,s,h])}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e){return e.dataKey}function oq(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(Xz,t)}var uN=[],lq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xa(e){var t,r,n=Ge(e,lq),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:v,wrapperStyle:y,cursor:x,shared:w,trigger:b,defaultIndex:j,portal:_,axisId:N}=n,S=ve(),P=typeof j=="number"?String(j):j;p.useEffect(()=>{S(iU({shared:w,trigger:b,axisId:N,active:a,defaultIndex:P}))},[S,w,b,N,a,P]);var C=ic(),I=$P(),O=ZB(w),{activeIndex:k,isActive:M}=(t=G(he=>hW(he,O,b,P)))!==null&&t!==void 0?t:{},L=G(he=>fW(he,O,b,P)),J=G(he=>GA(he,O,b,P)),Y=G(he=>dW(he,O,b,P)),Z=L,R=LW(),B=(r=a??M)!==null&&r!==void 0?r:!1,[q,ee]=ME([Z,B]),ae=O==="axis"?J:void 0;rq(O,b,Y,ae,k,B);var Ae=_??R;if(Ae==null||C==null||O==null)return null;var pe=Z??uN;B||(pe=uN),u&&pe.length&&(pe=NE(pe.filter(he=>he.value!=null&&(he.hide!==!0||n.includeHidden)),h,sq));var St=pe.length>0,et=p.createElement(n8,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:B,coordinate:Y,hasPayload:St,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:C,wrapperStyle:y,lastBoundingBox:q,innerRef:ee,hasPortalFromProps:!!_},oq(c,cN(cN({},n),{},{payload:pe,label:ae,active:B,activeIndex:k,coordinate:Y,accessibilityLayer:I})));return p.createElement(p.Fragment,null,_f.createPortal(et,Ae),B&&p.createElement($W,{cursor:x,tooltipEventType:O,coordinate:Y,payload:pe,index:k}))}var jc=e=>null;jc.displayName="Cell";function cq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fq{constructor(t){cq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t,r){return(t=pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq={cacheSize:2e3,enableCache:!0},eC=hq({},vq),fN=new fq(eC.cacheSize),xq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hN="recharts_measurement_span";function yq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var mN=(e,t)=>{try{var r=document.getElementById(hN);r||(r=document.createElement("span"),r.setAttribute("id",hN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||lc.isSsr)return{width:0,height:0};if(!eC.enableCache)return mN(t,r);var n=yq(t,r),a=fN.get(n);if(a)return a;var s=mN(t,r);return fN.set(n,s),s},tC;function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_q=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Sq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kq=["cm","mm","pt","pc","in","Q","px"];function Eq(e){return kq.includes(e)}var hs="NaN";function Pq(e,t){return e*Sq[t]}class bt{static parse(t){var r,[,n,a]=(r=_q.exec(t))!==null&&r!==void 0?r:[];return n==null?bt.NaN:new bt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Xr(t)&&(this.unit=""),r!==""&&!Nq.test(r)&&(this.num=NaN,this.unit=""),Eq(r)&&(this.num=Pq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new bt(NaN,""):new bt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new bt(NaN,""):new bt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bt(NaN,""):new bt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bt(NaN,""):new bt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xr(this.num)}}tC=bt;bq(bt,"NaN",new tC(NaN,""));function rC(e){if(e==null||e.includes(hs))return hs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=pN.exec(t))!==null&&r!==void 0?r:[],o=bt.parse(n??""),l=bt.parse(s??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return hs;t=t.replace(pN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=gN.exec(t))!==null&&u!==void 0?u:[],m=bt.parse(d??""),g=bt.parse(h??""),v=f==="+"?m.add(g):m.subtract(g);if(v.isNaN())return hs;t=t.replace(gN,v.toString())}return t}var vN=/\(([^()]*)\)/;function Oq(e){for(var t=e,r;(r=vN.exec(t))!=null;){var[,n]=r;t=t.replace(vN,rC(n))}return t}function Aq(e){var t=e.replace(/\s+/g,"");return t=Oq(t),t=rC(t),t}function Cq(e){try{return Aq(e)}catch{return hs}}function Gm(e){var t=Cq(e.slice(5,-1));return t===hs?"":t}var Tq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Iq=["dx","dy","angle","className","breakAll"];function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}function xN(e,t){if(e==null)return{};var r,n,a=Dq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nC=/[ \f\n\r\t\v\u2028\u2029]+/,aC=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ue(t)||(r?a=t.toString().split(""):a=t.toString().split(nC));var s=a.map(l=>({word:l,width:ol(l,n).width})),o=r?0:ol("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Mq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var iC=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),sC=e=>e.reduce((t,r)=>t.width>r.width?t:r),$q="",yN=(e,t,r,n,a,s,o,l)=>{var c=e.slice(0,t),u=aC({breakAll:r,style:n,children:c+$q});if(!u)return[!1,[]];var d=iC(u.wordsWithComputedWidth,s,o,l),f=d.length>a||sC(d).width>Number(s);return[f,d]},Lq=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=H(s),d=String(o),f=iC(t,n,r,a);if(!u||a)return f;var h=f.length>s||sC(f).width>Number(n);if(!h)return f;for(var m=0,g=d.length-1,v=0,y;m<=g&&v<=d.length-1;){var x=Math.floor((m+g)/2),w=x-1,[b,j]=yN(d,w,c,l,s,n,r,a),[_]=yN(d,x,c,l,s,n,r,a);if(!b&&!_&&(m=x+1),b&&_&&(g=x-1),!b&&_){y=j;break}v++}return y||f},bN=e=>{var t=Ue(e)?[]:e.toString().split(nC);return[{words:t,width:void 0}]},Rq=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!lc.isSsr){var l,c,u=aC({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return bN(n);return Lq({breakAll:s,children:n,maxLines:o,style:a},l,c,t,!!r)}return bN(n)},oC="#808080",zq={angle:0,breakAll:!1,capHeight:"0.71em",fill:oC,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Eh=p.forwardRef((e,t)=>{var r=Ge(e,zq),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=xN(r,Tq),h=p.useMemo(()=>Rq({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:v,className:y,breakAll:x}=f,w=xN(f,Iq);if(!Ar(n)||!Ar(a)||h.length===0)return null;var b=Number(n)+(H(m)?m:0),j=Number(a)+(H(g)?g:0);if(!re(b)||!re(j))return null;var _;switch(d){case"start":_=Gm("calc(".concat(o,")"));break;case"middle":_=Gm("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:_=Gm("calc(".concat(h.length-1," * -").concat(s,")"));break}var N=[],S=h[0];if(c&&S!=null){var P=S.width,{width:C}=f;N.push("scale(".concat(H(C)&&H(P)?C/P:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(b,", ").concat(j,")")),N.length&&(w.transform=N.join(" ")),p.createElement("text",ug({},Dt(w),{ref:t,x:b,y:j,className:le("recharts-text",y),textAnchor:u,fill:l.includes("url")?oC:l}),h.map((I,O)=>{var k=I.words.join(x?"":" ");return p.createElement("tspan",{x:b,dy:O===0?_:s,key:"".concat(k,"-").concat(O)},k)}))});Eh.displayName="Text";function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wq=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a,clamp:s}=e,{x:o,y:l,height:c,upperWidth:u,lowerWidth:d}=lx(t),f=o,h=o+(u-d)/2,m=(f+h)/2,g=(u+d)/2,v=f+u/2,y=c>=0?1:-1,x=y*n,w=y>0?"end":"start",b=y>0?"start":"end",j=u>=0?1:-1,_=j*n,N=j>0?"end":"start",S=j>0?"start":"end",P=a;if(r==="top"){var C={x:f+u/2,y:l-x,horizontalAnchor:"middle",verticalAnchor:w};return s&&P&&(C.height=Math.max(l-P.y,0),C.width=u),C}if(r==="bottom"){var I={x:h+d/2,y:l+c+x,horizontalAnchor:"middle",verticalAnchor:b};return s&&P&&(I.height=Math.max(P.y+P.height-(l+c),0),I.width=d),I}if(r==="left"){var O={x:m-_,y:l+c/2,horizontalAnchor:N,verticalAnchor:"middle"};return s&&P&&(O.width=Math.max(O.x-P.x,0),O.height=c),O}if(r==="right"){var k={x:m+g+_,y:l+c/2,horizontalAnchor:S,verticalAnchor:"middle"};return s&&P&&(k.width=Math.max(P.x+P.width-k.x,0),k.height=c),k}var M=s&&P?{width:g,height:c}:{};return r==="insideLeft"?nn({x:m+_,y:l+c/2,horizontalAnchor:S,verticalAnchor:"middle"},M):r==="insideRight"?nn({x:m+g-_,y:l+c/2,horizontalAnchor:N,verticalAnchor:"middle"},M):r==="insideTop"?nn({x:f+u/2,y:l+x,horizontalAnchor:"middle",verticalAnchor:b},M):r==="insideBottom"?nn({x:h+d/2,y:l+c-x,horizontalAnchor:"middle",verticalAnchor:w},M):r==="insideTopLeft"?nn({x:f+_,y:l+x,horizontalAnchor:S,verticalAnchor:b},M):r==="insideTopRight"?nn({x:f+u-_,y:l+x,horizontalAnchor:N,verticalAnchor:b},M):r==="insideBottomLeft"?nn({x:h+_,y:l+c-x,horizontalAnchor:S,verticalAnchor:w},M):r==="insideBottomRight"?nn({x:h+d-_,y:l+c-x,horizontalAnchor:N,verticalAnchor:w},M):r&&typeof r=="object"&&(H(r.x)||ki(r.x))&&(H(r.y)||ki(r.y))?nn({x:o+Tt(r.x,g),y:l+Tt(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},M):nn({x:v,y:l+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},qq=["labelRef"],Hq=["content"];function jN(e,t){if(e==null)return{};var r,n,a=Kq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},On.apply(null,arguments)}var lC=p.createContext(null),cC=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return p.createElement(lC.Provider,{value:c},l)},uC=()=>{var e=p.useContext(lC),t=ic();return e||(t?lx(t):void 0)},Xq=p.createContext(null),Qq=()=>{var e=p.useContext(Xq),t=G(XO);return e||t},Jq=e=>{var{value:t,formatter:r}=e,n=Ue(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ny=e=>e!=null&&typeof e=="function",Zq=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eH=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,v=Zq(f,h),y=v>=0?1:-1,x,w;switch(t){case"insideStart":x=f+y*s,w=m;break;case"insideEnd":x=h-y*s,w=!m;break;case"end":x=h+y*s,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=v<=0?w:!w;var b=Je(l,c,g,x),j=Je(l,c,g,x+(w?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ue(e.id)?Pl("recharts-radial-line-"):e.id;return p.createElement("text",On({},n,{dominantBaseline:"central",className:le("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:N,d:_})),p.createElement("textPath",{xlinkHref:"#".concat(N)},r))},tH=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Je(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:m,y:g}=Je(n,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Au=e=>e!=null&&"cx"in e&&H(e.cx),rH={angle:0,offset:5,zIndex:Ie.label,position:"middle",textBreakAll:!1};function nH(e){if(!Au(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function ca(e){var t=Ge(e,rH),{viewBox:r,parentViewBox:n,position:a,value:s,children:o,content:l,className:c="",textBreakAll:u,labelRef:d}=t,f=Qq(),h=uC(),m=a==="center"?h:f??h,g,v,y;r==null?g=m:Au(r)?g=r:g=lx(r);var x=nH(g);if(!g||Ue(s)&&Ue(o)&&!p.isValidElement(l)&&typeof l!="function")return null;var w=qo(qo({},t),{},{viewBox:g});if(p.isValidElement(l)){var b=jN(w,qq);return p.cloneElement(l,b)}if(typeof l=="function"){var j=jN(w,Hq);if(v=p.createElement(l,j),p.isValidElement(v))return v}else v=Jq(t);var _=Dt(t);if(Au(g)){if(a==="insideStart"||a==="insideEnd"||a==="end")return eH(t,a,v,_,g);y=tH(g,t.offset,t.position)}else{if(!x)return null;var N=Wq({viewBox:x,position:a,offset:t.offset,parentViewBox:Au(n)?void 0:n,clamp:!0});y=qo(qo({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return p.createElement(qt,{zIndex:t.zIndex},p.createElement(Eh,On({ref:d,className:le("recharts-label",c)},_,y,{textAnchor:Mq(_.textAnchor)?_.textAnchor:y.textAnchor,breakAll:u}),v))}ca.displayName="Label";var aH=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(ca,On({key:"label-implicit"},n)):Ar(e)?p.createElement(ca,On({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===ca?p.cloneElement(e,qo({key:"label-implicit"},n)):p.createElement(ca,On({key:"label-implicit",content:e},n)):Ny(e)?p.createElement(ca,On({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(ca,On({},e,{key:"label-implicit"},n)):null};function dC(e){var{label:t,labelRef:r}=e,n=uC();return aH(t,n,r)||null}var fC={},hC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(hC);var mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC,r=mC,n=Uf;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(fC);var iH=fC.last;const sH=Xn(iH);var oH=["valueAccessor"],lH=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(null,arguments)}function _N(e,t){if(e==null)return{};var r,n,a=cH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uH=e=>Array.isArray(e.value)?sH(e.value):e.value,pC=p.createContext(void 0),gC=pC.Provider,vC=p.createContext(void 0),dH=vC.Provider;function fH(){return p.useContext(pC)}function hH(){return p.useContext(vC)}function Cu(e){var{valueAccessor:t=uH}=e,r=_N(e,oH),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,c=_N(r,lH),u=fH(),d=hH(),f=u||d;return!f||!f.length?null:p.createElement(qt,{zIndex:l??Ie.label},p.createElement(Be,{className:"recharts-label-list"},f.map((h,m)=>{var g,v=Ue(n)?t(h,m):me(h.payload,n),y=Ue(s)?{}:{id:"".concat(s,"-").concat(m)};return p.createElement(ca,Gd({key:"label-".concat(m)},Dt(h),c,y,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Cu.displayName="LabelList";function _y(e){var{label:t}=e;return t?t===!0?p.createElement(Cu,{key:"labelList-implicit"}):p.isValidElement(t)||Ny(t)?p.createElement(Cu,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Cu,Gd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(null,arguments)}var xC=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=le("recharts-dot",a);return H(t)&&H(r)&&H(n)?p.createElement("circle",dg({},er(e),Uv(e),{className:s,cx:t,cy:r,r:n})):null},yC=e=>e.graphicalItems.polarItems,mH=T([$e,gc],Kx),Ph=T([yC,We,mH],Vx),pH=T([Ph],Gx),Oh=T([pH,mh],Yx),gH=T([Oh,We,Ph],Qx);T([Oh,We,Ph],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,o=me(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:me(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var SN=()=>{},vH=T([Oh,We,Ph,_h,$e],ty),xH=T([We,Zx,ey,SN,vH,SN,ce,$e],ry),bC=T([We,ce,Oh,gH,pc,$e,xH],ny),yH=T([bC,co,Ha],sy),bH=T([We,bC,yH,$e],ly);T([Ha,bH],JO);var wH={radiusAxis:{},angleAxis:{}},jH=tr({name:"polarAxis",initialState:wH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),NH=jH.reducer;function wC(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return(t=SH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=(e,t)=>t,Sy=T([yC,EH],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),PH=[],ky=(e,t,r)=>(r==null?void 0:r.length)===0?PH:r,jC=T([mh,Sy,ky],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>EN(EN({},t.presentationProps),s.props))),a!=null)return a}}),OH=T([jC,Sy,ky],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,o=me(n,t.nameKey,t.name),l;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ao(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),AH=T([jC,Sy,ky,st],(e,t,r,n)=>{if(!(t==null||e==null))return OK({offset:n,pieSettings:t,displayedData:e,cells:r})}),NC={exports:{}},xe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=Symbol.for("react.transitional.element"),Py=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Ih=Symbol.for("react.consumer"),Dh=Symbol.for("react.context"),Mh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),CH=Symbol.for("react.view_transition"),TH=Symbol.for("react.client.reference");function Dr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ey:switch(e=e.type,e){case Ah:case Th:case Ch:case $h:case Lh:case CH:return e;default:switch(e=e&&e.$$typeof,e){case Dh:case Mh:case zh:case Rh:return e;case Ih:return e;default:return t}}case Py:return t}}}xe.ContextConsumer=Ih;xe.ContextProvider=Dh;xe.Element=Ey;xe.ForwardRef=Mh;xe.Fragment=Ah;xe.Lazy=zh;xe.Memo=Rh;xe.Portal=Py;xe.Profiler=Th;xe.StrictMode=Ch;xe.Suspense=$h;xe.SuspenseList=Lh;xe.isContextConsumer=function(e){return Dr(e)===Ih};xe.isContextProvider=function(e){return Dr(e)===Dh};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ey};xe.isForwardRef=function(e){return Dr(e)===Mh};xe.isFragment=function(e){return Dr(e)===Ah};xe.isLazy=function(e){return Dr(e)===zh};xe.isMemo=function(e){return Dr(e)===Rh};xe.isPortal=function(e){return Dr(e)===Py};xe.isProfiler=function(e){return Dr(e)===Th};xe.isStrictMode=function(e){return Dr(e)===Ch};xe.isSuspense=function(e){return Dr(e)===$h};xe.isSuspenseList=function(e){return Dr(e)===Lh};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ah||e===Th||e===Ch||e===$h||e===Lh||typeof e=="object"&&e!==null&&(e.$$typeof===zh||e.$$typeof===Rh||e.$$typeof===Dh||e.$$typeof===Ih||e.$$typeof===Mh||e.$$typeof===TH||e.getModuleId!==void 0)};xe.typeOf=Dr;NC.exports=xe;var IH=NC.exports,PN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ON=null,Ym=null,_C=e=>{if(e===ON&&Array.isArray(Ym))return Ym;var t=[];return p.Children.forEach(e,r=>{Ue(r)||(IH.isFragment(r)?t=t.concat(_C(r.props.children)):t.push(r))}),Ym=t,ON=e,t};function Oy(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>PN(a)):n=[PN(t)],_C(e).forEach(a=>{var s=Si(a,"type.displayName")||Si(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var SC=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,kC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(kC);var DH=kC.isPlainObject;const MH=Xn(DH);var AN,CN,TN,IN,DN;function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}function Do(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LN=(e,t,r,n,a)=>{var s=r-n,o;return o=Re(AN||(AN=Do(["M ",",",""])),e,t),o+=Re(CN||(CN=Do(["L ",",",""])),e+r,t),o+=Re(TN||(TN=Do(["L ",",",""])),e+r-s/2,t+a),o+=Re(IN||(IN=Do(["L ",",",""])),e+r-s/2-n,t+a),o+=Re(DN||(DN=Do(["L ",","," Z"])),e,t),o},zH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FH=e=>{var t=Ge(e,zH),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,g]=p.useState(-1),v=p.useRef(a),y=p.useRef(s),x=p.useRef(o),w=p.useRef(r),b=p.useRef(n),j=uc(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var L=h.current.getTotalLength();L&&g(L)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var _=le("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Yd({},Dt(t),{className:_,d:LN(r,n,a,s,o)})));var N=v.current,S=y.current,P=x.current,C=w.current,I=b.current,O="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),M=LP(["strokeDasharray"],u,c);return p.createElement(cc,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},L=>{var J=_e(N,a,L),Y=_e(S,s,L),Z=_e(P,o,L),R=_e(C,r,L),B=_e(I,n,L);h.current&&(v.current=J,y.current=Y,x.current=Z,w.current=R,b.current=B);var q=L>0?{transition:M,strokeDasharray:k}:{strokeDasharray:O};return p.createElement("path",Yd({},Dt(t),{className:_,d:LN(R,B,J,Y,Z),ref:h,style:$N($N({},q),t.style)}))})},BH=["option","shapeType","activeClassName"];function UH(e,t){if(e==null)return{};var r,n,a=WH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VH(e,t){return Xd(Xd({},t),e)}function GH(e,t){return e==="symbols"}function zN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(BP,r);case"trapezoid":return p.createElement(FH,r);case"sector":return p.createElement(HP,r);case"symbols":if(GH(t))return p.createElement(Bv,r);break;case"curve":return p.createElement(_s,r);default:return null}}function YH(e){return p.isValidElement(e)?e.props:e}function EC(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=UH(e,BH),s;if(p.isValidElement(t))s=p.cloneElement(t,Xd(Xd({},a),YH(t)));else if(typeof t=="function")s=t(a,a.index);else if(MH(t)&&typeof t!="boolean"){var o=VH(t,a);s=p.createElement(zN,{shapeType:r,elementProps:o})}else{var l=a;s=p.createElement(zN,{shapeType:r,elementProps:l})}return a.isActive?p.createElement(Be,{className:n},s):s}var Ay=(e,t,r)=>{var n=ve();return(a,s)=>o=>{e==null||e(a,s,o),n(PA({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Cy=e=>{var t=ve();return(r,n)=>a=>{e==null||e(r,n,a),t(sU())}},Ty=(e,t,r)=>{var n=ve();return(a,s)=>o=>{e==null||e(a,s,o),n(oU({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Iy(e){var{tooltipEntrySettings:t}=e,r=ve(),n=_t(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(rU(t)):a.current!==t&&r(nU({prev:a.current,next:t})),a.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{a.current&&(r(aU(a.current)),a.current=null)},[r]),null}function PC(e){var{legendPayload:t}=e,r=ve(),n=_t(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(IP(t)):a.current!==t&&r(DP({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(MP(a.current)),a.current=null)},[r]),null}function XH(e){var{legendPayload:t}=e,r=ve(),n=G(ce),a=p.useRef(null);return p.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(IP(t)):a.current!==t&&r(DP({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(MP(a.current)),a.current=null)},[r]),null}var Xm,QH=()=>{var[e]=p.useState(()=>Pl("uid-"));return e},JH=(Xm=$4.useId)!==null&&Xm!==void 0?Xm:QH;function ZH(e,t){var r=JH();return t||(e?"".concat(e,"-").concat(r):r)}var eK=p.createContext(void 0),Dy=e=>{var{id:t,type:r,children:n}=e,a=ZH("recharts-".concat(r),t);return p.createElement(eK.Provider,{value:a},n(a))},tK={cartesianItems:[],polarItems:[]},OC=tr({name:"graphicalItems",initialState:tK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ke()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ke()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ke()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ke()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ke()}}}),{addCartesianGraphicalItem:rK,replaceCartesianGraphicalItem:nK,removeCartesianGraphicalItem:aK,addPolarGraphicalItem:iK,removePolarGraphicalItem:sK}=OC.actions,oK=OC.reducer,lK=e=>{var t=ve(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(rK(e)):r.current!==e&&t(nK({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(aK(r.current)),r.current=null)},[t]),null},AC=p.memo(lK);function cK(e){var t=ve();return p.useLayoutEffect(()=>(t(iK(e)),()=>{t(sK(e))}),[t,e]),null}var uK=["key"],dK=["onMouseEnter","onClick","onMouseLeave"],fK=["id"],hK=["id"];function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(null,arguments)}function Fh(e,t){if(e==null)return{};var r,n,a=vK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xK(e){var t=p.useMemo(()=>Oy(e.children,jc),[e.children]),r=G(n=>OH(n,e.id,t));return r==null?null:p.createElement(XH,{legendPayload:r})}var yK=p.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n.map(h=>h.tooltipPayload),getPosition:h=>{var m;return(m=n[Number(h)])===null||m===void 0?void 0:m.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:r,name:ao(l,t),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return p.createElement(Iy,{tooltipEntrySettings:f})}),bK=(e,t)=>e>t?"start":e<t?"end":"middle",wK=(e,t,r)=>Tt(typeof t=="function"?t(e):t,r,r*.8),jK=(e,t,r)=>{var{top:n,left:a,width:s,height:o}=t,l=UP(s,o),c=a+Tt(e.cx,s,s/2),u=n+Tt(e.cy,o,o/2),d=Tt(e.innerRadius,l,0),f=wK(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},NK=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_K=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=le("recharts-pie-label-line",typeof e!="boolean"?e.className:""),n=Fh(t,uK);return p.createElement(_s,Ma({},n,{type:"linear",className:r}))},SK=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=le("recharts-pie-label-text",wC(e));return p.createElement(Eh,Ma({},t,{alignmentBaseline:"middle",className:a}),n)};function kK(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:o}=r;if(!n||!a||!t)return null;var l=er(r),c=Ni(a),u=Ni(s),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,v=Je(h.cx,h.cy,h.outerRadius+d,g),y=Fe(Fe(Fe(Fe({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:bK(v.x,h.cx)},v),x=Fe(Fe(Fe(Fe({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Je(h.cx,h.cy,h.outerRadius,g),v],key:"line"});return p.createElement(qt,{zIndex:Ie.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},p.createElement(Be,null,s&&_K(s,x),SK(a,y,me(h,o))))});return p.createElement(Be,{className:"recharts-pie-labels"},f)}function EK(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(_y,{label:a}):p.createElement(kK,{sectors:t,props:r,showLabels:n})}function PK(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:o}=e,l=G(Da),c=G(vy),u=G(KU),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,m=Fh(a,dK),g=Ay(d,a.dataKey,o),v=Cy(h),y=Ty(f,a.dataKey,o);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var b=u==null||u===o,j=String(w)===l&&(c==null||a.dataKey===c)&&b,_=l?n:null,N=r&&j?r:_,S=Fe(Fe({},x),{},{stroke:x.stroke,tabIndex:-1,[gP]:w,[vP]:o});return p.createElement(Be,Ma({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},tc(m,x,w),{onMouseEnter:g(x,w),onMouseLeave:v(x,w),onClick:y(x,w)}),p.createElement(EC,Ma({option:s??N,index:w,shapeType:"sector",isActive:j},S)))}))}function OK(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=NK(l,c),g=Math.abs(m),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(N=>me(N,u,0)!==0).length,x=(g>=360?y:y-1)*v,w=g-y*h-x,b=n.reduce((N,S)=>{var P=me(S,u,0);return N+(H(P)?P:0)},0),j;if(b>0){var _;j=n.map((N,S)=>{var P=me(N,u,0),C=me(N,d,S),I=jK(r,s,N),O=(H(P)?P:0)/b,k,M=Fe(Fe({},N),a&&a[S]&&a[S].props);S?k=_.endAngle+mt(m)*v*(P!==0?1:0):k=l;var L=k+mt(m)*((P!==0?h:0)+O*w),J=(k+L)/2,Y=(I.innerRadius+I.outerRadius)/2,Z=[{name:C,value:P,payload:M,dataKey:u,type:f,graphicalItemId:r.id}],R=Je(I.cx,I.cy,Y,J);return _=Fe(Fe(Fe(Fe({},r.presentationProps),{},{percent:O,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:Z,midAngle:J,middleRadius:Y,tooltipPosition:R},M),I),{},{value:P,dataKey:u,startAngle:k,endAngle:L,payload:M,paddingAngle:mt(m)*v}),_})}return j}function AK(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return p.createElement(dH,{value:t?a:void 0},n)}function CK(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=uc(t,"recharts-pie-"),g=r.current,[v,y]=p.useState(!1),x=p.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),w=p.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return p.createElement(AK,{showLabels:!v,sectors:a},p.createElement(cc,{animationId:m,begin:o,duration:l,isActive:s,easing:c,onAnimationStart:w,onAnimationEnd:x,key:m},b=>{var j,_=[],N=a&&a[0],S=(j=N==null?void 0:N.startAngle)!==null&&j!==void 0?j:0;return a==null||a.forEach((P,C)=>{var I=g&&g[C],O=C>0?Si(P,"paddingAngle",0):0;if(I){var k=_e(I.endAngle-I.startAngle,P.endAngle-P.startAngle,b),M=Fe(Fe({},P),{},{startAngle:S+O,endAngle:S+k+O});_.push(M),S=M.endAngle}else{var{endAngle:L,startAngle:J}=P,Y=_e(0,L-J,b),Z=Fe(Fe({},P),{},{startAngle:S+O,endAngle:S+Y+O});_.push(Z),S=Z.endAngle}}),r.current=_,p.createElement(Be,null,p.createElement(PK,{sectors:_,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),p.createElement(EK,{showLabels:!v,sectors:a,props:t}),t.children)}var TK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ie.area};function IK(e){var{id:t}=e,r=Fh(e,fK),{hide:n,className:a,rootTabIndex:s}=e,o=p.useMemo(()=>Oy(e.children,jc),[e.children]),l=G(d=>AH(d,t,o)),c=p.useRef(null),u=le("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Be,{tabIndex:s,className:u})):p.createElement(qt,{zIndex:e.zIndex},p.createElement(yK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),p.createElement(Be,{tabIndex:s,className:u},p.createElement(CK,{props:Fe(Fe({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function Qd(e){var t=Ge(e,TK),{id:r}=t,n=Fh(t,hK),a=er(n);return p.createElement(Dy,{id:r,type:"pie"},s=>p.createElement(p.Fragment,null,p.createElement(cK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(xK,Ma({},n,{id:s})),p.createElement(IK,Ma({},n,{id:s}))))}Qd.displayName="Pie";var DK=["points"];function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){MK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(null,arguments)}function RK(e,t){if(e==null)return{};var r,n,a=zK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FK(e){var{option:t,dotProps:r,className:n}=e;if(p.isValidElement(t))return p.cloneElement(t,r);if(typeof t=="function")return t(r);var a=le(n,typeof t!="boolean"?t.className:""),s=r??{},o=RK(s,DK);return p.createElement(xC,Jd({},o,{className:a}))}function BK(e,t){return e==null?!1:t?!0:e.length===1}function UK(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Ie.scatter}=e;if(!BK(t,r))return null;var d=SC(r),f=DM(r),h=t.map((g,v)=>{var y,x,w=Qm(Qm(Qm({r:3},o),f),{},{index:v,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(x=g.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return p.createElement(FK,{key:"dot-".concat(v),option:r,dotProps:w,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),p.createElement(qt,{zIndex:u},p.createElement(Be,Jd({className:n},m),h))}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CC=0,KK={xAxis:{},yAxis:{},zAxis:{}},TC=tr({name:"cartesianAxis",initialState:KK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ke()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ke()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ke()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ke()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ke()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ke()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ke()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ke()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ke()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((s=o[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...o,n].slice(-3);e.yAxis[r]=WN(WN({},a),{},{width:n,widthHistory:l})}}}}),{addXAxis:VK,replaceXAxis:GK,removeXAxis:YK,addYAxis:XK,replaceYAxis:QK,removeYAxis:JK,addZAxis:LJ,replaceZAxis:RJ,removeZAxis:zJ,updateYAxisWidth:ZK}=TC.actions,eV=TC.reducer,tV=T([st],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),rV=T([tV,Jn,Zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),My=()=>G(rV),nV=()=>G(QU);function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oV=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Jm(Jm(Jm({},l),Ni(a)),Uv(a)),u;return p.isValidElement(a)?u=p.cloneElement(a,c):typeof a=="function"?u=a(c):u=p.createElement(xC,c),p.createElement(Be,{className:"recharts-active-dot",clipPath:o},u)};function HN(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=Ie.activeDot}=e,l=G(Da),c=nV();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ue(u)?null:p.createElement(qt,{zIndex:o},p.createElement(oV,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var KN=(e,t,r)=>{var n=r??e;if(!Ue(n))return Tt(n,t,0)},lV=(e,t,r)=>{var n={},a=e.filter(yh),s=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>{var f=u[d.stackId];return f==null&&(f=[]),f.push(d),u[d.stackId]=f,u},n),l=Object.entries(o).map(u=>{var d,[f,h]=u,m=h.map(v=>v.dataKey),g=KN(t,r,(d=h[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:m,barSize:g}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=KN(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]};function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){cV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cV(e,t,r){return(t=uV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fV(e,t,r,n,a){var s,o=n.length;if(!(o<1)){var l=Tt(e,r,0,!0),c,u=[];if(re((s=n[0])===null||s===void 0?void 0:s.barSize)){var d=!1,f=r/o,h=n.reduce((w,b)=>w+(b.barSize||0),0);h+=(o-1)*l,h>=r&&(h-=(o-1)*l,l=0),h>=r&&f>0&&(d=!0,f*=.9,h=o*f);var m=(r-h)/2>>0,g={offset:m-l,size:0};c=n.reduce((w,b)=>{var j,_={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g.offset+g.size+l,size:d?f:(j=b.barSize)!==null&&j!==void 0?j:0}},N=[...w,_];return g=_.position,N},u)}else{var v=Tt(t,r,0,!0);r-2*v-(o-1)*l<=0&&(l=0);var y=(r-2*v-(o-1)*l)/o;y>1&&(y>>=0);var x=re(a)?Math.min(y,a):y;c=n.reduce((w,b,j)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:v+(y+l)*j+(y-x)/2,size:x}}],u)}return c}}var hV=(e,t,r,n,a,s,o)=>{var l=Ue(o)?t:o,c=fV(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>uu(uu({},u),{},{position:uu(uu({},u.position),{},{offset:u.position.offset-a/2})}))),c},mV=(e,t)=>{var r=xh(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}},pV=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function gV(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&re(e.zIndex)?e.zIndex:t}var IC=e=>{var{chartData:t}=e,r=ve(),n=_t();return p.useEffect(()=>n?()=>{}:(r(sN(t)),()=>{r(sN(void 0))}),[t,r,n]),null},GN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vV=tr({name:"brush",initialState:GN,reducers:{setBrushSettings(e,t){return t.payload==null?GN:t.payload}}}),xV=vV.reducer,yV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},bV=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return yV({x:t,y:r},{x:n,y:a})};function wV(e){return(e%180+180)%180}var jV=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=wV(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},NV={dots:[],areas:[],lines:[]},DC=tr({name:"referenceElements",initialState:NV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:FJ,removeDot:BJ,addArea:UJ,removeArea:WJ,addLine:_V,removeLine:SV}=DC.actions,kV=DC.reducer,MC=p.createContext(void 0),EV=e=>{var{children:t}=e,[r]=p.useState("".concat(Pl("recharts"),"-clip")),n=My();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return p.createElement(MC.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:s,height:l,width:o}))),t)},PV=()=>p.useContext(MC);class OV{constructor(t){var{x:r,y:n}=t;this.xAxisScale=r,this.yAxisScale=n}map(t,r){var n,a,{position:s}=r;return{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:0,y:(a=this.yAxisScale.map(t.y,{position:s}))!==null&&a!==void 0?a:0}}mapWithFallback(t,r){var n,a,{position:s,fallback:o}=r,l,c;return o==="rangeMin"?l=this.yAxisScale.rangeMin():o==="rangeMax"?l=this.yAxisScale.rangeMax():l=0,o==="rangeMin"?c=this.xAxisScale.rangeMin():o==="rangeMax"?c=this.xAxisScale.rangeMax():c=0,{x:(n=this.xAxisScale.map(t.x,{position:s}))!==null&&n!==void 0?n:c,y:(a=this.yAxisScale.map(t.y,{position:s}))!==null&&a!==void 0?a:l}}isInRange(t){var{x:r,y:n}=t,a=r==null||this.xAxisScale.isInRange(r),s=n==null||this.yAxisScale.isInRange(n);return a&&s}}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){AV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t,r){return(t=CV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=TV(e,"string");return typeof t=="symbol"?t:t+""}function TV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(null,arguments)}var IV=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!re(t.x1)||!re(t.y1)||!re(t.x2)||!re(t.y2))return null;r=p.createElement("line",Zd({},t,{className:"recharts-reference-line-line"}))}return r},DV=(e,t,r,n,a,s)=>{var{x:o,width:l}=s,c=a.map(e,{position:r});if(!re(c)||t==="discard"&&!a.isInRange(c))return null;var u=[{x:o+l,y:c},{x:o,y:c}];return n==="left"?u.reverse():u},MV=(e,t,r,n,a,s)=>{var{y:o,height:l}=s,c=a.map(e,{position:r});if(!re(c)||t==="discard"&&!a.isInRange(c))return null;var u=[{x:c,y:o+l},{x:c,y:o}];return n==="top"?u.reverse():u},$V=(e,t,r,n)=>{var a=[n.mapWithFallback(e[0],{position:r,fallback:"rangeMin"}),n.mapWithFallback(e[1],{position:r,fallback:"rangeMax"})];return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},LV=(e,t,r,n,a,s,o)=>{var{x:l,y:c,segment:u,ifOverflow:d}=o,f=Ar(l),h=Ar(c);return h?DV(c,d,n,s,t,r):f?MV(l,d,n,a,e,r):u!=null&&u.length===2?$V(u,d,n,new OV({x:e,y:t})):null};function RV(e){var t=ve();return p.useEffect(()=>(t(_V(e)),()=>{t(SV(e))})),null}function zV(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,o=_t(),l=PV(),c=G(S=>bn(S,t)),u=G(S=>wn(S,r)),d=G(S=>Hs(S,"xAxis",t,o)),f=G(S=>Hs(S,"yAxis",r,o)),h=ic();if(!l||!h||c==null||u==null||d==null||f==null)return null;var m=LV(d,f,h,e.position,c.orientation,u.orientation,e);if(!m)return null;var g=m[0],v=m[1];if(g==null||v==null)return null;var{x:y,y:x}=g,{x:w,y:b}=v,j=s==="hidden"?"url(#".concat(l,")"):void 0,_=XN(XN({clipPath:j},Dt(e)),{},{x1:y,y1:x,x2:w,y2:b}),N=bV({x1:y,y1:x,x2:w,y2:b});return p.createElement(qt,{zIndex:e.zIndex},p.createElement(Be,{className:le("recharts-reference-line",a)},IV(n,_),p.createElement(cC,Zd({},N,{lowerWidth:N.width,upperWidth:N.width}),p.createElement(dC,{label:e.label}),e.children)))}var FV={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Ie.line};function fg(e){var t=Ge(e,FV);return p.createElement(p.Fragment,null,p.createElement(RV,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),p.createElement(zV,t))}fg.displayName="ReferenceLine";function $C(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function BV(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jV(n,r)}function UV(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Wl(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function WV(e,t){return $C(e,t+1)}function qV(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:$C(n,u)};var v=c,y,x=()=>(y===void 0&&(y=r(g,v)),y),w=g.coordinate,b=c===0||Wl(e,w,x,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function HV(e,t,r,n,a){var s=(n||[]).slice(),o=s.length;if(o===0)return[];for(var{start:l,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var j=n[v];if(j==null)return 0;var _=v,N,S=()=>(N===void 0&&(N=r(j,_)),N),P=j.coordinate,C=v===d||Wl(e,P,S,f,c);if(!C)return h=!1,1;C&&(f=P+e*(S()/2+a))},g,v=d;v<o&&(g=m(),!(g!==0&&g===1));v+=u);if(h){for(var y=[],x=d;x<o;x+=u){var w=n[x];w!=null&&y.push(w)}return y}}return[]}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){KV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YV(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h];if(m==null)return 1;var g=m,v,y=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var x=e*(g.coordinate+e*y()/2-c);s[h]=g=Pt(Pt({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else s[h]=g=Pt(Pt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=Wl(e,g.tickCoord,y,l,c);w&&(c=g.tickCoord-e*(y()/2+a),s[h]=Pt(Pt({},g),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function XV(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=n[l-1];if(d!=null){var f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Pt(Pt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Wl(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Pt(Pt({},d),{},{isShow:!0}))}}}for(var g=s?l-1:l,v=function(w){var b=o[w];if(b==null)return 1;var j=b,_,N=()=>(_===void 0&&(_=r(b,w)),_);if(w===0){var S=e*(j.coordinate-e*N()/2-c);o[w]=j=Pt(Pt({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[w]=j=Pt(Pt({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var P=Wl(e,j.tickCoord,N,c,u);P&&(c=j.tickCoord+e*(N()/2+a),o[w]=Pt(Pt({},j),{},{isShow:!0}))}},y=0;y<g;y++)v(y);return o}function $y(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(H(c)||lc.isSsr){var h;return(h=WV(a,H(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?ol(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(_,N)=>{var S=typeof u=="function"?u(_.value,N):_.value;return g==="width"?BV(ol(S,{fontSize:t,letterSpacing:r}),v,f):ol(S,{fontSize:t,letterSpacing:r})[g]},x=a[0],w=a[1],b=a.length>=2&&x!=null&&w!=null?mt(w.coordinate-x.coordinate):1,j=UV(s,b,g);return c==="equidistantPreserveStart"?qV(b,j,y,a,o):c==="equidistantPreserveEnd"?HV(b,j,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=XV(b,j,y,a,o,c==="preserveStartEnd"):m=YV(b,j,y,a,o),m.filter(_=>_.isShow))}var QV=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=o+c+l+(r?n:0);return Math.round(u)}return 0},JV=["axisLine","width","height","className","hide","ticks","axisType"];function ZV(e,t){if(e==null)return{};var r,n,a=eG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(null,arguments)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ln={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ie.axis};function aG(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Le(Le(Le({},c),er(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=Le(Le({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=Le(Le({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",Ci({},u,{className:le("recharts-cartesian-axis-line",Si(l,"className"))}))}function iG(e,t,r,n,a,s,o,l,c){var u,d,f,h,m,g,v=l?-1:1,y=e.tickSize||o,x=H(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-v*y,g=f-v*c,m=x;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-v*y,m=u-v*c,g=x;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+v*y,m=u+v*c,g=x;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+v*y,g=f+v*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function sG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function oG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function lG(e){var{option:t,tickProps:r,value:n}=e,a,s=le(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,Le(Le({},r),{},{className:s}));else if(typeof t=="function")a=t(Le(Le({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=le(o,wC(t))),a=p.createElement(Eh,Ci({},r,{className:o}),n)}return a}var cG=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:v,tickSize:y,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:j,events:_,axisType:N}=e,S=$y(Le(Le({},j),{},{ticks:r}),w,b),P=sG(d,f),C=oG(d,f),I=er(j),O=Ni(n),k={};typeof a=="object"&&(k=a);var M=Le(Le({},I),{},{fill:"none"},k),L=S.map(Z=>Le({entry:Z},iG(Z,h,m,g,v,d,y,f,x))),J=L.map(Z=>{var{entry:R,line:B}=Z;return p.createElement(Be,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},a&&p.createElement("line",Ci({},M,B,{className:le("recharts-cartesian-axis-tick-line",Si(a,"className"))})))}),Y=L.map((Z,R)=>{var B,q,{entry:ee,tick:ae}=Z,Ae=Le(Le(Le(Le({verticalAnchor:C},I),{},{textAnchor:P,stroke:"none",fill:s},ae),{},{index:R,payload:ee,visibleTicksCount:S.length,tickFormatter:o,padding:c},u),{},{angle:(B=(q=u==null?void 0:u.angle)!==null&&q!==void 0?q:I.angle)!==null&&B!==void 0?B:0}),pe=Le(Le({},Ae),O);return p.createElement(Be,Ci({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},tc(_,ee,R)),n&&p.createElement(lG,{option:n,tickProps:pe,value:"".concat(typeof o=="function"?o(ee.value,R):ee.value).concat(l||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},Y.length>0&&p.createElement(qt,{zIndex:Ie.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},Y)),J.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},J))}),uG=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=ZV(e,JV),[d,f]=p.useState(""),[h,m]=p.useState(""),g=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return QV({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,_=b.letterSpacing;(j!==d||_!==h)&&(f(j),m(_))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(qt,{zIndex:e.zIndex},p.createElement(Be,{className:le("recharts-cartesian-axis",s)},p.createElement(aG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:er(e)}),p.createElement(cG,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(cC,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(dC,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ly=p.forwardRef((e,t)=>{var r=Ge(e,Ln);return p.createElement(uG,Ci({},r,{ref:t}))});Ly.displayName="CartesianAxis";var dG=["x1","y1","x2","y2","key"],fG=["offset"],hG=["xAxisId","yAxisId"],mG=["xAxisId","yAxisId"];function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=gG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function ef(e,t){if(e==null)return{};var r,n,a=xG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function LC(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=r,d=ef(r,dG),f=(a=er(d))!==null&&a!==void 0?a:{},h=ef(f,fG);n=p.createElement("line",ci({},h,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function bG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var s=ef(e,hG),o=a.map((l,c)=>{var u=Ct(Ct({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return p.createElement(LC,{key:"line-".concat(c),option:n,lineItemProps:u})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var s=ef(e,mG),o=a.map((l,c)=>{var u=Ct(Ct({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return p.createElement(LC,{option:n,lineItemProps:u,key:"line-".concat(c)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,v=g?a+o-f:m-f;if(v<=0)return null;var y=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=u[h+1],g=m==null,v=g?a+o-f:m-f;if(v<=0)return null;var y=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:v,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _G=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return fP($y(Ct(Ct(Ct({},Ln),r),{},{ticks:hP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},SG=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return fP($y(Ct(Ct(Ct({},Ln),r),{},{ticks:hP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},kG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ie.grid};function Ks(e){var t=cx(),r=ux(),n=_P(),a=Ct(Ct({},Ge(e,kG)),{},{x:H(e.x)?e.x:n.left,y:H(e.y)?e.y:n.top,width:H(e.width)?e.width:n.width,height:H(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=_t(),v=G(C=>Y1(C,"xAxis",s,g)),y=G(C=>Y1(C,"yAxis",o,g));if(!gn(u)||!gn(d)||!H(l)||!H(c))return null;var x=a.verticalCoordinatesGenerator||_G,w=a.horizontalCoordinatesGenerator||SG,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var _=h&&h.length,N=w({yAxis:y?Ct(Ct({},y),{},{ticks:_?h:y.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:f);Nd(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!j||!j.length)&&typeof x=="function"){var S=m&&m.length,P=x({xAxis:v?Ct(Ct({},v),{},{ticks:S?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Nd(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(j=P)}return p.createElement(qt,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(yG,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(jG,ci({},a,{horizontalPoints:b})),p.createElement(NG,ci({},a,{verticalPoints:j})),p.createElement(bG,ci({},a,{offset:n,horizontalPoints:b,xAxis:v,yAxis:y})),p.createElement(wG,ci({},a,{offset:n,verticalPoints:j,xAxis:v,yAxis:y}))))}Ks.displayName="CartesianGrid";var EG={},PG=tr({name:"errorBars",initialState:EG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),OG=PG.reducer,AG=["children"];function CG(e,t){if(e==null)return{};var r,n,a=TG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DG=p.createContext(IG);function MG(e){var{children:t}=e,r=CG(e,AG);return p.createElement(DG.Provider,{value:r},t)}function Ry(e,t){var r,n,a=G(u=>bn(u,e)),s=G(u=>wn(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ct.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:ut.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function RC(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=My(),{needClipX:s,needClipY:o,needClip:l}=Ry(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:s?c:c-d/2,y:o?u:u-f/2,width:s?d:d*2,height:o?f:f*2}))}function $G(e){var t=Ni(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var LG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc=p;function RG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zG=typeof Object.is=="function"?Object.is:RG,FG=Nc.useSyncExternalStore,BG=Nc.useRef,UG=Nc.useEffect,WG=Nc.useMemo,qG=Nc.useDebugValue;LG.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=BG(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=WG(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,zG(d,m))return g;var v=n(m);return a!==void 0&&a(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=FG(e,s[0],s[1]);return UG(function(){o.hasValue=!0,o.value=l},[l]),qG(l),l};function HG(e){e()}function KG(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HG(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var e2={notify(){},get:()=>[]};function VG(e,t){let r,n=e2,a=0,s=!1;function o(v){d();const y=n.subscribe(v);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=KG())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=e2)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var GG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YG=GG(),XG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QG=XG(),JG=()=>YG||QG?p.useLayoutEffect:p.useEffect,ZG=JG();function t2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eY(e,t){if(t2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!t2(e[r[a]],t[r[a]]))return!1;return!0}var Zm=Symbol.for("react-redux-context"),ep=typeof globalThis<"u"?globalThis:{};function tY(){if(!p.createContext)return{};const e=ep[Zm]??(ep[Zm]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var rY=tY();function nY(e){const{children:t,context:r,serverState:n,store:a}=e,s=p.useMemo(()=>{const c=VG(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);ZG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=r||rY;return p.createElement(l.Provider,{value:s},t)}var aY=nY,iY=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sY(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Bh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(iY.has(n)){if(e[n]==null&&t[n]==null)continue;if(!eY(e[n],t[n]))return!1}else if(!sY(e[n],t[n]))return!1;return!0}function jn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:CC}function Nn(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:CC}var zC=(e,t,r)=>Ia(e,"xAxis",jn(e,t),r),FC=(e,t,r)=>Ta(e,"xAxis",jn(e,t),r),BC=(e,t,r)=>Ia(e,"yAxis",Nn(e,t),r),UC=(e,t,r)=>Ta(e,"yAxis",Nn(e,t),r),oY=T([ce,zC,BC,FC,UC],(e,t,r,n,a)=>yn(e,"xAxis")?zs(t,n,!1):zs(r,a,!1)),lY=(e,t)=>t,WC=T([jh,lY],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),qC=e=>{var t=ce(e),r=yn(t,"xAxis");return r?"yAxis":"xAxis"},cY=(e,t)=>{var r=qC(e);return r==="yAxis"?Nn(e,t):jn(e,t)},uY=(e,t,r)=>Hd(e,qC(e),cY(e,t),r),dY=T([WC,uY],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=xh(e);if(!(n==null||a==null)){var s=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=s==null?void 0:s.find(l=>l.key===a);if(o!=null)return o.map(l=>[l[0],l[1]])}}}),fY=T([ce,zC,BC,FC,UC,dY,AO,oY,WC,K9],(e,t,r,n,a,s,o,l,c,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:m}=c,g;if(m&&m.length>0?g=m:g=d==null?void 0:d.slice(f,h+1),g!=null)return CY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:c,stackedData:s,displayedData:g,chartBaseValue:u,bandSize:l})}}),hY=["id"],mY=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(null,arguments)}function HC(e,t){if(e==null)return{};var r,n,a=pY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return(t=vY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tf(e,t){return e&&e!=="none"?e:t}var yY=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:tf(n,a),value:ao(r,t),payload:e}]},bY=p.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r,getPosition:Mi,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ao(o,t),hide:l,type:u,color:tf(n,s),unit:c,graphicalItemId:d}};return p.createElement(Iy,{tooltipEntrySettings:f})});function wY(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:o}=n,l=er(n);return p.createElement(UK,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:a,clipPathId:t})}function jY(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ms(ms({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return p.createElement(gC,{value:t?a:void 0},r)}function n2(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=s,{id:f}=s,h=HC(s,hY),m=er(h),g=Dt(h);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(Be,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(_s,vi({},g,{id:f,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(_s,vi({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&p.createElement(_s,vi({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),p.createElement(wY,{points:t,props:h,clipPathId:a}))}function NY(e){var t,r,{alpha:n,baseLine:a,points:s,strokeWidth:o}=e,l=(t=s[0])===null||t===void 0?void 0:t.y,c=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!re(l)||!re(c))return null;var u=n*Math.abs(l-c),d=Math.max(...s.map(f=>f.x||0));return H(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(f=>f.x||0),d)),H(d)?p.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function _Y(e){var t,r,{alpha:n,baseLine:a,points:s,strokeWidth:o}=e,l=(t=s[0])===null||t===void 0?void 0:t.x,c=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!re(l)||!re(c))return null;var u=n*Math.abs(l-c),d=Math.max(...s.map(f=>f.y||0));return H(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(f=>f.y||0),d)),H(d)?p.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}function SY(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?p.createElement(NY,{alpha:t,points:n,baseLine:a,strokeWidth:s}):p.createElement(_Y,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function kY(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,g=p.useMemo(()=>({points:o,baseLine:l}),[o,l]),v=uc(g,"recharts-area-"),y=dx(),[x,w]=p.useState(!1),b=!x,j=p.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),_=p.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);if(y==null)return null;var N=a.current,S=s.current;return p.createElement(jY,{showLabels:b,points:o},n.children,p.createElement(cc,{animationId:v,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:_,key:v},P=>{if(N){var C=N.length/o.length,I=P===1?o:o.map((k,M)=>{var L=Math.floor(M*C);if(N[L]){var J=N[L];return ms(ms({},k),{},{x:_e(J.x,k.x,P),y:_e(J.y,k.y,P)})}return k}),O;return H(l)?O=_e(S,l,P):Ue(l)||Xr(l)?O=_e(S,0,P):O=l.map((k,M)=>{var L=Math.floor(M*C);if(Array.isArray(S)&&S[L]){var J=S[L];return ms(ms({},k),{},{x:_e(J.x,k.x,P),y:_e(J.y,k.y,P)})}return k}),P>0&&(a.current=I,s.current=O),p.createElement(n2,{points:I,baseLine:O,needClip:t,clipPathId:r,props:n})}return P>0&&(a.current=o,s.current=l),p.createElement(Be,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(SY,{alpha:P,points:o,baseLine:l,layout:y,strokeWidth:n.strokeWidth}))),p.createElement(Be,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(n2,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement(_y,{label:n.label}))}function EY(e){var{needClip:t,clipPathId:r,props:n}=e,a=p.useRef(null),s=p.useRef();return p.createElement(kY,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class PY extends p.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:d,height:f,id:h,baseLine:m,zIndex:g}=this.props;if(t)return null;var v=le("recharts-area",a),y=h,{r:x,strokeWidth:w}=$G(r),b=SC(r),j=x*2+w,_=l?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return p.createElement(qt,{zIndex:g},p.createElement(Be,{className:v},l&&p.createElement("defs",null,p.createElement(RC,{clipPathId:y,xAxisId:c,yAxisId:u}),!b&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:o-j/2,y:s-j/2,width:d+j,height:f+j}))),p.createElement(EY,{needClip:l,clipPathId:y,props:this.props})),p.createElement(HN,{points:n,mainColor:tf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}),this.props.isRange&&Array.isArray(m)&&p.createElement(HN,{points:m,mainColor:tf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}))}}var KC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ie.area};function OY(e){var t,r=Ge(e,KC),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:g,xAxisId:v,yAxisId:y}=r,x=HC(r,mY),w=$i(),b=HA(),{needClip:j}=Ry(v,y),_=_t(),{points:N,isRange:S,baseLine:P}=(t=G(L=>fY(L,e.id,_)))!==null&&t!==void 0?t:{},C=My();if(w!=="horizontal"&&w!=="vertical"||C==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:I,width:O,x:k,y:M}=C;return!N||!N.length?null:p.createElement(PY,vi({},x,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:o,baseLine:P,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:I,hide:f,layout:w,isAnimationActive:h==="auto"?!lc.isSsr:h,isRange:S,legendType:m,needClip:j,points:N,stroke:g,width:O,left:k,top:M,xAxisId:v,yAxisId:y}))}var AY=(e,t,r,n,a)=>{var s=r??t;if(H(s))return s;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function CY(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,g=a&&a.length,v=AY(s,o,r,l,c),y=s==="horizontal",x=!1,w=u.map((j,_)=>{var N,S,P,C;if(g)C=a[d+_];else{var I=me(j,n);Array.isArray(I)?(C=I,x=!0):C=[v,I]}var O=(N=(S=C)===null||S===void 0?void 0:S[1])!==null&&N!==void 0?N:null,k=O==null||g&&!t&&me(j,n)==null;if(y){var M;return{x:ej({axis:l,ticks:f,bandSize:m,entry:j,index:_}),y:k?null:(M=c.scale.map(O))!==null&&M!==void 0?M:null,value:C,payload:j}}return{x:k?null:(P=l.scale.map(O))!==null&&P!==void 0?P:null,y:ej({axis:c,ticks:h,bandSize:m,entry:j,index:_}),value:C,payload:j}}),b;return g||x?b=w.map(j=>{var _,N=Array.isArray(j.value)?j.value[0]:null;if(y){var S;return{x:j.x,y:N!=null&&j.y!=null&&(S=c.scale.map(N))!==null&&S!==void 0?S:null,payload:j.payload}}return{x:N!=null&&(_=l.scale.map(N))!==null&&_!==void 0?_:null,y:j.y,payload:j.payload}}):b=y?c.scale.map(v):l.scale.map(v),{points:w,baseLine:b??0,isRange:x}}function TY(e){var t=Ge(e,KC),r=_t();return p.createElement(Dy,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(PC,{legendPayload:yY(t)}),p.createElement(bY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),p.createElement(AC,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:mP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(OY,vi({},t,{id:n}))))}var VC=p.memo(TY,Bh);VC.displayName="Area";var IY="Invariant failed";function DY(e,t){throw new Error(IY)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(null,arguments)}function rf(e){return p.createElement(EC,hg({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var MY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(H(t))return t;var s=H(n)||Ue(n);return s?t(n,a):(s||DY(),r)}},$Y=(e,t,r)=>r,LY=(e,t)=>t,_c=T([jh,LY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),RY=T([_c],e=>e==null?void 0:e.maxBarSize),zY=(e,t,r,n)=>n,FY=T([ce,jh,jn,Nn,$Y],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),BY=(e,t,r)=>{var n=ce(e),a=jn(e,t),s=Nn(e,t);if(!(a==null||s==null))return n==="horizontal"?Hd(e,"yAxis",s,r):Hd(e,"xAxis",a,r)},UY=(e,t)=>{var r=ce(e),n=jn(e,t),a=Nn(e,t);if(!(n==null||a==null))return r==="horizontal"?G1(e,"xAxis",n):G1(e,"yAxis",a)},WY=T([FY,H9,UY],lV),qY=(e,t,r)=>{var n,a,s=_c(e,t);if(s==null)return 0;var o=jn(e,t),l=Nn(e,t);if(o==null||l==null)return 0;var c=ce(e),u=UO(e),{maxBarSize:d}=s,f=Ue(d)?u:d,h,m;return c==="horizontal"?(h=Ia(e,"xAxis",o,r),m=Ta(e,"xAxis",o,r)):(h=Ia(e,"yAxis",l,r),m=Ta(e,"yAxis",l,r)),(n=(a=zs(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0},GC=(e,t,r)=>{var n=ce(e),a=jn(e,t),s=Nn(e,t);if(!(a==null||s==null)){var o,l;return n==="horizontal"?(o=Ia(e,"xAxis",a,r),l=Ta(e,"xAxis",a,r)):(o=Ia(e,"yAxis",s,r),l=Ta(e,"yAxis",s,r)),zs(o,l)}},HY=T([WY,UO,q9,WO,qY,GC,RY],hV),KY=(e,t,r)=>{var n=jn(e,t);if(n!=null)return Ia(e,"xAxis",n,r)},VY=(e,t,r)=>{var n=Nn(e,t);if(n!=null)return Ia(e,"yAxis",n,r)},GY=(e,t,r)=>{var n=jn(e,t);if(n!=null)return Ta(e,"xAxis",n,r)},YY=(e,t,r)=>{var n=Nn(e,t);if(n!=null)return Ta(e,"yAxis",n,r)},XY=T([HY,_c],pV),QY=T([BY,_c],mV),JY=T([st,sx,KY,VY,GY,YY,XY,ce,AO,GC,QY,_c,zY],(e,t,r,n,a,s,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:y}=f,x;if(y!=null&&y.length>0?x=y:x=m==null?void 0:m.slice(g,v+1),x!=null)return kX({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:g})}}),ZY=["index"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}function eX(e,t){if(e==null)return{};var r,n,a=tX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YC=p.createContext(void 0),rX=e=>{var t=p.useContext(YC);if(t!=null)return t.stackId;if(e!=null)return mP(e)},nX=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),aX=e=>{var t=p.useContext(YC);if(t!=null){var{stackId:r}=t;return"url(#".concat(nX(r,e),")")}},XC=e=>{var{index:t}=e,r=eX(e,ZY),n=aX(t);return p.createElement(Be,mg({className:"recharts-bar-stack-layer",clipPath:n},r))},iX=["onMouseEnter","onMouseLeave","onClick"],sX=["value","background","tooltipPosition"],oX=["id"],lX=["onMouseEnter","onClick","onMouseLeave"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(null,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(e,t){if(e==null)return{};var r,n,a=fX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hX=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:ao(r,t),payload:e}]},mX=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:Mi,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ao(s,t),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return p.createElement(Iy,{tooltipEntrySettings:d})});function pX(e){var t=G(Da),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=nf(s,iX),d=Ay(o,n,s.id),f=Cy(l),h=Ty(c,n,s.id);if(!a||r==null)return null;var m=Ni(a);return p.createElement(qt,{zIndex:gV(a,Ie.barBackground)},r.map((g,v)=>{var{value:y,background:x,tooltipPosition:w}=g,b=nf(g,sX);if(!x)return null;var j=d(g,v),_=f(g,v),N=h(g,v),S=Rt(Rt(Rt(Rt(Rt({option:a,isActive:String(v)===t},b),{},{fill:"#eee"},x),m),tc(u,g,v)),{},{onMouseEnter:j,onMouseLeave:_,onClick:N,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(rf,Yn({key:"background-bar-".concat(v)},S))}))}function gX(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Rt(Rt({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return p.createElement(gC,{value:t?a:void 0},r)}function vX(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=G(Da),c=G(vy),u=r&&String(s)===l&&(c==null||o===c),d=u?r:t;return u?p.createElement(qt,{zIndex:Ie.activeBar},p.createElement(XC,{index:s},p.createElement(rf,Yn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o})))):p.createElement(rf,Yn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function xX(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return p.createElement(rf,Yn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function yX(e){var t,{data:r,props:n}=e,a=(t=er(n))!==null&&t!==void 0?t:{},{id:s}=a,o=nf(a,oX),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=nf(n,lX),g=Ay(d,c,s),v=Cy(h),y=Ty(f,c,s);return r?p.createElement(p.Fragment,null,r.map((x,w)=>p.createElement(XC,Yn({index:w,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w),className:"recharts-bar-rectangle"},tc(m,x,w),{onMouseEnter:g(x,w),onMouseLeave:v(x,w),onClick:y(x,w)}),u?p.createElement(vX,{shape:l,activeBar:u,baseProps:o,entry:x,index:w,dataKey:c}):p.createElement(xX,{shape:l,baseProps:o,entry:x,index:w,dataKey:c})))):null}function bX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=uc(t,"recharts-bar-"),[m,g]=p.useState(!1),v=!m,y=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),x=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(gX,{showLabels:v,rects:n},p.createElement(cc,{animationId:h,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:x,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((j,_)=>{var N=f&&f[_];if(N)return Rt(Rt({},j),{},{x:_e(N.x,j.x,w),y:_e(N.y,j.y,w),width:_e(N.width,j.width,w),height:_e(N.height,j.height,w)});if(a==="horizontal"){var S=_e(0,j.height,w),P=_e(j.stackedBarStart,j.y,w);return Rt(Rt({},j),{},{y:P,height:S})}var C=_e(0,j.width,w),I=_e(j.stackedBarStart,j.x,w);return Rt(Rt({},j),{},{width:C,x:I})});return w>0&&(r.current=b??null),b==null?null:p.createElement(Be,null,p.createElement(yX,{props:t,data:b}))}),p.createElement(_y,{label:t.label}),t.children)}function wX(e){var t=p.useRef(null);return p.createElement(bX,{previousRectanglesRef:t,props:e})}var QC=0,jX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:me(e,t)}};class NX extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=le("recharts-bar",a),f=u;return p.createElement(Be,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(RC,{clipPathId:f,xAxisId:s,yAxisId:o})),p.createElement(Be,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(pX,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(wX,this.props)))}}var _X={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:QC,xAxisId:0,yAxisId:0,zIndex:Ie.bar};function SX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Ry(t,r),h=$i(),m=_t(),g=Oy(e.children,jc),v=G(w=>JY(w,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?y=0:y=h==="vertical"?x.height/2:x.width/2,p.createElement(MG,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:jX,errorBarOffset:y},p.createElement(NX,Yn({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function kX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:v}=e,y=t==="horizontal"?l:o,x=d?y.scale.domain():null,w=FR({numericAxis:y}),b=y.scale.map(w);return f.map((j,_)=>{var N,S,P,C,I,O;if(d){var k=d[_+v];if(k==null)return null;N=MR(k,x)}else N=me(j,r),Array.isArray(N)||(N=[w,N]);var M=MY(n,QC)(N[1],_);if(t==="horizontal"){var L,J=l.scale.map(N[0]),Y=l.scale.map(N[1]);if(J==null||Y==null)return null;S=tj({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:j,index:_}),P=(L=Y??J)!==null&&L!==void 0?L:void 0,C=a.size;var Z=J-Y;if(I=Xr(Z)?0:Z,O={x:S,y:h.top,width:C,height:h.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var R=mt(I||M)*(Math.abs(M)-Math.abs(I));P-=R,I+=R}}else{var B=o.scale.map(N[0]),q=o.scale.map(N[1]);if(B==null||q==null)return null;if(S=B,P=tj({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:_}),C=q-B,I=a.size,O={x:h.left,y:P,width:h.width,height:I},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var ee=mt(C||M)*(Math.abs(M)-Math.abs(C));C+=ee}}if(S==null||P==null||C==null||I==null)return null;var ae=Rt(Rt({},j),{},{stackedBarStart:b,x:S,y:P,width:C,height:I,value:d?N:N[1],payload:j,background:O,tooltipPosition:{x:S+C/2,y:P+I/2},parentViewBox:g},m&&m[_]&&m[_].props);return ae}).filter(Boolean)}function EX(e){var t=Ge(e,_X),r=rX(t.stackId),n=_t();return p.createElement(Dy,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(PC,{legendPayload:hX(t)}),p.createElement(mX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(AC,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(qt,{zIndex:t.zIndex},p.createElement(SX,Yn({},t,{id:a})))))}var ui=p.memo(EX,Bh);ui.displayName="Bar";var PX=["domain","range"],OX=["domain","range"];function i2(e,t){if(e==null)return{};var r,n,a=AX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function JC(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=i2(e,PX),{domain:s,range:o}=t,l=i2(t,OX);return!s2(r,s)||!s2(n,o)?!1:Bh(a,l)}var CX=["type"],TX=["dangerouslySetInnerHTML","ticks","scale"],IX=["id","scale"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gg(e,t){if(e==null)return{};var r,n,a=LX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RX(e){var t=ve(),r=p.useRef(null),n=dx(),{type:a}=e,s=gg(e,CX),o=gh(n,"xAxis",a),l=p.useMemo(()=>{if(o!=null)return l2(l2({},s),{},{type:o})},[s,o]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(VK(l)):r.current!==l&&t(GK({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(YK(r.current)),r.current=null)},[t]),null}var zX=e=>{var{xAxisId:t,className:r}=e,n=G(sx),a=_t(),s="xAxis",o=G(h=>jA(h,s,t,a)),l=G(h=>xA(h,t)),c=G(h=>KB(h,t)),u=G(h=>ZO(h,t));if(l==null||c==null||u==null)return null;var d=gg(e,TX),f=gg(u,IX);return p.createElement(Ly,pg({},d,f,{x:c.x,y:c.y,width:l.width,height:l.height,className:le("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},FX={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Ln.axisLine,height:ct.height,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,label:!1,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Ln.tickLine,tickSize:Ln.tickSize,type:ct.type,xAxisId:0},BX=e=>{var t=Ge(e,FX);return p.createElement(p.Fragment,null,p.createElement(RX,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(zX,t))},Vs=p.memo(BX,JC);Vs.displayName="XAxis";var UX=["type"],WX=["dangerouslySetInnerHTML","ticks","scale"],qX=["id","scale"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(null,arguments)}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=VX(e,"string");return typeof t=="symbol"?t:t+""}function VX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xg(e,t){if(e==null)return{};var r,n,a=GX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YX(e){var t=ve(),r=p.useRef(null),n=dx(),{type:a}=e,s=xg(e,UX),o=gh(n,"yAxis",a),l=p.useMemo(()=>{if(o!=null)return u2(u2({},s),{},{type:o})},[o,s]);return p.useLayoutEffect(()=>{l!=null&&(r.current===null?t(XK(l)):r.current!==l&&t(QK({prev:r.current,next:l})),r.current=l)},[l,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(JK(r.current)),r.current=null)},[t]),null}function XX(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=p.useRef(null),o=p.useRef(null),l=G(sx),c=_t(),u=ve(),d="yAxis",f=G(x=>yA(x,t)),h=G(x=>GB(x,t)),m=G(x=>jA(x,d,t,c)),g=G(x=>eA(x,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Ny(a)||p.isValidElement(a)||g==null)){var x=s.current;if(x){var w=x.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&u(ZK({id:t,width:w}))}}},[m,f,u,a,t,n,g]),f==null||h==null||g==null)return null;var v=xg(e,WX),y=xg(g,qX);return p.createElement(Ly,vg({},v,y,{ref:s,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:le("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))}var QX={allowDataOverflow:ut.allowDataOverflow,allowDecimals:ut.allowDecimals,allowDuplicatedCategory:ut.allowDuplicatedCategory,angle:ut.angle,axisLine:Ln.axisLine,hide:!1,includeHidden:ut.includeHidden,interval:ut.interval,label:!1,minTickGap:ut.minTickGap,mirror:ut.mirror,orientation:ut.orientation,padding:ut.padding,reversed:ut.reversed,scale:ut.scale,tick:ut.tick,tickCount:ut.tickCount,tickLine:Ln.tickLine,tickSize:Ln.tickSize,type:ut.type,width:ut.width,yAxisId:0},JX=e=>{var t=Ge(e,QX);return p.createElement(p.Fragment,null,p.createElement(YX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(XX,t))},Gs=p.memo(JX,JC);Gs.displayName="YAxis";var ZX=(e,t)=>t,zy=T([ZX,ce,XO,vt,zA,ra,cW,st],gW),Fy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZC=Cr("mouseClick"),e4=nc();e4.startListening({actionCreator:ZC,effect:(e,t)=>{var r=e.payload,n=zy(t.getState(),Fy(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(lU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var yg=Cr("mouseMove"),t4=nc(),du=null;t4.startListening({actionCreator:yg,effect:(e,t)=>{var r=e.payload;du!==null&&cancelAnimationFrame(du);var n=Fy(r);du=requestAnimationFrame(()=>{var a=t.getState(),s=dy(a,a.tooltip.settings.shared);if(s==="axis"){var o=zy(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(AA({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(OA())}du=null})}});function eQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var d2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},r4=tr({name:"rootProps",initialState:d2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:d2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),tQ=r4.reducer,{updateOptions:rQ}=r4.actions,nQ=null,aQ={updatePolarOptions:(e,t)=>t.payload},n4=tr({name:"polarOptions",initialState:nQ,reducers:aQ}),{updatePolarOptions:iQ}=n4.actions,sQ=n4.reducer,a4=Cr("keyDown"),i4=Cr("focus"),By=nc();By.startListening({actionCreator:a4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=fy(a,mo(r),xc(r),bc(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=ra(r);if(s==="Enter"){var u=Vd(r,"axis","hover",String(a.index));t.dispatch(og({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=JB(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var g=Vd(r,"axis","hover",String(m));t.dispatch(og({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});By.startListening({actionCreator:i4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=Vd(r,"axis","hover",String(s));t.dispatch(og({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var vr=Cr("externalEvent"),s4=nc(),tp=new Map;s4.startListening({actionCreator:vr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=tp.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:GU(l),activeDataKey:vy(l),activeIndex:Da(l),activeLabel:UA(l),activeTooltipIndex:Da(l),isTooltipActive:YU(l)};r(c,n)}finally{tp.delete(a)}});tp.set(a,o)}}});var oQ=T([fo],e=>e.tooltipItemPayloads),lQ=T([oQ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),o4=Cr("touchMove"),l4=nc();l4.startListening({actionCreator:o4,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=dy(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var o=zy(n,Fy({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(AA({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(gP),f=(l=u.getAttribute(vP))!==null&&l!==void 0?l:void 0,h=ho(n).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=lQ(n,d,f);t.dispatch(PA({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var cQ=LE({brush:xV,cartesianAxis:eV,chartData:KW,errorBars:OG,graphicalItems:oK,layout:AR,legend:Tz,options:BW,polarAxis:NH,polarOptions:sQ,referenceElements:kV,rootProps:tQ,tooltip:cU,zIndex:AW}),uQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return tR({reducer:cQ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([e4.middleware,t4.middleware,By.middleware,s4.middleware,l4.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(JE({type:"raf"}))},devTools:{serialize:{replacer:eQ},name:"recharts-".concat(r)}})};function c4(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=_t(),s=p.useRef(null);if(a)return r;s.current==null&&(s.current=uQ(t,n));var o=Qv;return p.createElement(aY,{context:o,store:s.current},r)}function dQ(e){var{layout:t,margin:r}=e,n=ve(),a=_t();return p.useEffect(()=>{a||(n(ER(t)),n(kR(r)))},[n,a,t,r]),null}var u4=p.memo(dQ,Bh);function d4(e){var t=ve();return p.useEffect(()=>{t(rQ(e))},[t,e]),null}function f2(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),a=ve();return p.useLayoutEffect(()=>(n.current&&a(PW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(OW({zIndex:t,isPanorama:r}))}),[a,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function h2(e){var{children:t,isPanorama:r}=e,n=G(xW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(f2,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>p.createElement(f2,{key:o,zIndex:o,isPanorama:r})))}var fQ=["children"];function hQ(e,t){if(e==null)return{};var r,n,a=mQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(null,arguments)}var pQ={width:"100%",height:"100%",display:"block"},gQ=p.forwardRef((e,t)=>{var r=cx(),n=ux(),a=$P();if(!gn(r)||!gn(n))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement($v,af({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:pQ,ref:t}),s)}),vQ=e=>{var{children:t}=e,r=G(ah);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return p.createElement($v,{width:n,height:a,x:o,y:s},t)},m2=p.forwardRef((e,t)=>{var{children:r}=e,n=hQ(e,fQ),a=_t();return a?p.createElement(vQ,null,p.createElement(h2,{isPanorama:!0},r)):p.createElement(gQ,af({ref:t},n),p.createElement(h2,{isPanorama:!1},r))});function xQ(){var e=ve(),[t,r]=p.useState(null),n=G(KR);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;re(s)&&s!==n&&e(OR(s))}},[t,e,n]),r}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}var NQ=()=>(tq(),null);function sf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _Q=p.forwardRef((e,t)=>{var r,n,a=p.useRef(null),[s,o]=p.useState({containerWidth:sf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:sf((n=e.style)===null||n===void 0?void 0:n.height)}),l=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var v=g[0];if(v!=null){var{width:y,height:x}=v.contentRect;l(y,x)}},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),p.createElement(p.Fragment,null,p.createElement(sc,{width:s.containerWidth,height:s.containerHeight}),p.createElement("div",Pa({ref:c},e)))}),SQ=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=p.useState({containerWidth:sf(r),containerHeight:sf(n)}),o=p.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(sc,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",Pa({ref:l},e)))}),kQ=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(sc,{width:r,height:n}),p.createElement("div",Pa({ref:t},e)))}),EQ=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?p.createElement(SQ,Pa({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?p.createElement(kQ,Pa({},e,{width:r,height:n,ref:t})):p.createElement(p.Fragment,null,p.createElement(sc,{width:r,height:n}),p.createElement("div",Pa({ref:t},e)))});function PQ(e){return e?_Q:EQ}var OQ=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:v,style:y,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,j=p.useRef(null),_=ve(),[N,S]=p.useState(null),[P,C]=p.useState(null),I=xQ(),O=ox(),k=(O==null?void 0:O.width)>0?O.width:x,M=(O==null?void 0:O.height)>0?O.height:a,L=p.useCallback(E=>{I(E),typeof t=="function"&&t(E),S(E),C(E),E!=null&&(j.current=E)},[I,t,S,C]),J=p.useCallback(E=>{_(ZC(E)),_(vr({handler:s,reactEvent:E}))},[_,s]),Y=p.useCallback(E=>{_(yg(E)),_(vr({handler:u,reactEvent:E}))},[_,u]),Z=p.useCallback(E=>{_(OA()),_(vr({handler:d,reactEvent:E}))},[_,d]),R=p.useCallback(E=>{_(yg(E)),_(vr({handler:f,reactEvent:E}))},[_,f]),B=p.useCallback(()=>{_(i4())},[_]),q=p.useCallback(E=>{_(a4(E.key))},[_]),ee=p.useCallback(E=>{_(vr({handler:o,reactEvent:E}))},[_,o]),ae=p.useCallback(E=>{_(vr({handler:l,reactEvent:E}))},[_,l]),Ae=p.useCallback(E=>{_(vr({handler:c,reactEvent:E}))},[_,c]),pe=p.useCallback(E=>{_(vr({handler:h,reactEvent:E}))},[_,h]),St=p.useCallback(E=>{_(vr({handler:v,reactEvent:E}))},[_,v]),et=p.useCallback(E=>{b&&_(o4(E)),_(vr({handler:g,reactEvent:E}))},[_,b,g]),he=p.useCallback(E=>{_(vr({handler:m,reactEvent:E}))},[_,m]),$=PQ(w);return p.createElement(XA.Provider,{value:N},p.createElement($k.Provider,{value:P},p.createElement($,{width:k??(y==null?void 0:y.width),height:M??(y==null?void 0:y.height),className:le("recharts-wrapper",n),style:yQ({position:"relative",cursor:"default",width:k,height:M},y),onClick:J,onContextMenu:ee,onDoubleClick:ae,onFocus:B,onKeyDown:q,onMouseDown:Ae,onMouseEnter:Y,onMouseLeave:Z,onMouseMove:R,onMouseUp:pe,onTouchEnd:he,onTouchMove:et,onTouchStart:St,ref:L},p.createElement(NQ,null),r)))}),AQ=["width","height","responsive","children","className","style","compact","title","desc"];function CQ(e,t){if(e==null)return{};var r,n,a=TQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f4=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,f=CQ(e,AQ),h=er(f);return c?p.createElement(p.Fragment,null,p.createElement(sc,{width:r,height:n}),p.createElement(m2,{otherAttributes:h,title:u,desc:d},s)):p.createElement(OQ,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(m2,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(EV,null,s)))});function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}var IQ={top:5,right:5,bottom:5,left:5},DQ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:IQ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},h4=p.forwardRef(function(t,r){var n,a=Ge(t.categoricalChartProps,DQ),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(c4,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},p.createElement(IC,{chartData:u.data}),p.createElement(u4,{layout:a.layout,margin:a.margin}),p.createElement(d4,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(f4,bg({},a,{ref:r})))}),MQ=["axis","item"],of=p.forwardRef((e,t)=>p.createElement(h4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MQ,tooltipPayloadSearcher:jy,categoricalChartProps:e,ref:t}));function $Q(e){var t=ve();return p.useEffect(()=>{t(iQ(e))},[t,e]),null}var LQ=["layout"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function RQ(e,t){if(e==null)return{};var r,n,a=zQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FQ={top:5,right:5,bottom:5,left:5},m4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FQ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},BQ=p.forwardRef(function(t,r){var n,a=Ge(t.categoricalChartProps,m4),{layout:s}=a,o=RQ(a,LQ),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return p.createElement(c4,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:l},p.createElement(IC,{chartData:a.data}),p.createElement(u4,{layout:s,margin:a.margin}),p.createElement(d4,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement($Q,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(f4,wg({},o,{ref:r})))});function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HQ=["item"],KQ=v2(v2({},m4),{},{layout:"centric",startAngle:0,endAngle:360}),jg=p.forwardRef((e,t)=>{var r=Ge(e,KQ);return p.createElement(BQ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:HQ,tooltipPayloadSearcher:jy,categoricalChartProps:r,ref:t})}),VQ=["axis"],GQ=p.forwardRef((e,t)=>p.createElement(h4,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:VQ,tooltipPayloadSearcher:jy,categoricalChartProps:e,ref:t}));function YQ(){const{id:e}=O6(),t=za(),[r,n]=p.useState(null),[a,s]=p.useState([]),[o,l]=p.useState(!0);return p.useEffect(()=>{(async()=>{if(!e){l(!1);return}try{console.log("Loading dam with ID:",e);const[f,h]=await Promise.all([gM(e),yM(e)]);if(console.log("Dam data loaded:",f),f)n(f),s(h);else{console.log("Dam data not found, trying mock data...");const m=AM.find(g=>g.id===e);if(m){const g={id:m.id,code:m.codigo,name:m.nombre,province:m.provincia,municipality:m.municipio,river:m.rio,dam_type:m.tipo,height:m.altura,max_capacity:m.capacidad_maxima,current_level:m.nivel_actual,current_volume:m.volumen_actual,operational_status:m.estado_operacional,latitude:m.lat,longitude:m.lon,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};n(g),s([])}}}catch(f){console.error("Error loading dam data:",f)}finally{l(!1)}})()},[e]),o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?((d=>d>=90?{color:"text-red-600",icon:Te,label:"Nivel Crtico"}:d>=75?{color:"text-green-600",icon:mn,label:"Nivel ptimo"}:d>=50?{color:"text-blue-600",icon:Qe,label:"Nivel Normal"}:{color:"text-orange-600",icon:Pk,label:"Nivel Bajo"})(r.current_level).icon,i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-blue-900 text-white px-6 py-4 rounded-xl shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("/map"),className:"p-2 hover:bg-blue-700 rounded-lg transition-colors",children:i.jsx(V5,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h1",{className:"text-2xl font-bold",children:r.code}),i.jsx(ir,{status:r.operational_status})]}),i.jsx("p",{className:"text-blue-100 mt-1",children:r.name})]}),i.jsx(Ca,{className:"h-6 w-6 text-blue-300"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[i.jsx("div",{className:"lg:col-span-5",children:i.jsxs(W,{className:"h-full p-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"aspect-[4/3] rounded-lg overflow-hidden",children:i.jsx("img",{src:"https://images.pexels.com/photos/1624496/pexels-photo-1624496.jpeg?auto=compress&cs=tinysrgb&w=800",alt:r.name,className:"w-full h-full object-cover"})}),i.jsx("div",{className:"absolute bottom-3 left-3 bg-slate-900 bg-opacity-80 text-white px-2 py-1 rounded text-xs font-semibold",children:"Vista area de la presa"}),i.jsx("div",{className:"absolute bottom-3 right-3 bg-white px-3 py-1.5 rounded-lg shadow-lg border-2 border-blue-500",children:i.jsx("p",{className:"text-xs font-bold text-blue-900",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b-2 border-slate-300",children:[i.jsx("span",{className:"text-xs font-bold text-slate-900",children:new Date().toLocaleDateString("es-ES")}),i.jsx("span",{className:"text-xs font-bold text-slate-900",children:"VALORES"})]}),i.jsxs("div",{className:"space-y-0.5 text-xs max-h-[400px] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"NIVEL DE EMBALSE (m.s.n.m)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"VOLUMEN EMBALSADO (hm3)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"SUPERFICIE DEL EMBALSE (m2)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"PRECIPITACIN (l/m2)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"APORTACIN AL EMBALSE (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"DESEMBALSE TOTAL (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MNIMA (C)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MXIMA (C)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TEMPERATURA MEDIA (C)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"NIVEL TANQUE EVAPORACIN (mm)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"ALTURA EVAPORADA (mm/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"VOLUMEN EVAPORADO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE DE FONDO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL ALIVIADERO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE AUXILIAR (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL DESAGE INTERMEDIO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL TOMAS (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL TURBINADO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"BOMBEO DE ENTRADA (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"FILTRACIONES/PRDIDAS CONTROLADAS (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5 border-b border-slate-200",children:[i.jsx("span",{className:"text-slate-600",children:"AJUSTES/DESFASES (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]}),i.jsxs("div",{className:"flex justify-between py-1.5",children:[i.jsx("span",{className:"text-slate-600",children:"TOTAL DESTINO ABASTECIMIENTO (m3/da)"}),i.jsx("span",{className:"font-semibold text-slate-900",children:"--"})]})]})]})]})}),i.jsx("div",{className:"lg:col-span-7",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full",children:[i.jsxs(W,{className:"flex flex-col p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"rdenes de Trabajo Preventivo"}),i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sin datos. Ao hidrulico en mantenimientos"}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),i.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[200px]",children:i.jsx(va,{width:"100%",height:200,children:i.jsxs(jg,{children:[i.jsx(Qd,{data:[{name:"No realizado",value:Am.preventivo.pendientes,fill:"#ef4444"},{name:"Realizado",value:Am.preventivo.completadas,fill:"#10b981"},{name:"Evaluado",value:Am.preventivo.canceladas,fill:"#f59e0b"},{name:"En curso",value:5,fill:"#fbbf24"},{name:"Aplazado",value:2,fill:"#d1d5db"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:75,paddingAngle:2,dataKey:"value",label:d=>`${d.value}`}),i.jsx(xa,{})]})})}),i.jsxs("div",{className:"flex justify-center gap-2 text-xs mt-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),i.jsx("span",{children:"No realizado"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{children:"Realizado"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500"}),i.jsx("span",{children:"Evaluado"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400"}),i.jsx("span",{children:"En curso"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-300"}),i.jsx("span",{children:"Aplazado"})]})]})]}),i.jsxs(W,{className:"flex flex-col p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Correctivos y Mejoras"}),i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sin datos. Ao hidrulico en mantenimientos"}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),i.jsx("div",{className:"flex-1 flex items-center justify-center min-h-[200px]",children:i.jsx(va,{width:"100%",height:200,children:i.jsxs(jg,{children:[i.jsx(Qd,{data:[{name:"Detenido",value:0,fill:"#ef4444"},{name:"En pausa",value:0,fill:"#f59e0b"},{name:"Realizado",value:100,fill:"#10b981"},{name:"Evaluado",value:0,fill:"#fbbf24"},{name:"En curso",value:0,fill:"#9ca3af"},{name:"Planificado",value:0,fill:"#d1d5db"}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:75,paddingAngle:0,dataKey:"value",label:d=>d.value>0?`${d.value}%`:""}),i.jsx(xa,{formatter:d=>`${d}%`})]})})}),i.jsxs("div",{className:"flex justify-center gap-2 text-xs mt-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),i.jsx("span",{children:"Detenido"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500"}),i.jsx("span",{children:"En pausa"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),i.jsx("span",{children:"Realizado"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400"}),i.jsx("span",{children:"Evaluado"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-400"}),i.jsx("span",{children:"En curso"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-300"}),i.jsx("span",{children:"Planificado"})]})]})]}),i.jsxs(W,{className:"flex flex-col p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-3",children:"Leyenda Cronogramas"}),i.jsxs("div",{className:"space-y-3 text-xs overflow-y-auto max-h-[400px]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Periodicidad:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"D"}),i.jsx("span",{className:"text-xs",children:"Diaria"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"S"}),i.jsx("span",{className:"text-xs",children:"Semanal"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"Q"}),i.jsx("span",{className:"text-xs",children:"Quincenal"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"M"}),i.jsx("span",{className:"text-xs",children:"Mensual"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"2M"}),i.jsx("span",{className:"text-xs",children:"Bimestral"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"3M"}),i.jsx("span",{className:"text-xs",children:"Trimestral"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"4M"}),i.jsx("span",{className:"text-xs",children:"Cuatrimestral"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"6M"}),i.jsx("span",{className:"text-xs",children:"Semestral"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"3A"}),i.jsx("span",{className:"text-xs",children:"Trienal"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"5A"}),i.jsx("span",{className:"text-xs",children:"Quinquenal"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"A"}),i.jsx("span",{className:"text-xs",children:"Anual"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"font-bold text-slate-900 bg-slate-100 px-1.5 py-0.5 rounded min-w-[24px] text-center",children:"2A"}),i.jsx("span",{className:"text-xs",children:"Bianual"})]})]})]}),i.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[i.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Estado:"}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-yellow-400"}),i.jsx("span",{className:"text-xs",children:"Asignado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-orange-500"}),i.jsx("span",{className:"text-xs",children:"En curso"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),i.jsx("span",{className:"text-xs",children:"Realizado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-red-600"}),i.jsx("span",{className:"text-xs",children:"No realizado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded bg-slate-900"}),i.jsx("span",{className:"text-xs",children:"Rechazado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded border-2 border-slate-400 bg-white"}),i.jsx("span",{className:"text-xs",children:"Planificada"})]})]})]}),i.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[i.jsx("p",{className:"text-xs font-bold text-slate-700 mb-2",children:"Tipo de personal:"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"PP"}),i.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"EE"}),i.jsx("div",{className:"px-2 py-1 bg-slate-200 text-slate-900 text-xs rounded font-bold",children:"OCA"})]})]})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(W,{className:"p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Nivel de Embalse/Precipitacin"}),i.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Sin datos. Ao hidrulico en embalse"}),i.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),i.jsx("div",{className:"flex items-center justify-center h-[220px] bg-slate-50 rounded border border-slate-200",children:i.jsx("p",{className:"text-slate-400 text-sm",children:"Sin registros"})})]}),i.jsxs(W,{className:"p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Aportacin Desembalse"}),i.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Sin datos. Ao hidrulico en embalse"}),i.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Desde: 01/10/2018 Hasta: 07/02/2020"}),i.jsx("div",{className:"flex items-center justify-center h-[220px] bg-slate-50 rounded border border-slate-200",children:i.jsx("p",{className:"text-slate-400 text-sm",children:"Sin registros"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(W,{className:"p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Cronograma Preventivos"}),i.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-3 mb-4",children:[i.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Quincenas - Febrero"}),i.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Vista de calendario de mantenimientos preventivos programados"})]}),i.jsx(va,{width:"100%",height:220,children:i.jsxs(of,{data:Sw,children:[i.jsx(Ks,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Vs,{dataKey:"mes",tick:{fontSize:11}}),i.jsx(Gs,{tick:{fontSize:11}}),i.jsx(xa,{contentStyle:{fontSize:"11px"}}),i.jsx(Ml,{wrapperStyle:{fontSize:"11px"}}),i.jsx(ui,{dataKey:"preventivo",fill:"#3b82f6",name:"Preventivos",radius:[4,4,0,0]})]})})]}),i.jsxs(W,{className:"p-5",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-4",children:"Cronograma Correctivos"}),i.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 p-3 mb-4",children:[i.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Mantenimientos Correctivos"}),i.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Vista de calendario de mantenimientos correctivos realizados"})]}),i.jsx(va,{width:"100%",height:220,children:i.jsxs(of,{data:Sw,children:[i.jsx(Ks,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Vs,{dataKey:"mes",tick:{fontSize:11}}),i.jsx(Gs,{tick:{fontSize:11}}),i.jsx(xa,{contentStyle:{fontSize:"11px"}}),i.jsx(Ml,{wrapperStyle:{fontSize:"11px"}}),i.jsx(ui,{dataKey:"correctivo",fill:"#10b981",name:"Correctivos",radius:[4,4,0,0]})]})})]})]}),i.jsxs(W,{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Incidencias"}),i.jsxs("span",{className:"text-sm text-slate-600 bg-slate-100 px-3 py-1 rounded-full",children:["Fichas de mantenimientos: ",i.jsx("span",{className:"font-bold text-[#0066A1]",children:"0"})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-100 border-b-2 border-slate-300",children:[i.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Cdigo"}),i.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Nombre"}),i.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Estado"}),i.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Fecha Alta"}),i.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-700",children:"Correctivo"})]})}),i.jsx("tbody",{children:i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500 text-sm bg-slate-50",children:"Sin registros."})})})]})}),i.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-slate-200 pt-3",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Mostrando 0 registros"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-600",children:"Filas por pgina:"}),i.jsxs("select",{className:"border border-slate-300 rounded px-2 py-1 text-xs",children:[i.jsx("option",{children:"5"}),i.jsx("option",{children:"10"}),i.jsx("option",{children:"25"}),i.jsx("option",{children:"50"})]})]})]})]})]})):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Presa no encontrada"}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Volver al Dashboard"})]})}function XQ(){const{selectedDam:e}=Ba();_v();const[t,r]=p.useState([]),[n,a]=p.useState("ACTIVOS"),[s,o]=p.useState([]),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState("general"),[m,g]=p.useState(""),[v,y]=p.useState(new Set);p.useEffect(()=>{x()},[]),p.useEffect(()=>{e&&n&&t.length>0&&w()},[e,n,t]);const x=async()=>{try{const{data:N,error:S}=await U.from("inventory_asset_categories").select("*").order("sort_order");if(S)throw S;r(N||[])}catch(N){console.error("Error loading categories:",N)}},w=async()=>{if(e)try{d(!0);const N=t.find(I=>I.code===n);if(!N)return;const{data:S,error:P}=await U.from("inventory_assets").select("*").eq("dam_id",e.id).eq("category_id",N.id).order("sort_order");if(P)throw P;const C=b(S||[]);o(C),C.length>0&&!l&&(c(C[0]),C[0].children&&C[0].children.length>0&&y(new Set([C[0].id])))}catch(N){console.error("Error loading assets:",N)}finally{d(!1)}},b=N=>{const S=new Map,P=[];return N.forEach(C=>{S.set(C.id,{...C,children:[]})}),N.forEach(C=>{const I=S.get(C.id);if(C.parent_asset_id){const O=S.get(C.parent_asset_id);O?(O.children=O.children||[],O.children.push(I)):P.push(I)}else P.push(I)}),P},j=N=>{const S=new Set(v);S.has(N)?S.delete(N):S.add(N),y(S)},_=(N,S=0)=>(m?N.filter(C=>C.name.toLowerCase().includes(m.toLowerCase())||C.code.toLowerCase().includes(m.toLowerCase())):N).map(C=>{const I=v.has(C.id),O=C.children&&C.children.length>0,k=(l==null?void 0:l.id)===C.id;return i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 cursor-pointer hover:bg-blue-50 border-l-2 transition-colors ${k?"bg-blue-50 border-blue-600 text-blue-900":"border-transparent text-gray-700"}`,style:{paddingLeft:`${S*20+12}px`},onClick:()=>c(C),children:[O?i.jsx("button",{onClick:M=>{M.stopPropagation(),j(C.id)},className:"p-0 hover:text-blue-600",children:I?i.jsx(Y5,{size:16}):i.jsx(ln,{size:16})}):i.jsx("div",{className:"w-4"}),i.jsx(f0,{size:16,className:"text-blue-600 flex-shrink-0"}),i.jsxs("span",{className:"text-sm flex-1 truncate",children:[C.code," - ",C.name]})]}),O&&I&&i.jsx("div",{children:_(C.children,S+1)})]},C.id)});return e?i.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-[#00416A] to-[#4682B4] p-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h1",{className:"text-xl font-bold text-white",children:[e.code," ",e.name.toUpperCase()]})}),i.jsx("div",{className:"flex gap-2 mb-4",children:t.map(N=>i.jsx("button",{onClick:()=>a(N.code),className:`px-6 py-2 rounded-t-lg font-medium transition-colors ${n===N.code?"bg-white text-[#0066A1]":"bg-[#0066A1] text-white hover:bg-[#004d7a]"}`,children:N.name.toUpperCase()},N.id))}),i.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[i.jsxs("div",{className:"w-72 flex flex-col bg-white rounded-lg shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"FILTRO"}),i.jsx("button",{className:"ml-auto p-1 hover:bg-gray-200 rounded",children:i.jsx(Ms,{size:16})}),i.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",children:i.jsx(Tf,{size:16})})]}),i.jsx("input",{type:"text",placeholder:"Ubicacin",value:m,onChange:N=>g(N.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500",children:[i.jsx(al,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No hay elementos"})]}):_(s)})]}),i.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-lg overflow-hidden flex flex-col",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3",children:i.jsx("h2",{className:"text-xl font-bold",children:l.name.toUpperCase()})}),i.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[i.jsx("button",{onClick:()=>h("general"),className:`px-6 py-3 font-medium text-sm transition-colors ${f==="general"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:"Datos generales"}),i.jsx("button",{onClick:()=>h("technical"),className:`px-6 py-3 font-medium text-sm transition-colors ${f==="technical"?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:"Datos tcnicos adicionales"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:f==="general"?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Datos generales"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-48",children:"Cdigo:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.code})]}),i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-48",children:"Descripcin:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.name})]}),l.extended_description&&i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Descripcin Ampliada:"}),i.jsx("p",{className:"text-sm text-gray-900 mt-2 leading-relaxed",children:l.extended_description})]})]})]}),l.parent_asset_id===null&&i.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[l.status&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"En fase de:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.status})]}),l.owner&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Titular de la presa:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.owner})]}),l.operator&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Titular de la explotacin:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.operator})]}),l.designer&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Proyectista:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.designer})]}),l.construction_manager&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Direccin de obra:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.construction_manager})]}),l.construction_end_date&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Fin de las obras:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.construction_end_date).toLocaleDateString("es-ES")})]}),l.commissioning_date&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Puesta en explotacin:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.commissioning_date).toLocaleDateString("es-ES")})]}),l.risk_category&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Categora segn riesgo:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.risk_category})]}),l.usage_type&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Usos del embalse:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.usage_type})]}),l.emergency_plan_approval&&i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"text-sm text-gray-700 w-64",children:"Aprobacin del Plan de Emergencia:"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.emergency_plan_approval})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Fotografas"}),i.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-100 to-green-100 rounded-lg overflow-hidden border-2 border-gray-200",children:i.jsx("img",{src:"https://images.pexels.com/photos/1624496/pexels-photo-1624496.jpeg?auto=compress&cs=tinysrgb&w=800",alt:l.name,className:"w-full h-full object-cover"})})]}),l.parent_asset_id===null&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Datos hidrulicos"}),i.jsxs("div",{className:"space-y-2",children:[l.capacity_nmn&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Capacidad (NMN) (hm):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.capacity_nmn})]}),l.surface_nmn&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Superficie (NMN)(ha):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.surface_nmn})]}),l.avg_precipitation!==void 0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Precipitacin media anual (mm):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.avg_precipitation})]}),l.avg_inflow!==void 0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Aportacin media anual (hm):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.avg_inflow})]}),l.design_flood&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Avenida de proyecto(m/s):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.design_flood})]}),l.extreme_flood&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Avenida extrema(m/s):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.extreme_flood})]})]})]}),l.parent_asset_id===null&&i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[i.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Datos tcnicos"}),i.jsxs("div",{className:"space-y-2",children:[l.dam_type&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Tipo de presa:"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.dam_type})]}),l.height_above_riverbed&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Altura sobre cauce (m):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.height_above_riverbed})]}),l.height_from_foundation&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Altura desde cimientos (m):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.height_from_foundation})]}),l.crest_length&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Longitud de coronacin (m):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.crest_length})]}),l.crest_elevation&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:"Cota coronacin (m):"}),i.jsx("span",{className:"font-medium text-gray-900",children:l.crest_elevation})]})]})]})]})]}):i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"text-center py-12 text-gray-500",children:i.jsx("p",{children:"No hay datos tcnicos adicionales registrados"})})})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(al,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-lg",children:"Selecciona un elemento del inventario"}),i.jsx("p",{className:"text-sm mt-1",children:"para ver sus detalles"})]})})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(al,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-lg",children:"Selecciona una presa desde el mapa"}),i.jsx("p",{className:"text-sm mt-1",children:"para ver su inventario"})]})})}const QQ={default:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-green-100 text-green-800 border-green-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",danger:"bg-red-100 text-red-800 border-red-200",info:"bg-sipresas-lightest text-sipresas-primary border-sipresas-lighter",purple:"bg-purple-100 text-purple-800 border-purple-200",secondary:"bg-sipresas-lightest text-sipresas-dark border-sipresas-lighter"};function wt({children:e,variant:t="default",className:r=""}){return i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${QQ[t]} ${r}`,children:e})}function x2({workOrderId:e,isClosed:t,onOperationsChange:r}){const[n,a]=p.useState([]),[s,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(!1),[f,h]=p.useState(null),[m,g]=p.useState({operation_name:"",operation_description:"",status:"pending"}),[v,y]=p.useState({operation_name:"",operation_description:"",status:"pending",result:"",notes:""});p.useEffect(()=>{x()},[e]);const x=async()=>{try{o(!0);const{data:k,error:M}=await U.from("maintenance_work_order_operations").select("*").eq("work_order_id",e).order("operation_number",{ascending:!0});if(M)throw M;a(k||[])}catch(k){console.error("Error loading operations:",k)}finally{o(!1)}},w=async k=>{if(m.operation_name.trim())try{let M;k!==void 0&&k<n.length||(M=n.length+1);const{error:L}=await U.from("maintenance_work_order_operations").insert({work_order_id:e,operation_number:M,operation_name:m.operation_name,operation_description:m.operation_description||null,status:m.status});if(L)throw L;g({operation_name:"",operation_description:"",status:"pending"}),d(!1),await x(),r==null||r()}catch(M){console.error("Error adding operation:",M),alert("Error al aadir la operacin")}},b=async k=>{var M,L;try{const J={operation_name:v.operation_name,operation_description:v.operation_description||null,status:v.status,result:v.result||null,notes:v.notes||null};v.status==="completed"&&!((M=n.find(Z=>Z.id===k))!=null&&M.completed_at)&&(J.completed_at=new Date().toISOString(),J.completed_by=(L=(await U.auth.getUser()).data.user)==null?void 0:L.id);const{error:Y}=await U.from("maintenance_work_order_operations").update(J).eq("id",k);if(Y)throw Y;c(null),await x(),r==null||r()}catch(J){console.error("Error updating operation:",J),alert("Error al actualizar la operacin")}},j=async k=>{if(confirm("Eliminar esta operacin?"))try{const M=n.find(Y=>Y.id===k);if(!M)return;const{error:L}=await U.from("maintenance_work_order_operations").delete().eq("id",k);if(L)throw L;const J=n.filter(Y=>Y.operation_number>M.operation_number).map(Y=>({id:Y.id,operation_number:Y.operation_number-1}));for(const Y of J)await U.from("maintenance_work_order_operations").update({operation_number:Y.operation_number}).eq("id",Y.id);await x(),r==null||r()}catch(M){console.error("Error deleting operation:",M),alert("Error al eliminar la operacin")}},_=async(k,M)=>{if(k!==M)try{const L=[...n],[J]=L.splice(k,1);L.splice(M,0,J);const Y=L.map((Z,R)=>({id:Z.id,operation_number:R+1}));for(const Z of Y)await U.from("maintenance_work_order_operations").update({operation_number:Z.operation_number}).eq("id",Z.id);await x(),r==null||r()}catch(L){console.error("Error reordering operations:",L),alert("Error al reordenar las operaciones")}},N=k=>{t||h(k)},S=(k,M)=>{k.preventDefault()},P=(k,M)=>{k.preventDefault(),f!==null&&f!==M&&_(f,M),h(null)},C=k=>{c(k.id),y({operation_name:k.operation_name,operation_description:k.operation_description||"",status:k.status,result:k.result||"",notes:k.notes||""})},I=k=>{switch(k){case"completed":return"text-green-600 bg-green-50";case"in_progress":return"text-blue-600 bg-blue-50";default:return"text-orange-600 bg-orange-50"}},O=k=>{switch(k){case"completed":return"Completada";case"in_progress":return"En Progreso";default:return"Pendiente"}};return s?i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Cargando operaciones..."}):i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Operaciones"}),!t&&i.jsxs("button",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-sm flex items-center gap-2",onClick:()=>d(!0),children:[i.jsx(il,{className:"w-4 h-4"}),"Aadir Operacin"]})]}),u&&i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Nueva Operacin"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Operacin *"}),i.jsx("input",{type:"text",value:m.operation_name,onChange:k=>g({...m,operation_name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Inspeccin visual de aliviadero"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:m.operation_description,onChange:k=>g({...m,operation_description:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripcin detallada de la operacin..."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>w(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(El,{className:"w-4 h-4"}),"Guardar al Final"]}),i.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]}),i.jsx("div",{className:"space-y-2",children:n.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No hay operaciones registradas. ",!t&&"Aade la primera operacin."]}):n.map((k,M)=>i.jsxs("div",{draggable:!t,onDragStart:()=>N(M),onDragOver:L=>S(L),onDrop:L=>P(L,M),className:`flex items-start gap-2 p-3 rounded-lg border ${t?"bg-gray-50 border-gray-200":"bg-white border-gray-300"} ${f===M?"opacity-50":""}`,children:[!t&&i.jsx(Z5,{className:"w-5 h-5 text-gray-400 cursor-move flex-shrink-0 mt-1"}),i.jsx("div",{className:"flex-1",children:l===k.id?i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",value:v.operation_name,onChange:L=>y({...v,operation_name:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"}),i.jsx("textarea",{value:v.operation_description,onChange:L=>y({...v,operation_description:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Descripcin..."}),i.jsxs("select",{value:v.status,onChange:L=>y({...v,status:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"in_progress",children:"En Progreso"}),i.jsx("option",{value:"completed",children:"Completada"})]}),i.jsx("textarea",{value:v.result,onChange:L=>y({...v,result:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Resultado de la operacin..."}),i.jsx("textarea",{value:v.notes,onChange:L=>y({...v,notes:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",rows:2,placeholder:"Notas adicionales..."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>b(k.id),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Guardar"}),i.jsx("button",{onClick:()=>c(null),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300",children:"Cancelar"})]})]}):i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[M+1,". ",k.operation_name]}),k.operation_description&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:k.operation_description}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I(k.status)}`,children:O(k.status)}),k.completed_at&&i.jsxs("span",{className:"text-xs text-gray-500",children:["Completada: ",new Date(k.completed_at).toLocaleDateString("es-ES")]})]}),k.result&&i.jsxs("p",{className:"text-xs text-gray-700 mt-2",children:[i.jsx("strong",{children:"Resultado:"})," ",k.result]}),k.notes&&i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.jsx("strong",{children:"Notas:"})," ",k.notes]})]})})})}),!t&&l!==k.id&&i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[i.jsx("button",{onClick:()=>C(k),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Editar operacin",children:i.jsx(x0,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>j(k.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Eliminar operacin",children:i.jsx(Ek,{className:"w-4 h-4"})})]})]},k.id))})]})}async function y2(e){var t;try{const{data:r,error:n}=await U.from("maintenance_work_orders").select(`
        *,
        dam:dams(code, name),
        assigned_user:user_profiles(full_name),
        activity:maintenance_activities(name)
      `).eq("id",e).single();if(n||!r)throw new Error("Work order not found");const{data:a,error:s}=await U.from("maintenance_work_order_operations").select("*").eq("work_order_id",e).order("operation_number",{ascending:!0});if(s)throw new Error("Error loading operations");const{data:o,error:l}=await U.from("maintenance_work_order_closure").select(`
        *,
        closed_by_user:user_profiles!maintenance_work_order_closure_closed_by_fkey(full_name)
      `).eq("work_order_id",e).maybeSingle();if(l)throw new Error("Error loading closure info");const c={workOrder:{code:r.code,title:r.title,description:r.description,order_type:r.order_type,status:r.status,scheduled_date:r.scheduled_date,priority:r.priority,dam:r.dam,assigned_user:r.assigned_user,activity:r.activity},operations:a||[],closure:o?{closed_at:o.closed_at,closed_by_name:((t=o.closed_by_user)==null?void 0:t.full_name)||"Desconocido",observations:o.observations}:{closed_at:new Date().toISOString(),closed_by_name:"Sistema",observations:null}},u=JQ(c);return`/maintenance-reports/${`parte_mantenimiento_${r.code}_${Date.now()}.pdf`}`}catch(r){throw console.error("Error generating PDF:",r),r}}function JQ(e){const t=a=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Completada",cancelled:"Cancelada"})[a]||a,r=a=>a==="preventive"?"Preventivo":"Correctivo";return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Parte de Mantenimiento - ${e.workOrder.code}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      color: #333;
    }
    .header {
      border-bottom: 3px solid #1e40af;
      padding-bottom: 20px;
      margin-bottom: 30px;
    }
    .header h1 {
      color: #1e40af;
      margin: 0 0 10px 0;
    }
    .header .subtitle {
      color: #666;
      font-size: 14px;
    }
    .info-section {
      margin-bottom: 30px;
    }
    .info-section h2 {
      color: #1e40af;
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 10px;
      margin-bottom: 15px;
      font-size: 18px;
    }
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    .info-item {
      padding: 10px;
      background-color: #f9fafb;
      border-left: 3px solid #1e40af;
    }
    .info-item label {
      font-weight: bold;
      color: #4b5563;
      font-size: 12px;
      display: block;
      margin-bottom: 5px;
    }
    .info-item .value {
      color: #111827;
      font-size: 14px;
    }
    .operations-list {
      margin-top: 20px;
    }
    .operation-item {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      background-color: #ffffff;
    }
    .operation-header {
      font-weight: bold;
      color: #1e40af;
      margin-bottom: 10px;
      font-size: 15px;
    }
    .operation-detail {
      margin-bottom: 8px;
      font-size: 13px;
    }
    .operation-detail label {
      font-weight: bold;
      color: #4b5563;
      margin-right: 5px;
    }
    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }
    .status-completed {
      background-color: #d1fae5;
      color: #065f46;
    }
    .status-in-progress {
      background-color: #dbeafe;
      color: #1e40af;
    }
    .status-pending {
      background-color: #fed7aa;
      color: #9a3412;
    }
    .closure-section {
      background-color: #f0f9ff;
      border: 2px solid #1e40af;
      border-radius: 8px;
      padding: 20px;
      margin-top: 30px;
    }
    .closure-section h3 {
      color: #1e40af;
      margin-top: 0;
    }
    .footer {
      margin-top: 50px;
      padding-top: 20px;
      border-top: 2px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 12px;
    }
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }
    .badge-preventive {
      background-color: #dbeafe;
      color: #1e40af;
    }
    .badge-corrective {
      background-color: #fed7aa;
      color: #9a3412;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>PARTE DE MANTENIMIENTO</h1>
    <div class="subtitle">
      Confederacin Hidrogrfica del Guadalquivir - Sistema SIPRESAS
    </div>
  </div>

  <div class="info-section">
    <h2>Datos Generales</h2>
    <div class="info-grid">
      <div class="info-item">
        <label>Cdigo de Orden:</label>
        <div class="value">${e.workOrder.code}</div>
      </div>
      <div class="info-item">
        <label>Presa:</label>
        <div class="value">${e.workOrder.dam.code} - ${e.workOrder.dam.name}</div>
      </div>
      <div class="info-item">
        <label>Tipo de Mantenimiento:</label>
        <div class="value">
          <span class="badge ${e.workOrder.order_type==="preventive"?"badge-preventive":"badge-corrective"}">
            ${r(e.workOrder.order_type)}
          </span>
        </div>
      </div>
      <div class="info-item">
        <label>Estado:</label>
        <div class="value">${t(e.workOrder.status)}</div>
      </div>
      ${e.workOrder.scheduled_date?`
      <div class="info-item">
        <label>Fecha Programada:</label>
        <div class="value">${new Date(e.workOrder.scheduled_date).toLocaleDateString("es-ES")}</div>
      </div>
      `:""}
      ${e.workOrder.assigned_user?`
      <div class="info-item">
        <label>Asignado a:</label>
        <div class="value">${e.workOrder.assigned_user.full_name}</div>
      </div>
      `:""}
    </div>

    <div class="info-item" style="grid-column: span 2;">
      <label>Ttulo:</label>
      <div class="value">${e.workOrder.title}</div>
    </div>

    ${e.workOrder.description?`
    <div class="info-item" style="grid-column: span 2; margin-top: 15px;">
      <label>Descripcin:</label>
      <div class="value">${e.workOrder.description}</div>
    </div>
    `:""}

    ${e.workOrder.activity?`
    <div class="info-item" style="grid-column: span 2; margin-top: 15px;">
      <label>Actividad:</label>
      <div class="value">${e.workOrder.activity.name}</div>
    </div>
    `:""}
  </div>

  <div class="info-section">
    <h2>Operaciones Realizadas</h2>
    ${e.operations.length===0?`
      <p style="color: #6b7280; font-style: italic;">No se registraron operaciones para esta orden de trabajo.</p>
    `:`
      <div class="operations-list">
        ${e.operations.map(a=>`
          <div class="operation-item">
            <div class="operation-header">
              ${a.operation_number}. ${a.operation_name}
            </div>
            ${a.operation_description?`
              <div class="operation-detail">
                <label>Descripcin:</label> ${a.operation_description}
              </div>
            `:""}
            <div class="operation-detail">
              <label>Estado:</label>
              <span class="status-badge status-${a.status==="completed"?"completed":a.status==="in_progress"?"in-progress":"pending"}">
                ${t(a.status)}
              </span>
            </div>
            ${a.result?`
              <div class="operation-detail">
                <label>Resultado:</label> ${a.result}
              </div>
            `:""}
            ${a.notes?`
              <div class="operation-detail">
                <label>Notas:</label> ${a.notes}
              </div>
            `:""}
            ${a.completed_at?`
              <div class="operation-detail">
                <label>Fecha de Completado:</label> ${new Date(a.completed_at).toLocaleString("es-ES")}
              </div>
            `:""}
          </div>
        `).join("")}
      </div>
    `}
  </div>

  <div class="closure-section">
    <h3>Cierre de Parte de Trabajo</h3>
    <div class="info-grid">
      <div class="info-item">
        <label>Fecha de Cierre:</label>
        <div class="value">${new Date(e.closure.closed_at).toLocaleString("es-ES")}</div>
      </div>
      <div class="info-item">
        <label>Cerrado por:</label>
        <div class="value">${e.closure.closed_by_name}</div>
      </div>
    </div>
    ${e.closure.observations?`
      <div class="info-item" style="margin-top: 15px;">
        <label>Observaciones Finales:</label>
        <div class="value">${e.closure.observations}</div>
      </div>
    `:""}
  </div>

  <div class="footer">
    <p>Documento generado automticamente por SIPRESAS</p>
    <p>Fecha de generacin: ${new Date().toLocaleString("es-ES")}</p>
  </div>
</body>
</html>
  `}async function ZQ(e,t){try{const{data:r}=await U.from("maintenance_work_orders").select("equipment_id, dam_id").eq("id",e).maybeSingle();if(!r||!r.equipment_id)return console.log("Work order does not have associated equipment, skipping BIM integration"),!1;const{data:n}=await U.from("inventory_equipment").select("has_bim_model").eq("id",r.equipment_id).maybeSingle();if(!n||!n.has_bim_model)return console.log("Equipment does not have BIM model, skipping BIM integration"),!1;const{data:a}=await U.from("bim_equipment_documents").select("id").eq("equipment_id",r.equipment_id).eq("document_type","maintenance_report").order("created_at",{ascending:!1}).limit(1).maybeSingle();return a?await U.from("bim_equipment_documents").update({file_path:t,updated_at:new Date().toISOString()}).eq("id",a.id):await U.from("bim_equipment_documents").insert({equipment_id:r.equipment_id,document_type:"maintenance_report",document_name:"ltimo Parte de Mantenimiento",file_path:t,file_format:"pdf"}),await U.from("maintenance_work_order_closure").update({sent_to_bim:!0,bim_sent_at:new Date().toISOString()}).eq("work_order_id",e),!0}catch(r){return console.error("Error sending PDF to BIM:",r),!1}}const Mo=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],eJ=[{value:"all",label:"Todas"},{value:"daily",label:"Diaria"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensual"},{value:"quarterly",label:"Trimestral"},{value:"semiannual",label:"Semestral"},{value:"annual",label:"Anual"}];function tJ(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,s]=p.useState(""),[o,l]=p.useState(new Date().getFullYear()),[c,u]=p.useState([]),[d,f]=p.useState(!0),[h,m]=p.useState(null),[g,v]=p.useState(""),[y,x]=p.useState(!1),[w,b]=p.useState(!1),[j,_]=p.useState(null),[N,S]=p.useState({order_type:"preventive",periodicity:"monthly",month:new Date().getMonth()+1,personnel_type:"EE",title:"",description:""}),[P,C]=p.useState({orderType:"all",status:"all",periodicity:"all",personnelType:"all"});p.useEffect(()=>{I()},[]),p.useEffect(()=>{a&&O()},[a,o]),p.useEffect(()=>{k()},[e,P]);const I=async()=>{try{const $=await Mf();u($),$.length>0&&!a&&s($[0].id)}catch($){console.error("Error loading dams:",$)}},O=async()=>{try{f(!0);const $=await jM(a,o);t($)}catch($){console.error("Error loading work orders:",$)}finally{f(!1)}},k=()=>{let $=[...e];P.orderType!=="all"&&($=$.filter(E=>E.order_type===P.orderType)),P.status!=="all"&&($=$.filter(E=>E.status===P.status)),n($)},M=$=>{switch($){case"completed":return i.jsx(Ve,{className:"h-4 w-4 text-green-600"});case"in_progress":return i.jsx(Ua,{className:"h-4 w-4 text-blue-600"});case"cancelled":return i.jsx($s,{className:"h-4 w-4 text-gray-600"});default:return i.jsx(Sr,{className:"h-4 w-4 text-orange-600"})}},L=$=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Realizada",cancelled:"Cancelada"})[$]||$,J=$=>{switch($){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"cancelled":return"bg-gray-500";default:return"bg-orange-500"}},Y=$=>$==="preventive"?"Preventivo":"Correctivo",Z=$=>$==="preventive"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800",B={total:r.length,pending:r.filter(E=>E.status==="pending").length,inProgress:r.filter(E=>E.status==="in_progress").length,completed:r.filter(E=>E.status==="completed").length,preventive:r.filter(E=>E.order_type==="preventive").length,corrective:r.filter(E=>E.order_type==="corrective").length},q=async()=>{if(h&&confirm("Cerrar esta orden de trabajo? Una vez cerrada no podr modificarse y se generar automticamente el PDF."))try{x(!0);const{data:$}=await U.auth.getUser();if(!$.user)throw new Error("User not authenticated");await U.from("maintenance_work_orders").update({status:"completed",is_closed:!0,closed_at:new Date().toISOString()}).eq("id",h.id);const E=await y2(h.id),{error:F}=await U.from("maintenance_work_order_closure").insert({work_order_id:h.id,closed_by:$.user.id,pdf_generated:!0,pdf_file_path:E,observations:g||null});if(F)throw F;const A=await ZQ(h.id,E);alert(`Orden de trabajo cerrada correctamente.

PDF generado: ${E}
`+(A?"PDF enviado automticamente al mdulo BIM.":"Este equipo no tiene modelo BIM asociado.")),v(""),await O(),m(null)}catch($){console.error("Error closing work order:",$),alert("Error al cerrar la orden de trabajo")}finally{x(!1)}},ee=async $=>{if(confirm("Iniciar esta orden de trabajo?"))try{const{error:E}=await U.from("maintenance_work_orders").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",$);if(E)throw E;alert("Orden de trabajo iniciada correctamente"),await O();const F=e.find(A=>A.id===$);F&&m({...F,status:"in_progress",started_at:new Date().toISOString()})}catch(E){console.error("Error starting work order:",E),alert("Error al iniciar la orden de trabajo")}},ae=async $=>{if(confirm("Est seguro de eliminar esta orden de trabajo? Esta accin no se puede deshacer."))try{const{error:E}=await U.from("maintenance_work_orders").delete().eq("id",$);if(E)throw E;alert("Orden de trabajo eliminada correctamente"),await O(),m(null)}catch(E){console.error("Error deleting work order:",E),alert("Error al eliminar la orden de trabajo")}},Ae=$=>{_({...$,title:$.title,description:$.description||"",order_type:$.order_type,scheduled_month:$.scheduled_month||new Date().getMonth()+1,priority:$.priority||"medium"})},pe=()=>{_(null)},St=async()=>{if(j){if(!j.title.trim()){alert("El ttulo es obligatorio");return}try{const{error:$}=await U.from("maintenance_work_orders").update({title:j.title,description:j.description,order_type:j.order_type,scheduled_month:j.scheduled_month,priority:j.priority,updated_at:new Date().toISOString()}).eq("id",j.id);if($)throw $;alert("Orden de trabajo actualizada correctamente"),await O(),(h==null?void 0:h.id)===j.id&&m({...h,...j}),_(null)}catch($){console.error("Error updating work order:",$),alert("Error al actualizar la orden de trabajo: "+$.message)}}},et=async()=>{if(!N.title.trim()){alert("El ttulo es obligatorio");return}if(!N.description.trim()){alert("La descripcin es obligatoria");return}try{const{data:{user:$}}=await U.auth.getUser(),{data:E}=await U.from("maintenance_work_orders").select("code").order("code",{ascending:!1}).limit(1).maybeSingle();let F=1;if(E!=null&&E.code){const V=E.code.match(/WO-(\d+)/);V&&(F=parseInt(V[1])+1)}const A=`WO-${String(F).padStart(6,"0")}`,{data:D,error:te}=await U.from("maintenance_work_orders").insert([{dam_id:a,order_type:N.order_type,code:A,title:N.title,description:N.description,scheduled_month:N.month,scheduled_year:o,status:"pending",priority:"medium",is_closed:!1,created_by:$==null?void 0:$.id}]).select().single();if(te)throw te;alert("Orden de trabajo creada correctamente"),S({order_type:"preventive",periodicity:"monthly",month:new Date().getMonth()+1,personnel_type:"EE",title:"",description:""}),b(!1),await O(),D&&m(D)}catch($){console.error("Error creating work order:",$),alert("Error al crear la orden de trabajo: "+$.message)}},he=async $=>{try{x(!0);const{data:E}=await U.from("maintenance_work_order_closure").select("pdf_file_path").eq("work_order_id",$).maybeSingle();if(E!=null&&E.pdf_file_path)alert(`Descargando PDF desde: ${E.pdf_file_path}`);else{const F=await y2($);alert(`PDF generado y disponible en: ${F}`)}}catch(E){console.error("Error downloading PDF:",E),alert("Error al descargar el PDF")}finally{x(!1)}};return d?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Df,{className:"h-7 w-7 text-blue-600"}),"Mantenimiento"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de mantenimiento preventivo y correctivo"})]}),i.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(il,{className:"w-5 h-5"}),"Nueva Orden de Trabajo"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"rdenes Totales"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.total})]}),i.jsx(Cv,{className:"h-8 w-8 text-blue-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Preventivos"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:B.preventive})]}),i.jsx(Ve,{className:"h-8 w-8 text-blue-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Correctivos"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:B.corrective})]}),i.jsx(Sr,{className:"h-8 w-8 text-orange-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Completadas"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:B.completed})]}),i.jsx(Ve,{className:"h-8 w-8 text-green-600"})]})})]}),i.jsxs(W,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsx("select",{value:a,onChange:$=>s($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:c.map($=>i.jsxs("option",{value:$.id,children:[$.code," - ",$.name]},$.id))}),i.jsx("select",{value:o,onChange:$=>l(Number($.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[2020,2021,2022,2023,2024,2025,2026].map($=>i.jsx("option",{value:$,children:$},$))}),i.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4",children:[i.jsx(Tf,{className:"h-4 w-4 text-gray-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Filtros:"})]}),i.jsxs("select",{value:P.orderType,onChange:$=>C({...P,orderType:$.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los tipos"}),i.jsx("option",{value:"preventive",children:"Preventivo"}),i.jsx("option",{value:"corrective",children:"Correctivo"})]}),i.jsxs("select",{value:P.status,onChange:$=>C({...P,status:$.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"in_progress",children:"En Progreso"}),i.jsx("option",{value:"completed",children:"Completada"}),i.jsx("option",{value:"cancelled",children:"Cancelada"})]}),i.jsx("select",{value:P.periodicity,onChange:$=>C({...P,periodicity:$.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:eJ.map($=>i.jsx("option",{value:$.value,children:$.label},$.value))})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Cronograma ",o]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-blue-50",children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 border border-gray-300",children:"Actividad"}),Mo.map(($,E)=>i.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-700 border border-gray-300 min-w-[80px]",children:$},$))]})}),i.jsx("tbody",{className:"bg-white",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:13,className:"px-4 py-8 text-center text-gray-500",children:"No hay rdenes de trabajo programadas para este ao"})}):i.jsx(i.Fragment,{children:Array.from(new Set(r.map($=>{var E;return((E=$.activity)==null?void 0:E.name)||$.title}))).map(($,E)=>{const F=r.filter(A=>{var D;return(((D=A.activity)==null?void 0:D.name)||A.title)===$});return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 border border-gray-300 font-medium",children:$}),Mo.map((A,D)=>{const te=F.filter(V=>V.scheduled_month===D+1);return i.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:te.length>0?i.jsx("div",{className:"flex flex-col gap-1",children:te.map(V=>i.jsx("button",{onClick:()=>m(V),className:`w-full px-2 py-1 rounded text-xs font-medium text-white ${J(V.status)} hover:opacity-80 transition-opacity`,title:`${L(V.status)} - ${V.title}`,children:V.status==="completed"?"R":V.status==="cancelled"?"X":"P"},V.id))}):i.jsx("span",{className:"text-gray-300",children:""})},A)})]},E)})})})]})}),i.jsxs("div",{className:"mt-6 flex items-center gap-6 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),i.jsx("span",{className:"text-gray-600",children:"Realizada (R)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),i.jsx("span",{className:"text-gray-600",children:"Pendiente (P)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded"}),i.jsx("span",{className:"text-gray-600",children:"Cancelada (X)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),i.jsx("span",{className:"text-gray-600",children:"En Progreso (P)"})]})]})]})]}),h&&i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Detalle de Orden de Trabajo"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wt,{variant:"info",children:h.code}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z(h.order_type)}`,children:Y(h.order_type)}),M(h.status),i.jsx("span",{className:"text-sm text-gray-600",children:L(h.status)})]})]}),i.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),j&&j.id===h.id?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ttulo *"}),i.jsx("input",{type:"text",value:j.title,onChange:$=>_({...j,title:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),i.jsx("textarea",{value:j.description,onChange:$=>_({...j,description:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",rows:4})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo de Orden"}),i.jsxs("select",{value:j.order_type,onChange:$=>_({...j,order_type:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:[i.jsx("option",{value:"preventive",children:"Preventivo"}),i.jsx("option",{value:"corrective",children:"Correctivo"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mes Programado"}),i.jsx("select",{value:j.scheduled_month,onChange:$=>_({...j,scheduled_month:Number($.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:Mo.map(($,E)=>i.jsx("option",{value:E+1,children:$},E))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),i.jsxs("select",{value:j.priority,onChange:$=>_({...j,priority:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-1",children:[i.jsx("option",{value:"low",children:"Baja"}),i.jsx("option",{value:"medium",children:"Media"}),i.jsx("option",{value:"high",children:"Alta"})]})]}),h.assigned_user&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Asignado a"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.assigned_user.full_name})]})]}),i.jsxs("div",{className:"col-span-1 md:col-span-2 flex gap-3",children:[i.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:St,children:[i.jsx(El,{className:"w-4 h-4"}),"Guardar Cambios"]}),i.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",onClick:pe,children:"Cancelar"})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ttulo"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.title})]}),h.description&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.description})]}),h.activity&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Actividad"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.activity.name})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha Programada"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.scheduled_date?new Date(h.scheduled_date).toLocaleDateString("es-ES"):h.scheduled_month&&h.scheduled_year?`${Mo[h.scheduled_month-1]} ${h.scheduled_year}`:""})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.priority})]}),h.assigned_user&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Asignado a"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:h.assigned_user.full_name})]})]})]}),h.status==="completed"&&h.is_closed&&i.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(m0,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-900",children:"Parte Cerrado"}),i.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Esta orden de trabajo ha sido completada y cerrada el ",h.closed_at?new Date(h.closed_at).toLocaleString("es-ES"):"fecha desconocida","."]}),i.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Los datos no pueden ser modificados."})]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("button",{disabled:y,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>he(h.id),children:[i.jsx(Ds,{className:"w-4 h-4"}),y?"Generando...":"Descargar PDF"]})})]})}),(h.status==="in_progress"||h.status==="completed"&&!h.is_closed)&&!j&&i.jsxs("div",{className:"mb-6",children:[i.jsx(x2,{workOrderId:h.id,isClosed:h.is_closed||!1,onOperationsChange:()=>O()}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Observaciones Finales (Opcional)"}),i.jsx("textarea",{value:g,onChange:$=>v($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Aada observaciones finales sobre el trabajo realizado..."})]}),i.jsxs("div",{className:"mt-4 flex gap-3 flex-wrap",children:[h.status==="completed"&&!h.is_closed&&i.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>Ae(h),children:[i.jsx(x0,{className:"w-4 h-4"}),"Modificar Datos Generales"]}),i.jsxs("button",{disabled:y,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:q,children:[i.jsx(m0,{className:"w-4 h-4"}),y?"Cerrando...":"Cerrar y Generar PDF"]}),h.equipment_id&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-yellow-50 px-3 py-2 rounded-lg border border-yellow-200",children:[i.jsx(v0,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:"Se enviar automticamente al mdulo BIM si el equipo tiene modelo asociado"})]})]})]}),h.status==="pending"&&!h.is_closed&&!j&&i.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-yellow-900",children:"Orden Pendiente"}),i.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Esta orden de trabajo est pendiente de iniciar."}),i.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Puede modificar los datos, iniciar el trabajo o eliminar la orden si no es necesaria."})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:()=>Ae(h),children:[i.jsx(x0,{className:"w-4 h-4"}),"Modificar Orden"]}),i.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:()=>ee(h.id),children:[i.jsx(Ve,{className:"w-4 h-4"}),"Iniciar Orden de Trabajo"]}),i.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:()=>ae(h.id),children:[i.jsx(Ek,{className:"w-4 h-4"}),"Eliminar OT"]})]})]})}),h.is_closed&&i.jsx("div",{className:"mb-6",children:i.jsx(x2,{workOrderId:h.id,isClosed:!0,onOperationsChange:()=>O()})}),i.jsx("div",{className:"mt-4 flex justify-end gap-3",children:i.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>m(null),children:"Cerrar"})})]})}),w&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx(W,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nueva Orden de Trabajo"}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx($s,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),i.jsx("select",{value:a,onChange:$=>s($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:c.map($=>i.jsxs("option",{value:$.id,children:[$.code," - ",$.name]},$.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Orden"}),i.jsxs("select",{value:N.order_type,onChange:$=>S({...N,order_type:$.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"preventive",children:"Preventivo"}),i.jsx("option",{value:"corrective",children:"Correctivo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes Programado"}),i.jsx("select",{value:N.month,onChange:$=>S({...N,month:Number($.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Mo.map(($,E)=>i.jsx("option",{value:E+1,children:$},E))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo *"}),i.jsx("input",{type:"text",value:N.title,onChange:$=>S({...N,title:$.target.value}),placeholder:"Ej: Revisin mensual de compuertas",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin *"}),i.jsx("textarea",{value:N.description,onChange:$=>S({...N,description:$.target.value}),placeholder:"Describe las tareas a realizar en esta orden de trabajo...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:et,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(El,{className:"w-4 h-4"}),"Crear Orden de Trabajo"]})]})]})]})})})]})}class rJ{constructor(){this.authToken=null,this.config={baseUrl:"",username:"",password:"",siteId:"sipresas"}}getAuthHeader(){if(!this.authToken){const t=btoa(`${this.config.username}:${this.config.password}`);this.authToken=`Basic ${t}`}return this.authToken}async request(t,r={}){const n=`${this.config.baseUrl}/alfresco/api/-default-/public/alfresco/versions/1${t}`,a={Authorization:this.getAuthHeader(),...r.headers};r.body instanceof FormData||(a["Content-Type"]="application/json");const s=await fetch(n,{...r,headers:a});if(!s.ok){const o=await s.text();throw new Error(`Alfresco API error: ${s.status} - ${o}`)}return s.status===204?{}:s.json()}async createFolder(t,r,n,a){return(await this.request(`/nodes/${t}/children`,{method:"POST",body:JSON.stringify({name:r,nodeType:"cm:folder",properties:{"cm:title":n||r,"cm:description":a||""}})})).entry}async uploadDocument(t,r,n){const a=new FormData;return a.append("filedata",r),a.append("name",n.name),a.append("nodeType",n.nodeType||"cm:content"),n.title&&a.append("cm:title",n.title),n.description&&a.append("cm:description",n.description),n.properties&&Object.entries(n.properties).forEach(([o,l])=>{a.append(o,String(l))}),(await this.request(`/nodes/${t}/children`,{method:"POST",body:a})).entry}async getNode(t){return(await this.request(`/nodes/${t}`)).entry}async getNodeChildren(t,r=0,n=100){return this.request(`/nodes/${t}/children?skipCount=${r}&maxItems=${n}`)}async downloadDocument(t){const r=`${this.config.baseUrl}/alfresco/api/-default-/public/alfresco/versions/1/nodes/${t}/content`,n=await fetch(r,{headers:{Authorization:this.getAuthHeader()}});if(!n.ok)throw new Error(`Failed to download document: ${n.status}`);return n.blob()}async updateNode(t,r){return(await this.request(`/nodes/${t}`,{method:"PUT",body:JSON.stringify({properties:r})})).entry}async deleteNode(t,r=!1){await this.request(`/nodes/${t}?permanent=${r}`,{method:"DELETE"})}async searchDocuments(t,r=0,n=100){const a={query:{query:t,language:"afts"},paging:{maxItems:n,skipCount:r}};return this.request("/search/request",{method:"POST",body:JSON.stringify(a)})}async searchDocumentsByMetadata(t,r=0,n=100){const a=Object.entries(t).map(([s,o])=>typeof o=="string"?`${s}:"${o}"`:`${s}:${o}`).join(" AND ");return this.searchDocuments(a,r,n)}async getSiteDocumentLibrary(t){const r=t||this.config.siteId;return(await this.request(`/sites/${r}/containers/documentLibrary`)).entry}async createFolderStructure(t,r){const n=[];for(const a of r)try{const o=(await this.getNodeChildren(t)).list.entries.find(l=>l.entry.isFolder&&l.entry.name===a.name);if(o)n.push(o.entry);else{const l=await this.createFolder(t,a.name,a.title,a.description);n.push(l)}}catch(s){throw console.error(`Error creating folder ${a.name}:`,s),s}return n}async moveNode(t,r){return(await this.request(`/nodes/${t}/move`,{method:"POST",body:JSON.stringify({targetParentId:r})})).entry}async copyNode(t,r){return(await this.request(`/nodes/${t}/copy`,{method:"POST",body:JSON.stringify({targetParentId:r})})).entry}isConfigured(){return!!(this.config.baseUrl&&this.config.username&&this.config.password)}async testConnection(){try{return await this.request("/nodes/-root-"),!0}catch(t){return console.error("Alfresco connection test failed:",t),!1}}}const Lr=new rJ;class nJ{async uploadDocumentToAlfresco(t,r){var c;if(!Lr.isConfigured())throw new Error("Alfresco no est configurado correctamente");const{data:{user:n}}=await U.auth.getUser();if(!n)throw new Error("Usuario no autenticado");let a=r.folderId;a||(a=(await Lr.getSiteDocumentLibrary()).id);const s=await Lr.uploadDocument(a,t,{name:t.name,title:r.title,description:r.description,properties:{"sipresas:damId":r.damId,"sipresas:documentType":r.documentType,"sipresas:version":r.version,"sipresas:tags":((c=r.tags)==null?void 0:c.join(","))||"",...r.customMetadata}}),{data:o,error:l}=await U.from("technical_documents").insert({dam_id:r.damId,folder_id:r.folderId,document_type:r.documentType,title:r.title,description:r.description||"",file_name:t.name,file_size:t.size,mime_type:t.type,version:r.version,tags:r.tags||[],storage_location:"alfresco",alfresco_node_id:s.id,alfresco_metadata:{nodeType:s.nodeType,createdAt:s.createdAt,createdBy:s.createdByUser.displayName,modifiedAt:s.modifiedAt,modifiedBy:s.modifiedByUser.displayName,content:s.content},uploaded_by:n.id,status:"active"}).select().single();if(l)throw await Lr.deleteNode(s.id,!0),l;return{alfrescoNode:s,document:o}}async downloadDocumentFromAlfresco(t){const{data:r,error:n}=await U.from("technical_documents").select("*").eq("id",t).maybeSingle();if(n||!r)throw new Error("Documento no encontrado");if(r.storage_location!=="alfresco"||!r.alfresco_node_id)throw new Error("El documento no est almacenado en Alfresco");return{blob:await Lr.downloadDocument(r.alfresco_node_id),document:r}}async syncDocumentFromAlfresco(t,r,n){var d,f,h,m;const a=await Lr.getNode(t),{data:{user:s}}=await U.auth.getUser();if(!s)throw new Error("Usuario no autenticado");const o=await U.from("technical_documents").select("*").eq("alfresco_node_id",t).maybeSingle();if(o.data){const{data:g,error:v}=await U.from("technical_documents").update({alfresco_metadata:{nodeType:a.nodeType,createdAt:a.createdAt,createdBy:a.createdByUser.displayName,modifiedAt:a.modifiedAt,modifiedBy:a.modifiedByUser.displayName,content:a.content},file_size:((d=a.content)==null?void 0:d.sizeInBytes)||0}).eq("id",o.data.id).select().single();if(v)throw v;return g}const l=a.properties||{},{data:c,error:u}=await U.from("technical_documents").insert({dam_id:r,folder_id:n,document_type:l["sipresas:documentType"]||"other",title:l["cm:title"]||a.name,description:l["cm:description"]||"",file_name:a.name,file_size:((f=a.content)==null?void 0:f.sizeInBytes)||0,mime_type:((h=a.content)==null?void 0:h.mimeType)||"application/octet-stream",version:l["sipresas:version"]||"1.0",tags:((m=l["sipresas:tags"])==null?void 0:m.split(",").filter(Boolean))||[],storage_location:"alfresco",alfresco_node_id:t,alfresco_metadata:{nodeType:a.nodeType,createdAt:a.createdAt,createdBy:a.createdByUser.displayName,modifiedAt:a.modifiedAt,modifiedBy:a.modifiedByUser.displayName,content:a.content},uploaded_by:s.id,status:"active"}).select().single();if(u)throw u;return c}async deleteDocumentFromAlfresco(t,r=!1){const{data:n,error:a}=await U.from("technical_documents").select("*").eq("id",t).maybeSingle();if(a||!n)throw new Error("Documento no encontrado");n.storage_location==="alfresco"&&n.alfresco_node_id&&await Lr.deleteNode(n.alfresco_node_id,r);const{error:s}=await U.from("technical_documents").delete().eq("id",t);if(s)throw s}async searchDocumentsInAlfresco(t,r){let n=t;return r&&(n=`${t} AND sipresas:damId:"${r}"`),(await Lr.searchDocuments(n)).list.entries.map(s=>s.entry)}async syncFolderFromAlfresco(t,r,n){const a=await Lr.getNodeChildren(t),s=[];for(const o of a.list.entries){const l=o.entry;if(l.isFile)try{const c=await this.syncDocumentFromAlfresco(l.id,r,n);s.push(c)}catch(c){console.error(`Error syncing document ${l.name}:`,c)}}return s}async getDocumentsByStorageLocation(t,r){let n=U.from("technical_documents").select(`
        *,
        dam:dams(*),
        folder:document_folders(*),
        uploader:user_profiles!technical_documents_uploaded_by_fkey(*)
      `).eq("storage_location",t).order("created_at",{ascending:!1});r&&(n=n.eq("dam_id",r));const{data:a,error:s}=await n;if(s)throw s;return a||[]}async testAlfrescoConnection(){return Lr.testConnection()}isAlfrescoConfigured(){return Lr.isConfigured()}}const rp=new nJ,aJ=[{value:"all",label:"Todos los tipos"},{value:"Proyecto",label:"Proyecto"},{value:"Normativa",label:"Normativa"},{value:"Informe",label:"Informe"},{value:"Plano",label:"Plano"},{value:"Manual",label:"Manual"},{value:"Certificado",label:"Certificado"},{value:"Acta",label:"Acta"}],iJ=[{value:"all",label:"Todos los estados"},{value:"approved",label:"Aprobado"},{value:"draft",label:"Borrador"},{value:"archived",label:"Archivado"},{value:"obsolete",label:"Obsoleto"}];function sJ(){var $;const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,s]=p.useState([]),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState([]),[g,v]=p.useState(!0),[y,x]=p.useState(new Set),[w,b]=p.useState(""),[j,_]=p.useState(!1),[N,S]=p.useState(!1),[P,C]=p.useState(null),[I,O]=p.useState(!1),[k,M]=p.useState({documentType:"all",status:"all",storageLocation:"all"});p.useEffect(()=>{J(),L()},[]),p.useEffect(()=>{o&&(Y(),Z())},[o,c]),p.useEffect(()=>{ee()},[r,k,w]);const L=async()=>{try{const E=await rp.testAlfrescoConnection();_(E)}catch(E){console.error("Error checking Alfresco connection:",E),_(!1)}},J=async()=>{try{const E=await Mf();m(E),E.length>0&&!o&&l(E[0].id)}catch(E){console.error("Error loading dams:",E)}},Y=async()=>{try{v(!0);const E=await NM(o);t(R(E))}catch(E){console.error("Error loading folders:",E)}finally{v(!1)}},Z=async()=>{try{const E=await _M(o,c||void 0);n(E)}catch(E){console.error("Error loading documents:",E)}},R=E=>{const F=new Map,A=[];return E.forEach(D=>{F.set(D.id,{...D,children:[]})}),F.forEach(D=>{if(D.parent_id){const te=F.get(D.parent_id);te&&(te.children=te.children||[],te.children.push(D))}else A.push(D)}),A},B=async E=>{if(E.preventDefault(),!(!P||!o))try{O(!0),await rp.uploadDocumentToAlfresco(P,{damId:o,folderId:c||"",documentType:"Informe",title:P.name,description:"Documento subido a Alfresco",version:"1.0"}),S(!1),C(null),Z(),alert("Documento subido exitosamente a Alfresco")}catch(F){console.error("Error uploading to Alfresco:",F),alert("Error al subir documento a Alfresco")}finally{O(!1)}},q=async E=>{try{if(E.storage_location==="alfresco"){const{blob:F,document:A}=await rp.downloadDocumentFromAlfresco(E.id),D=window.URL.createObjectURL(F),te=A.createElement("a");te.href=D,te.download=A.file_name,A.body.appendChild(te),te.click(),window.URL.revokeObjectURL(D),A.body.removeChild(te)}else alert("Descarga desde Supabase Storage no implementada an")}catch(F){console.error("Error downloading document:",F),alert("Error al descargar documento")}},ee=()=>{let E=[...r];if(k.documentType!=="all"&&(E=E.filter(F=>F.document_type===k.documentType)),k.status!=="all"&&(E=E.filter(F=>F.status===k.status)),k.storageLocation!=="all"&&(E=E.filter(F=>F.storage_location===k.storageLocation)),w){const F=w.toLowerCase();E=E.filter(A=>{var D;return A.name.toLowerCase().includes(F)||((D=A.description)==null?void 0:D.toLowerCase().includes(F))||A.file_name.toLowerCase().includes(F)})}s(E)},ae=E=>{const F=new Set(y);F.has(E)?F.delete(E):F.add(E),x(F)},Ae=(E,F=0)=>E.map(A=>{const D=y.has(A.id),te=c===A.id,V=A.children&&A.children.length>0;return i.jsxs("div",{children:[i.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-blue-50 rounded transition-colors ${te?"bg-blue-100 text-blue-700":"text-gray-700"}`,style:{paddingLeft:`${F*20+12}px`},onClick:()=>{u(A.id),V&&ae(A.id)},children:[V&&i.jsx("button",{onClick:qe=>{qe.stopPropagation(),ae(A.id)},className:"focus:outline-none",children:D?"":""}),!V&&i.jsx("span",{className:"w-3"}),D||te?i.jsx(Iv,{className:"h-4 w-4 text-blue-600"}):i.jsx(km,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:A.name})]}),V&&D&&Ae(A.children,F+1)]},A.id)}),pe=E=>{switch(E){case"approved":return i.jsx(Ve,{className:"h-4 w-4 text-green-600"});case"draft":return i.jsx(Ua,{className:"h-4 w-4 text-yellow-600"});case"archived":return i.jsx(ht,{className:"h-4 w-4 text-gray-600"});case"obsolete":return i.jsx($s,{className:"h-4 w-4 text-red-600"});default:return i.jsx(ht,{className:"h-4 w-4 text-gray-600"})}},St=E=>({approved:"Aprobado",draft:"Borrador",archived:"Archivado",obsolete:"Obsoleto"})[E]||E,et=E=>{switch(E){case"approved":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";case"obsolete":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},he=E=>{if(E===0)return"0 B";const F=1024,A=["B","KB","MB","GB"],D=Math.floor(Math.log(E)/Math.log(F));return Math.round(E/Math.pow(F,D)*100)/100+" "+A[D]};return g?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(ht,{className:"h-7 w-7 text-blue-600"}),"Archivo Tcnico"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin documental y archivo tcnico de la presa"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${j?"bg-green-50":"bg-gray-50"}`,children:[i.jsx(ds,{className:`h-4 w-4 ${j?"text-green-600":"text-gray-400"}`}),i.jsxs("span",{className:`text-sm font-medium ${j?"text-green-700":"text-gray-500"}`,children:["Alfresco ",j?"Conectado":"Desconectado"]})]}),j&&i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(hi,{className:"h-4 w-4"}),"Subir a Alfresco"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Documentos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),i.jsx(ht,{className:"h-8 w-8 text-blue-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"En Alfresco"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.filter(E=>E.storage_location==="alfresco").length})]}),i.jsx(ds,{className:"h-8 w-8 text-blue-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"En Supabase"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(E=>E.storage_location==="supabase").length})]}),i.jsx(Om,{className:"h-8 w-8 text-green-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aprobados"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(E=>E.status==="approved").length})]}),i.jsx(Ve,{className:"h-8 w-8 text-green-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Carpetas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),i.jsx(km,{className:"h-8 w-8 text-blue-600"})]})})]}),i.jsxs(W,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsx("select",{value:o,onChange:E=>l(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:h.map(E=>i.jsxs("option",{value:E.id,children:[E.code," - ",E.name]},E.id))}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:w,onChange:E=>b(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4",children:[i.jsx(Tf,{className:"h-4 w-4 text-gray-600"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Filtros:"})]}),i.jsx("select",{value:k.documentType,onChange:E=>M({...k,documentType:E.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:aJ.map(E=>i.jsx("option",{value:E.value,children:E.label},E.value))}),i.jsx("select",{value:k.status,onChange:E=>M({...k,status:E.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:iJ.map(E=>i.jsx("option",{value:E.value,children:E.label},E.value))}),i.jsxs("select",{value:k.storageLocation,onChange:E=>M({...k,storageLocation:E.target.value}),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los almacenes"}),i.jsx("option",{value:"alfresco",children:"Alfresco"}),i.jsx("option",{value:"supabase",children:"Supabase"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 divide-x divide-gray-200",children:[i.jsxs("div",{className:"lg:col-span-1 p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Estructura de Carpetas"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-blue-50 rounded transition-colors ${c===null?"bg-blue-100 text-blue-700":"text-gray-700"}`,onClick:()=>u(null),children:[i.jsx(km,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium",children:"Todos los documentos"})]}),Ae(e)]})]}),i.jsxs("div",{className:"lg:col-span-3 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Documentos (",a.length,")"]}),a.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(ht,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{children:"No hay documentos en esta ubicacin"})]}):i.jsx("div",{className:"space-y-3",children:a.map(E=>i.jsx("div",{className:`border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer ${(d==null?void 0:d.id)===E.id?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>f(E),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx(ht,{className:"h-5 w-5 text-blue-600 mt-1"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:E.name}),E.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[i.jsx(wt,{variant:"info",children:E.document_type}),i.jsx("span",{className:`px-2 py-1 rounded font-medium ${et(E.status)}`,children:St(E.status)}),i.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded ${E.storage_location==="alfresco"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:[E.storage_location==="alfresco"?i.jsx(ds,{className:"h-3 w-3"}):i.jsx(Om,{className:"h-3 w-3"}),i.jsx("span",{className:"font-medium",children:E.storage_location==="alfresco"?"Alfresco":"Supabase"})]}),i.jsxs("span",{children:["v",E.version]}),i.jsx("span",{children:""}),i.jsx("span",{children:he(E.file_size)}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(E.created_at).toLocaleDateString("es-ES")}),E.uploader&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:E.uploader.full_name})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Ver",children:i.jsx(Zl,{className:"h-4 w-4"})}),i.jsx("button",{onClick:F=>{F.stopPropagation(),q(E)},className:"p-2 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Descargar",children:i.jsx(Ds,{className:"h-4 w-4"})})]})]})},E.id))})]})]})]}),d&&i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informacin del Documento"}),i.jsxs("div",{className:"flex items-center gap-2",children:[d.code&&i.jsx(wt,{variant:"info",children:d.code}),pe(d.status),i.jsx("span",{className:"text-sm text-gray-600",children:St(d.status)})]})]}),i.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del archivo"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.file_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo de documento"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.document_type})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tamao"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:he(d.file_size)})]}),d.mime_type&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo MIME"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.mime_type})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Ubicacin de Almacenamiento"}),i.jsxs("div",{className:`flex items-center gap-2 mt-1 px-3 py-2 rounded-lg ${d.storage_location==="alfresco"?"bg-blue-50":"bg-green-50"}`,children:[d.storage_location==="alfresco"?i.jsx(ds,{className:"h-4 w-4 text-blue-600"}):i.jsx(Om,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:`text-sm font-medium ${d.storage_location==="alfresco"?"text-blue-700":"text-green-700"}`,children:d.storage_location==="alfresco"?"Alfresco ECM":"Supabase Storage"})]})]}),d.alfresco_node_id&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ID de Nodo Alfresco"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 font-mono bg-gray-50 px-2 py-1 rounded",children:d.alfresco_node_id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Versin"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.version})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de creacin"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:new Date(d.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),d.uploader&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subido por"}),i.jsx("p",{className:"text-sm text-gray-900 mt-1",children:d.uploader.full_name})]}),d.approved_by&&d.approved_at&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Aprobado por"}),i.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[($=d.approver)==null?void 0:$.full_name," -"," ",new Date(d.approved_at).toLocaleDateString("es-ES")]})]})]})]})]})}),N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx(W,{className:"w-full max-w-lg mx-4",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Subir Documento a Alfresco"}),i.jsx("button",{onClick:()=>{S(!1),C(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("form",{onSubmit:B,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccione archivo"}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx("input",{type:"file",onChange:E=>{var F;return C(((F=E.target.files)==null?void 0:F[0])||null)},className:"hidden",id:"file-upload",required:!0}),i.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[i.jsx(hi,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-600",children:P?P.name:"Haga clic para seleccionar un archivo"}),P&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:he(P.size)})]})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Sr,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("p",{className:"font-medium mb-1",children:"Integracin con Alfresco ECM"}),i.jsx("p",{children:"El documento se almacenar en el repositorio Alfresco y se sincronizar automticamente con SIPRESAS."})]})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{S(!1),C(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:I,children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:!P||I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:I?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Subiendo..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hi,{className:"h-4 w-4"}),"Subir a Alfresco"]})})]})]})]})})})]})}function oJ(){const[e]=_v(),[t,r]=p.useState("monitoring"),[n,a]=p.useState(Ot[0]||null),[s,o]=p.useState("24h"),[l,c]=p.useState(Ot[0]?kw(Ot[0].id):[]),[u,d]=p.useState([]),[f,h]=p.useState(""),[m,g]=p.useState({sensor_id:"",reading_value:"",reading_date:new Date().toISOString().slice(0,16),notes:""});p.useEffect(()=>{v()},[]),p.useEffect(()=>{const k=e.get("sensor");if(k){const M=Ot.find(L=>L.id===k);M&&(a(M),y(M.id))}},[e]);const v=async()=>{try{const k=await Mf();d(k),k.length>0&&!f&&h(k[0].id)}catch(k){console.error("Error loading dams:",k)}},y=(k,M)=>{c(kw())},x=k=>{const M=Ot.find(L=>L.id===k);M&&(a(M),y())},w=k=>{o(k),n&&y(n.id)},b=l.map(k=>({time:k.timestamp.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",...s!=="24h"?{day:"2-digit",month:"2-digit"}:{}}),value:k.value,warning:n.threshold.warning,critical:n.threshold.critical})),j=k=>{switch(k){case"operational":return"text-green-600 bg-green-100";case"warning":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";case"offline":return"text-slate-600 bg-slate-100";default:return"text-slate-600 bg-slate-100"}},_=k=>{switch(k){case"operational":return"Operacional";case"warning":return"Advertencia";case"critical":return"Crtico";case"offline":return"Fuera de lnea";default:return"Desconocido"}},N=k=>({pressure:"Presin",water_level:"Nivel de Agua",seismic:"Ssmico",displacement:"Desplazamiento",temperature:"Temperatura",flow:"Caudal"})[k]||k,S=k=>{k.preventDefault(),alert("Funcionalidad de guardado en desarrollo. Los datos se guardarn en la base de datos.")},P=()=>Ot.length===0?i.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200 text-center",children:[i.jsx(Qe,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay sensores disponibles"}),i.jsx("p",{className:"text-gray-600",children:"No se han configurado sensores para esta presa."})]}):n?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"font-bold text-gray-900",children:"Sensores Disponibles"})}),i.jsx("div",{className:"divide-y divide-gray-200",children:Ot.map(k=>i.jsxs("button",{onClick:()=>x(k.id),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${(n==null?void 0:n.id)===k.id?"bg-blue-50":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.id}),i.jsx("div",{className:`w-2 h-2 rounded-full ${k.status==="operational"?"bg-green-500":k.status==="warning"?"bg-orange-500":k.status==="critical"?"bg-red-500":"bg-gray-400"}`})]}),i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:k.name}),i.jsxs("p",{className:"text-xs font-medium text-gray-900",children:[k.currentValue," ",k.unit]})]},k.id))})]}),i.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.name}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(n.status)}`,children:_(n.status)})]}),i.jsxs("p",{className:"text-gray-600",children:[N(n.type)," - ",n.location.zone]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Ds,{size:20,className:"text-gray-600"})})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Valor Actual"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.currentValue," ",i.jsx("span",{className:"text-sm font-normal text-gray-600",children:n.unit})]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Umbral Normal"}),i.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[n.threshold.min," - ",n.threshold.max," ",i.jsx("span",{className:"text-xs font-normal text-gray-600",children:n.unit})]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("p",{className:"text-xs text-orange-600 mb-1",children:"Advertencia"}),i.jsxs("p",{className:"text-lg font-bold text-orange-700",children:[n.threshold.warning," ",i.jsx("span",{className:"text-xs font-normal text-orange-600",children:n.unit})]})]}),i.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[i.jsx("p",{className:"text-xs text-red-600 mb-1",children:"Crtico"}),i.jsxs("p",{className:"text-lg font-bold text-red-700",children:[n.threshold.critical," ",i.jsx("span",{className:"text-xs font-normal text-red-600",children:n.unit})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Histrico de Mediciones"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cv,{size:18,className:"text-gray-600"}),i.jsx("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:["24h","7d","30d"].map(k=>i.jsx("button",{onClick:()=>w(k),className:`px-4 py-1.5 text-sm font-medium rounded transition-colors ${s===k?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:k==="24h"?"24 Horas":k==="7d"?"7 Das":"30 Das"},k))})]})]}),i.jsx(va,{width:"100%",height:400,children:i.jsxs(GQ,{data:b,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),i.jsx(Ks,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Vs,{dataKey:"time",stroke:"#64748b",style:{fontSize:"12px"},interval:"preserveStartEnd"}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px"},label:{value:n.unit,angle:-90,position:"insideLeft",style:{fontSize:"12px"}}}),i.jsx(xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),i.jsx(Ml,{}),i.jsx(fg,{y:n.threshold.warning,stroke:"#f97316",strokeDasharray:"5 5",label:{value:"Advertencia",position:"right",fill:"#f97316",fontSize:12}}),i.jsx(fg,{y:n.threshold.critical,stroke:"#ef4444",strokeDasharray:"5 5",label:{value:"Crtico",position:"right",fill:"#ef4444",fontSize:12}}),i.jsx(VC,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorValue)",name:`${N(n.type)} (${n.unit})`})]})})]})]})]}):i.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-200 text-center",children:[i.jsx(Qe,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Seleccione un sensor"}),i.jsx("p",{className:"text-gray-600",children:"Por favor seleccione un sensor para ver sus lecturas."})]}),C=()=>i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(il,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Insercin Manual de Lecturas"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Registre mediciones individuales de forma manual"})]})]}),i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),i.jsxs("select",{value:f,onChange:k=>h(k.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccione una presa"}),u.map(k=>i.jsxs("option",{value:k.id,children:[k.code," - ",k.name]},k.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sensor"}),i.jsxs("select",{value:m.sensor_id,onChange:k=>g({...m,sensor_id:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccione un sensor"}),Ot.map(k=>i.jsxs("option",{value:k.id,children:[k.id," - ",k.name]},k.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor de Lectura"}),i.jsx("input",{type:"number",step:"0.01",value:m.reading_value,onChange:k=>g({...m,reading_value:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese el valor",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora"}),i.jsx("input",{type:"datetime-local",value:m.reading_date,onChange:k=>g({...m,reading_date:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),i.jsx("textarea",{value:m.notes,onChange:k=>g({...m,notes:k.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ingrese cualquier observacin relevante..."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>g({sensor_id:"",reading_value:"",reading_date:new Date().toISOString().slice(0,16),notes:""}),children:"Limpiar"}),i.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(il,{className:"h-4 w-4"}),"Guardar Lectura"]})]})]})]})}),I=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Nw,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Importacin Masiva desde Excel"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Cargue mltiples lecturas desde un archivo Excel"})]})]}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer",children:[i.jsx(hi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Arrastre su archivo Excel aqu o haga clic para seleccionar"}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Formatos soportados: .xlsx, .xls (mximo 10MB)"}),i.jsx("input",{type:"file",accept:".xlsx,.xls",className:"hidden",id:"excel-upload"}),i.jsxs("label",{htmlFor:"excel-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[i.jsx(hi,{className:"h-4 w-4 mr-2"}),"Seleccionar Archivo"]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Sr,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("p",{className:"font-medium mb-2",children:"Formato del archivo Excel:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:"Columna A: ID del Sensor"}),i.jsx("li",{children:"Columna B: Valor de Lectura"}),i.jsx("li",{children:"Columna C: Fecha y Hora (formato: YYYY-MM-DD HH:MM:SS)"}),i.jsx("li",{children:"Columna D: Observaciones (opcional)"})]})]})]})})]})}),i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(ds,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold text-gray-900",children:"Integracin con Damdata"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Acceda al sistema especializado de auscultacin Damdata para la gestin avanzada de sensores y lecturas en tiempo real."}),i.jsxs("a",{href:"#",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(id,{className:"h-4 w-4"}),"Abrir Damdata"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Nota: Los cambios en el inventario de sensores realizados en Damdata se sincronizarn automticamente con SIPRESAS."})]})})]}),O=()=>i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(Em,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Historial de Importaciones"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Consulte el registro de cargas masivas realizadas"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Nw,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:"lecturas_enero_2024.xlsx"})]}),i.jsx(wt,{variant:"success",children:"Completado"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Fecha:"}),i.jsx("p",{className:"font-medium",children:"15/01/2024 10:30"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Registros:"}),i.jsx("p",{className:"font-medium",children:"1,234 exitosos"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Fallidos:"}),i.jsx("p",{className:"font-medium",children:"0"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Usuario:"}),i.jsx("p",{className:"font-medium",children:"Juan Prez"})]})]})]}),i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Em,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{children:"No hay ms registros de importacin"})]})]})]})});return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Qe,{className:"h-7 w-7 text-blue-600"}),"Auscultacin y Monitoreo"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Control de comportamiento de presas mediante medicin de sensores"})]})}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>r("monitoring"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${t==="monitoring"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qe,{className:"h-4 w-4"}),"Monitoreo"]})}),i.jsx("button",{onClick:()=>r("manual"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${t==="manual"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(il,{className:"h-4 w-4"}),"Insercin Manual"]})}),i.jsx("button",{onClick:()=>r("import"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${t==="import"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hi,{className:"h-4 w-4"}),"Importacin"]})}),i.jsx("button",{onClick:()=>r("history"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${t==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Em,{className:"h-4 w-4"}),"Historial"]})})]})}),i.jsxs("div",{children:[t==="monitoring"&&P(),t==="manual"&&C(),t==="import"&&I(),t==="history"&&O()]})]})}function lJ(){const[e,t]=p.useState("dashboard"),[r,n]=p.useState([]),[a,s]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(""),[h,m]=p.useState(!0),[g,v]=p.useState({dam_id:"",date:new Date().toISOString().slice(0,10),water_level:"",stored_volume:"",surface_area:"",useful_volume:"",inflow_total:"",outflow_total:"",outflow_supply:"",outflow_hydroelectric:"",outflow_ecological:"",outflow_irrigation:"",outflow_other:"",evaporation:"",rainfall:"",air_temperature:"",water_temperature:"",flood_risk_level:"normal",flood_risk_notes:"",observations:""}),[y,x]=p.useState({type:"daily-detail",damId:"",zoneId:"",systemId:"",date:new Date().toISOString().slice(0,10),startDate:new Date().toISOString().slice(0,10),endDate:new Date().toISOString().slice(0,10),year:new Date().getFullYear()});p.useEffect(()=>{w()},[]),p.useEffect(()=>{d&&b(d)},[d]);const w=async()=>{try{m(!0);const[O,k,M]=await Promise.all([Mf(),kM(),SM()]);n(O),s(k),l(M),O.length>0&&!d&&(f(O[0].id),v({...g,dam_id:O[0].id}))}catch(O){console.error("Error loading initial data:",O)}finally{m(!1)}},b=async O=>{try{const k=await EM(O,void 0,void 0);u(k)}catch(k){console.error("Error loading dam data:",k)}},j=async O=>{O.preventDefault();try{const{data:{user:k}}=await(await to(async()=>{const{supabase:L}=await Promise.resolve().then(()=>B5);return{supabase:L}},void 0)).supabase.auth.getUser();if(!k){alert("Usuario no autenticado");return}const M={...g,water_level:parseFloat(g.water_level),stored_volume:parseFloat(g.stored_volume),surface_area:parseFloat(g.surface_area)||0,useful_volume:parseFloat(g.useful_volume)||0,inflow_total:parseFloat(g.inflow_total)||0,outflow_total:parseFloat(g.outflow_total)||0,outflow_supply:parseFloat(g.outflow_supply)||0,outflow_hydroelectric:parseFloat(g.outflow_hydroelectric)||0,outflow_ecological:parseFloat(g.outflow_ecological)||0,outflow_irrigation:parseFloat(g.outflow_irrigation)||0,outflow_other:parseFloat(g.outflow_other)||0,evaporation:parseFloat(g.evaporation)||0,rainfall:parseFloat(g.rainfall)||0,air_temperature:g.air_temperature?parseFloat(g.air_temperature):null,water_temperature:g.water_temperature?parseFloat(g.water_temperature):null,registered_by:k.id,verified_by:null,verified_at:null};await PM(M),alert("Datos guardados exitosamente"),b(g.dam_id),_()}catch(k){console.error("Error saving data:",k),k.message.includes("duplicate")?alert("Ya existen datos para esta presa en la fecha seleccionada"):alert("Error al guardar los datos")}},_=()=>{v({...g,water_level:"",stored_volume:"",surface_area:"",useful_volume:"",inflow_total:"",outflow_total:"",outflow_supply:"",outflow_hydroelectric:"",outflow_ecological:"",outflow_irrigation:"",outflow_other:"",evaporation:"",rainfall:"",air_temperature:"",water_temperature:"",flood_risk_level:"normal",flood_risk_notes:"",observations:""})},N=O=>{switch(O){case"normal":return"bg-green-100 text-green-800";case"watch":return"bg-blue-100 text-blue-800";case"warning":return"bg-yellow-100 text-yellow-800";case"alert":return"bg-orange-100 text-orange-800";case"emergency":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=O=>({normal:"Normal",watch:"Vigilancia",warning:"Prevencin",alert:"Alerta",emergency:"Emergencia"})[O],P=()=>{const O=c[0],k=c.filter(M=>M.flood_risk_level!=="normal").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Nivel Actual"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O?`${O.water_level.toFixed(2)} m`:"-"})]}),i.jsx(Nk,{className:"h-8 w-8 text-blue-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Volumen Embalsado"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:O?`${O.stored_volume.toFixed(0)} hm`:"-"})]}),i.jsx(mn,{className:"h-8 w-8 text-green-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aportaciones"}),i.jsx("p",{className:"text-2xl font-bold text-cyan-600",children:O?`${O.inflow_total.toFixed(2)} m/s`:"-"})]}),i.jsx(Bo,{className:"h-8 w-8 text-cyan-600"})]})}),i.jsx(W,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Alertas Activas"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:k})]}),i.jsx(Te,{className:"h-8 w-8 text-orange-600"})]})})]}),i.jsxs(W,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Datos Recientes"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nivel (m)"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Volumen (hm)"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aportaciones"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Salidas"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Riesgo"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,10).map(M=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString("es-ES")}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.water_level.toFixed(2)}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.stored_volume.toFixed(2)}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.inflow_total.toFixed(2)}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:M.outflow_total.toFixed(2)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${N(M.flood_risk_level)}`,children:S(M.flood_risk_level)})})]},M.id))})]})})]})]})},C=()=>i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Pm,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Registro de Datos Diarios"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Ingrese los datos operacionales del embalse"})]})]}),i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),i.jsx("select",{value:g.dam_id,onChange:O=>{v({...g,dam_id:O.target.value}),f(O.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:r.map(O=>i.jsxs("option",{value:O.id,children:[O.code," - ",O.name]},O.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),i.jsx("input",{type:"date",value:g.date,onChange:O=>v({...g,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de Riesgo"}),i.jsxs("select",{value:g.flood_risk_level,onChange:O=>v({...g,flood_risk_level:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"normal",children:"Normal"}),i.jsx("option",{value:"watch",children:"Vigilancia"}),i.jsx("option",{value:"warning",children:"Prevencin"}),i.jsx("option",{value:"alert",children:"Alerta"}),i.jsx("option",{value:"emergency",children:"Emergencia"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Niveles y Volmenes"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel (m)"}),i.jsx("input",{type:"number",step:"0.01",value:g.water_level,onChange:O=>v({...g,water_level:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volumen Embalsado (hm)"}),i.jsx("input",{type:"number",step:"0.01",value:g.stored_volume,onChange:O=>v({...g,stored_volume:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Superficie (ha)"}),i.jsx("input",{type:"number",step:"0.01",value:g.surface_area,onChange:O=>v({...g,surface_area:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Volumen til (hm)"}),i.jsx("input",{type:"number",step:"0.01",value:g.useful_volume,onChange:O=>v({...g,useful_volume:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Caudales (m/s)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aportaciones"}),i.jsx("input",{type:"number",step:"0.01",value:g.inflow_total,onChange:O=>v({...g,inflow_total:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salidas Totales"}),i.jsx("input",{type:"number",step:"0.01",value:g.outflow_total,onChange:O=>v({...g,outflow_total:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abastecimientos"}),i.jsx("input",{type:"number",step:"0.01",value:g.outflow_supply,onChange:O=>v({...g,outflow_supply:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hidroelctrico"}),i.jsx("input",{type:"number",step:"0.01",value:g.outflow_hydroelectric,onChange:O=>v({...g,outflow_hydroelectric:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caudal Ecolgico"}),i.jsx("input",{type:"number",step:"0.01",value:g.outflow_ecological,onChange:O=>v({...g,outflow_ecological:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regados"}),i.jsx("input",{type:"number",step:"0.01",value:g.outflow_irrigation,onChange:O=>v({...g,outflow_irrigation:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Datos Meteorolgicos"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaporacin (mm)"}),i.jsx("input",{type:"number",step:"0.01",value:g.evaporation,onChange:O=>v({...g,evaporation:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lluvia (mm)"}),i.jsx("input",{type:"number",step:"0.01",value:g.rainfall,onChange:O=>v({...g,rainfall:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temp. Aire (C)"}),i.jsx("input",{type:"number",step:"0.1",value:g.air_temperature,onChange:O=>v({...g,air_temperature:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temp. Agua (C)"}),i.jsx("input",{type:"number",step:"0.1",value:g.water_temperature,onChange:O=>v({...g,water_temperature:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),i.jsx("textarea",{value:g.observations,onChange:O=>v({...g,observations:O.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones adicionales..."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:_,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpiar"}),i.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Pm,{className:"h-4 w-4"}),"Guardar Registro"]})]})]})]})}),I=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(ht,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Sistema de Informes"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Genere informes de explotacin en diversos formatos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Informe"}),i.jsxs("select",{value:y.type,onChange:O=>x({...y,type:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"daily-detail",children:"Detalle Diario del Embalse"}),i.jsx("option",{value:"daily-zone",children:"Informe Diario de Zona"}),i.jsx("option",{value:"daily-system",children:"Informe Diario por Sistema"}),i.jsx("option",{value:"annual-zone",children:"Resumen Anual de Zona"}),i.jsx("option",{value:"annual-system",children:"Resumen Anual de Sistema"}),i.jsx("option",{value:"annual-director",children:"Resumen Anual Direccin"})]})]}),y.type==="daily-detail"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presa"}),i.jsxs("select",{value:y.damId,onChange:O=>x({...y,damId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccione presa"}),r.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Inicio"}),i.jsx("input",{type:"date",value:y.startDate,onChange:O=>x({...y,startDate:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Fin"}),i.jsx("input",{type:"date",value:y.endDate,onChange:O=>x({...y,endDate:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(y.type==="daily-zone"||y.type==="annual-zone")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona"}),i.jsxs("select",{value:y.zoneId,onChange:O=>x({...y,zoneId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccione zona"}),a.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),y.type==="daily-zone"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),i.jsx("input",{type:"date",value:y.date,onChange:O=>x({...y,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(y.type==="daily-system"||y.type==="annual-system")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sistema de Explotacin"}),i.jsxs("select",{value:y.systemId,onChange:O=>x({...y,systemId:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccione sistema"}),o.map(O=>i.jsx("option",{value:O.id,children:O.name},O.id))]})]}),y.type==="daily-system"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),i.jsx("input",{type:"date",value:y.date,onChange:O=>x({...y,date:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),y.type.includes("annual")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ao Hidrolgico"}),i.jsx("input",{type:"number",value:y.year,onChange:O=>x({...y,year:parseInt(O.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2024"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>alert("Generar Excel (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Ds,{className:"h-4 w-4"}),"Exportar a Excel"]}),i.jsxs("button",{onClick:()=>alert("Generar Word (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Ds,{className:"h-4 w-4"}),"Exportar a Word"]}),i.jsxs("button",{onClick:()=>alert("Generar Grfico (funcionalidad en desarrollo)"),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Ver Grfico"]})]})]})}),i.jsxs(W,{children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vista Previa del Informe"})}),i.jsxs("div",{className:"p-6 text-center text-gray-500",children:[i.jsx(ht,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Configure los parmetros y genere el informe deseado"})]})]})]});return h?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Bo,{className:"h-7 w-7 text-blue-600"}),"Explotacin"]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Gestin de recursos hdricos y operacin de embalses"})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("select",{value:d,onChange:O=>f(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(O=>i.jsxs("option",{value:O.id,children:[O.code," - ",O.name]},O.id))})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>t("dashboard"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="dashboard"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Panel de Control"]})}),i.jsx("button",{onClick:()=>t("data-entry"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="data-entry"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pm,{className:"h-4 w-4"}),"Entrada de Datos"]})}),i.jsx("button",{onClick:()=>t("reports"),className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e==="reports"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ht,{className:"h-4 w-4"}),"Informes"]})})]})}),i.jsxs("div",{children:[e==="dashboard"&&P(),e==="data-entry"&&C(),e==="reports"&&I()]})]})}function cJ(){var x,w,b;const{selectedDam:e}=Ba(),[t,r]=p.useState(null),[n,a]=p.useState("3d"),[s,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(!0),m=[{id:"1",presaId:"P001",presaNombre:"Presa de la Brea II",nombre:"Modelo BIM Principal",version:"2.0",formato:"IFC",tamao:"1.2 GB",fechaSubida:"2024-01-15",estado:"activo",elementos:12456,niveles:8},{id:"2",presaId:"P001",presaNombre:"Presa de la Brea II",nombre:"Aliviadero",version:"1.5",formato:"IFC",tamao:"450 MB",fechaSubida:"2023-11-20",estado:"activo",elementos:3245,niveles:4},{id:"3",presaId:"P002",presaNombre:"Presa del Pintado",nombre:"Modelo General",version:"1.0",formato:"RVT",tamao:"890 MB",fechaSubida:"2023-08-10",estado:"revision",elementos:8932,niveles:6}],g=[{id:"E001",tipo:"IfcWall",categoria:"Estructura",nombre:"Muro Cortina - Corona",nivel:"Nivel +125.00",propiedades:{Material:"Hormign Armado HA-30",Espesor:"3.5 m",Longitud:"312.5 m",Altura:"8.0 m",Volumen:"8,750 m",Cdigo:"EST-MUR-001"}},{id:"E002",tipo:"IfcBeam",categoria:"Estructura",nombre:"Viga Aliviadero",nivel:"Nivel +118.00",propiedades:{Material:"Hormign Armado HA-35",Seccin:"1.2 m  0.8 m",Longitud:"45.0 m",Volumen:"43.2 m",Cdigo:"EST-VIG-012"}}],v=j=>({activo:"bg-green-100 text-green-800 border-green-200",revision:"bg-yellow-100 text-yellow-800 border-yellow-200",obsoleto:"bg-red-100 text-red-800 border-red-200"})[j],y=j=>({IFC:"bg-blue-100 text-blue-800 border-blue-200",RVT:"bg-purple-100 text-purple-800 border-purple-200",DWG:"bg-orange-100 text-orange-800 border-orange-200",FBX:"bg-teal-100 text-teal-800 border-teal-200"})[j];return p.useEffect(()=>{async function j(){if(!(e!=null&&e.id)){h(!1);return}try{const{data:_,error:N}=await U.from("maintenance_reports").select(`
            id,
            pdf_url,
            performed_at,
            work_order:maintenance_work_orders!inner (
              code,
              title,
              dam_id
            )
          `).eq("work_order.dam_id",e.id).not("pdf_url","is",null).order("performed_at",{ascending:!1}).limit(1).maybeSingle();N?console.error("Error fetching maintenance PDF:",N):_!=null&&_.pdf_url&&d(_.pdf_url)}catch(_){console.error("Error:",_)}finally{h(!1)}}j()},[e]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(wr,{className:"text-white",size:24})}),"Mdulo BIM"]}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Building Information Modeling - Visualizacin y gestin de modelos 3D"})]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[i.jsx(hi,{size:20}),"Subir Modelo BIM"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx(W,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Modelos Activos"}),i.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"8"})]}),i.jsx(wr,{className:"text-blue-600",size:32})]})}),i.jsx(W,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Elementos Totales"}),i.jsx("p",{className:"text-3xl font-bold text-green-900",children:"24,633"})]}),i.jsx(nl,{className:"text-green-600",size:32})]})}),i.jsx(W,{className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Tamao Total"}),i.jsx("p",{className:"text-3xl font-bold text-purple-900",children:"2.54 GB"})]}),i.jsx(ht,{className:"text-purple-600",size:32})]})}),i.jsx(W,{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-600 font-medium mb-1",children:"Presas con BIM"}),i.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"6"})]}),i.jsx(p0,{className:"text-orange-600",size:32})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(W,{className:"h-full",children:[i.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:i.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(ht,{size:20}),"Modelos BIM Disponibles"]})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Buscar modelos...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m.map(j=>i.jsxs("div",{onClick:()=>r(j.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${t===j.id?"border-purple-500 bg-purple-50 shadow-md":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{size:16,className:"text-purple-600"}),i.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:j.nombre})]}),i.jsx(wt,{className:v(j.estado),children:j.estado})]}),i.jsx("p",{className:"text-xs text-slate-600 mb-3",children:j.presaNombre}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(wt,{className:y(j.formato),children:j.formato}),i.jsxs("span",{className:"text-slate-600",children:["v",j.version]})]}),i.jsx("div",{className:"text-slate-600 text-right",children:j.tamao})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 pt-3 border-t border-slate-200 text-xs text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(nl,{size:12}),j.elementos.toLocaleString()," elementos"]}),i.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[i.jsx(p0,{size:12}),j.niveles," niveles"]})]})]},j.id))})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(W,{className:"h-full",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:[i.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Zl,{size:20}),"Visor BIM 3D"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-300 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>a("3d"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="3d"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"3D"}),i.jsx("button",{onClick:()=>a("plano"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="plano"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Plano"}),i.jsx("button",{onClick:()=>a("lista"),className:`px-3 py-1.5 rounded text-sm transition-colors ${n==="lista"?"bg-purple-600 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Lista"})]}),i.jsx("button",{onClick:()=>o(!s),className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm hover:bg-slate-100 transition-colors",children:i.jsx(kk,{size:16})})]})]}),i.jsx("div",{className:"relative bg-gradient-to-br from-slate-100 to-slate-200 h-[500px]",children:t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl flex items-center justify-center shadow-2xl animate-pulse",children:i.jsx(wr,{className:"text-white",size:48})}),i.jsx("p",{className:"text-slate-600 font-medium text-lg mb-2",children:"Visor BIM en Desarrollo"}),i.jsx("p",{className:"text-slate-500 text-sm max-w-md",children:"El visor 3D interactivo se integrar en la siguiente fase del proyecto. Soportar modelos IFC, RVT, DWG y FBX con navegacin completa."})]})}),i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[i.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:i.jsx(Ok,{size:20})}),i.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:i.jsx(Ak,{size:20})}),i.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:i.jsx(Sk,{size:20})}),i.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:i.jsx(h0,{size:20})}),i.jsx("button",{className:"p-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors shadow-sm",children:i.jsx(_k,{size:20})})]}),i.jsxs("div",{className:"absolute bottom-4 left-4 bg-white border border-slate-300 rounded-lg p-3 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(If,{size:16,className:"text-purple-600"}),i.jsx("span",{className:"font-semibold text-sm",children:"Informacin del Modelo"})]}),i.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[i.jsxs("p",{children:["Modelo: ",(x=m.find(j=>j.id===t))==null?void 0:x.nombre]}),i.jsxs("p",{children:["Elementos: ",(w=m.find(j=>j.id===t))==null?void 0:w.elementos.toLocaleString()]}),i.jsxs("p",{children:["Formato: ",(b=m.find(j=>j.id===t))==null?void 0:b.formato]})]})]})]}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wr,{className:"mx-auto mb-4 text-slate-400",size:64}),i.jsx("p",{className:"text-slate-600 font-medium",children:"Selecciona un modelo BIM para visualizar"}),i.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Elige un modelo de la lista de la izquierda"})]})})}),s&&t&&i.jsxs("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:[i.jsxs("h3",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[i.jsx(sM,{size:18}),"Propiedades del Elemento"]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map(j=>i.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg hover:border-purple-300 transition-colors cursor-pointer",onClick:()=>c(j),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(nl,{size:14,className:"text-purple-600"}),i.jsx("span",{className:"font-semibold text-sm text-slate-900",children:j.nombre})]}),i.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[i.jsxs("p",{children:["Tipo: ",j.tipo]}),i.jsxs("p",{children:["Categora: ",j.categoria]}),i.jsxs("p",{children:["Nivel: ",j.nivel]})]})]},j.id))})]})]})})]}),l&&i.jsxs(W,{children:[i.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:i.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(aM,{size:20}),"Propiedades Detalladas: ",l.nombre]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(l.propiedades).map(([j,_])=>i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-600 mb-1",children:j}),i.jsx("p",{className:"font-semibold text-slate-900",children:_})]},j))}),i.jsxs("div",{className:"mt-6 flex gap-3",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Ds,{size:18}),"Exportar Propiedades"]}),i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[i.jsx(ht,{size:18}),"Generar Informe"]})]})]})]}),u&&!f&&i.jsxs(W,{children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:[i.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(ht,{size:20}),"ltimo Informe de Mantenimiento"]}),i.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[i.jsx(id,{size:16}),"Abrir en Nueva Pestaa"]})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"bg-slate-100 rounded-lg overflow-hidden",style:{height:"800px"},children:i.jsx("iframe",{src:u,className:"w-full h-full",title:"ltimo Informe de Mantenimiento"})})})]})]})}const np=[{id:"transformers",name:"Centros de Transformacin",count:2,visible:!0},{id:"electrical",name:"Cuadros Elctricos",count:5,visible:!0},{id:"generators",name:"Grupos Electrgenos",count:3,visible:!0},{id:"discharge",name:"rganos de Desage",count:8,visible:!0},{id:"pumping",name:"Sistemas de Achique",count:4,visible:!0},{id:"ventilation",name:"Ventilacin Forzada",count:6,visible:!0},{id:"sensors",name:"Equipos de Auscultacin",count:45,visible:!1}],an=[{id:"1",code:"CT-01",name:"Centro Transformacin Principal",category:"transformers",status:"operational",lastInspection:"2026-01-15",situation:"normal",position:{x:100,y:200,z:50}},{id:"2",code:"GE-01",name:"Grupo Electrgeno 1",category:"generators",status:"operational",lastInspection:"2026-01-20",situation:"normal",position:{x:150,y:180,z:45}},{id:"3",code:"AL-01",name:"Aliviadero de Compuertas",category:"discharge",status:"operational",lastInspection:"2026-02-01",situation:"normal",position:{x:200,y:220,z:80}},{id:"4",code:"DF-01",name:"Desage de Fondo",category:"discharge",status:"maintenance",lastInspection:"2026-01-10",situation:"normal",position:{x:180,y:190,z:30}},{id:"5",code:"PZ-12",name:"Piezmetro PZ-12",category:"sensors",status:"operational",lastInspection:"2026-02-05",situation:"normal",alertLevel:"caution",position:{x:120,y:210,z:55}}],uJ=[{id:"front",name:"Vista Frontal",icon:Zl},{id:"top",name:"Vista Superior",icon:J5},{id:"section",name:"Vista Seccin",icon:nl},{id:"galleries",name:"Vista Galeras",icon:wr}];function dJ(){var m;const{selectedDam:e}=Ba(),[t,r]=p.useState(null),[n,a]=p.useState(new Set(np.filter(g=>g.visible).map(g=>g.id))),[s,o]=p.useState("front"),[l,c]=p.useState(!1),u=g=>{const v=new Set(n);v.has(g)?v.delete(g):v.add(g),a(v)},d=an.find(g=>g.id===t),f=g=>{switch(g){case"operational":return"text-green-500";case"maintenance":return"text-yellow-500";case"alert":return"text-red-500";default:return"text-gray-500"}},h=g=>{switch(g){case"operational":return"success";case"maintenance":return"warning";case"alert":return"error";default:return"default"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modelo BIM"}),i.jsx("p",{className:"mt-2 text-gray-600",children:e?`Gemelo Digital - ${e.name}`:"Seleccione una presa"})]}),e&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(wt,{variant:"default",children:[i.jsx(wr,{className:"w-3 h-3 mr-1"}),"LOD 300"]}),i.jsx(wt,{variant:e.operational_status==="operational"?"success":"warning",children:e.operational_status==="operational"?"Normal":"Extraordinaria"})]})]}),e?i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[i.jsxs(W,{className:"p-0 overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-900 p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{className:"p-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors",children:i.jsx(Sk,{className:"w-5 h-5"})}),i.jsx("button",{className:"p-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors",children:i.jsx(Ok,{className:"w-5 h-5"})}),i.jsx("button",{className:"p-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors",children:i.jsx(Ak,{className:"w-5 h-5"})}),i.jsx("div",{className:"h-6 w-px bg-gray-700"}),uJ.map(g=>{const v=g.icon;return i.jsx("button",{onClick:()=>o(g.id),className:`p-2 rounded transition-colors ${s===g.id?"bg-chg-blue text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,title:g.name,children:i.jsx(v,{className:"w-5 h-5"})},g.id)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>c(!l),className:`p-2 rounded transition-colors ${l?"bg-chg-blue text-white":"bg-gray-800 text-white hover:bg-gray-700"}`,children:i.jsx(Tf,{className:"w-5 h-5"})}),i.jsx("button",{className:"p-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition-colors",children:i.jsx(_k,{className:"w-5 h-5"})})]})]}),l&&i.jsxs("div",{className:"bg-gray-800 p-4 border-t border-gray-700",children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Capas Visibles"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:np.map(g=>i.jsxs("button",{onClick:()=>u(g.id),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${n.has(g.id)?"bg-chg-blue text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[n.has(g.id)?i.jsx(Zl,{className:"w-4 h-4"}):i.jsx(Q5,{className:"w-4 h-4"}),i.jsx("span",{className:"truncate",children:g.name}),i.jsxs("span",{className:"ml-auto text-xs",children:["(",g.count,")"]})]},g.id))})]}),i.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-800 via-gray-700 to-gray-900",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wr,{className:"w-20 h-20 text-gray-600 mx-auto mb-4 animate-pulse"}),i.jsxs("p",{className:"text-gray-400 mb-2",children:["Visualizador 3D - ",s]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Modelo: Presa_CHG_",e.code,"_v2.0.gltf"]})]})}),i.jsx("svg",{className:"absolute inset-0 w-full h-full opacity-30",children:an.filter(g=>n.has(g.category)).map(g=>i.jsxs("g",{children:[i.jsx("circle",{cx:g.position.x+100,cy:g.position.y+50,r:"8",className:`cursor-pointer transition-all ${t===g.id?"fill-blue-500 stroke-blue-300":g.status==="operational"?"fill-green-500 stroke-green-300":g.status==="maintenance"?"fill-yellow-500 stroke-yellow-300":"fill-red-500 stroke-red-300"}`,strokeWidth:"2",onClick:()=>r(g.id)}),t===g.id&&i.jsx("text",{x:g.position.x+100,y:g.position.y+35,className:"fill-white text-xs",textAnchor:"middle",children:g.code})]},g.id))}),i.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 rounded-lg p-3 text-white text-sm",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{children:"Operativo"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{children:"Mantenimiento"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),i.jsx("span",{children:"Alerta"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsx("span",{children:"Seleccionado"})]})]})})]})]}),d&&i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:d.name}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Cdigo: ",d.code]})]}),i.jsx(wt,{variant:h(d.status),children:d.status==="operational"?"Operativo":"Mantenimiento"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(ht,{className:"w-4 h-4"}),"Datos de Inventario"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Categora:"}),i.jsx("span",{className:"font-medium text-gray-900",children:(m=np.find(g=>g.id===d.category))==null?void 0:m.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Estado:"}),i.jsx("span",{className:`font-medium ${f(d.status)}`,children:d.status==="operational"?"Operativo":"Mantenimiento"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Ubicacin:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Galera Principal"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Ua,{className:"w-4 h-4"}),"ltimo Mantenimiento"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha:"}),i.jsx("span",{className:"font-medium text-gray-900",children:new Date(d.lastInspection).toLocaleDateString("es-ES")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Resultado:"}),i.jsx("span",{className:"font-medium text-green-600",children:"Conforme"})]}),i.jsxs("button",{className:"w-full mt-2 px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:[i.jsx(ht,{className:"w-4 h-4 inline mr-1"}),"Ver Parte PDF"]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Qe,{className:"w-4 h-4"}),"Estado Operacional"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Situacin:"}),i.jsx(wt,{variant:"success",children:"Normal"})]}),d.category==="sensors"&&d.alertLevel&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Nivel Alerta:"}),i.jsx(wt,{variant:"warning",children:"Precaucin"})]}),d.category==="sensors"&&i.jsxs("button",{className:"w-full mt-2 px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:[i.jsx(mn,{className:"w-4 h-4 inline mr-1"}),"Ver Grficos"]})]})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:i.jsxs("p",{className:"text-sm text-blue-900",children:[i.jsx("strong",{children:"Integracin:"})," Este elemento est sincronizado con los mdulos de Inventario, Mantenimiento, Explotacin y Auscultacin."]})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Equipos Crticos"}),i.jsx("div",{className:"space-y-2",children:an.slice(0,5).map(g=>i.jsx("button",{onClick:()=>r(g.id),className:`w-full p-3 rounded-lg text-left transition-colors ${t===g.id?"bg-chg-blue text-white":"bg-gray-50 hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[g.status==="operational"?i.jsx(Ve,{className:"w-4 h-4 flex-shrink-0"}):i.jsx(Sr,{className:"w-4 h-4 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:g.code}),i.jsx("p",{className:`text-xs truncate ${t===g.id?"text-blue-100":"text-gray-600"}`,children:g.name})]})]})},g.id))})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Estadsticas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Equipos Operativos"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[an.filter(g=>g.status==="operational").length,"/",an.length]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${an.filter(g=>g.status==="operational").length/an.length*100}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"En Mantenimiento"}),i.jsx("span",{className:"font-semibold text-gray-900",children:an.filter(g=>g.status==="maintenance").length})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${an.filter(g=>g.status==="maintenance").length/an.length*100}%`}})})]})]})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Acciones Rpidas"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{className:"w-full px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-left text-sm",children:[i.jsx(Ca,{className:"w-4 h-4 inline mr-2"}),"Localizar Elemento"]}),i.jsxs("button",{className:"w-full px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-left text-sm",children:[i.jsx(ht,{className:"w-4 h-4 inline mr-2"}),"Exportar Informe"]}),i.jsxs("button",{className:"w-full px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-left text-sm",children:[i.jsx(nl,{className:"w-4 h-4 inline mr-2"}),"Gestionar Capas"]})]})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Informacin del Modelo"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Versin:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"2.0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha Escaneo:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Enero 2026"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"LOD:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"300"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Elementos:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"73"})]})]})]})]})]}):i.jsxs(W,{className:"p-8 text-center",children:[i.jsx(wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Seleccione una presa para visualizar el modelo BIM"})]})]})}function fJ(){const{selectedDam:e}=Ba(),[t,r]=p.useState(null),[n,a]=p.useState(!0);p.useEffect(()=>{e?s():(a(!1),r(null))},[e]);const s=async()=>{if(e){a(!0);try{const[{data:c},{data:u},{data:d},{data:f}]=await Promise.all([U.from("maintenance_operations").select("scheduled_date").eq("dam_id",e.id).eq("status","completed").order("scheduled_date",{ascending:!1}).limit(1).maybeSingle(),U.from("emergency_situations").select("id, situation_type, declared_at").eq("dam_id",e.id).eq("status","active").order("declared_at",{ascending:!1}),U.from("spillway_gates").select("operational_status").eq("dam_id",e.id).limit(1).maybeSingle(),U.from("warning_sirens").select("operational_status").eq("dam_id",e.id).limit(1).maybeSingle()]),h=(u||[]).map(v=>({type:v.situation_type,message:`Situacin ${v.situation_type} activa`,timestamp:new Date(v.declared_at)})),m=[{sensor:"PZ-001",value:42.5,threshold:45},{sensor:"INC-003",value:3.2,threshold:5},{sensor:"ACE-002",value:8.5,threshold:10}],g={damStatus:e.operational_status||"normal",waterLevel:e.current_level||0,capacityHm3:e.capacity_hm3||0,maxContribution48h:125.5,spillwayStatus:(d==null?void 0:d.operational_status)||"closed",sirenStatus:(f==null?void 0:f.operational_status)||"operational",lastMaintenance:c!=null&&c.scheduled_date?new Date(c.scheduled_date).toLocaleDateString("es-ES"):"No disponible",criticalIndicators:m,activeAlerts:h};console.log("Control Center Data loaded:",g),r(g)}catch(c){console.error("Error loading control center data:",c),r(null)}finally{a(!1)}}},o=c=>{switch(c.toLowerCase()){case"normal":return"bg-green-100 text-green-800";case"warning":return"bg-orange-100 text-orange-800";case"extraordinary":return"bg-orange-100 text-orange-800";case"emergency_0":return"bg-red-100 text-red-800";case"emergency_1":return"bg-red-100 text-red-800";case"emergency_2":return"bg-red-100 text-red-800";case"emergency_3":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=c=>{switch(c.toLowerCase()){case"normal":return"Normal";case"warning":return"Advertencia";case"extraordinary":return"Extraordinaria";case"emergency_0":return"Escenario 0";case"emergency_1":return"Escenario 1";case"emergency_2":return"Escenario 2";case"emergency_3":return"Escenario 3";default:return c}};return n?i.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"h-8 w-96 bg-gray-200 rounded animate-pulse mb-2"}),i.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(c=>i.jsx(W,{className:"animate-pulse",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mb-4"}),i.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded"})]})},c))}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(c=>i.jsx(W,{className:"animate-pulse",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded mb-4"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"}),i.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})},c))})]})}):!e||!t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ca,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Seleccione una presa"}),i.jsx("p",{className:"text-gray-600",children:"Por favor seleccione una presa para ver el centro de control."})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Centro de Control Integral"}),i.jsxs("p",{className:"text-gray-600",children:["Vista ejecutiva consolidada de ",e.name]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"ltima actualizacin"}),i.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date().toLocaleTimeString("es-ES")})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx(W,{className:"bg-gradient-to-br from-blue-50 to-white border-blue-200",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Te,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${o(t.damStatus)}`,children:l(t.damStatus)})]}),i.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Estado Global"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(t.damStatus)})]})}),i.jsx(W,{className:"bg-gradient-to-br from-cyan-50 to-white border-cyan-200",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center",children:i.jsx(Tv,{className:"h-6 w-6 text-cyan-600"})})}),i.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nivel Actual"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.waterLevel.toFixed(2)," m"]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Capacidad: ",t.capacityHm3.toFixed(0)," hm"]})]})}),i.jsx(W,{className:"bg-gradient-to-br from-indigo-50 to-white border-indigo-200",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:i.jsx(mn,{className:"h-6 w-6 text-indigo-600"})})}),i.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Aportacin 48h"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.maxContribution48h," m/s"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mxima registrada"})]})}),i.jsx(W,{className:"bg-gradient-to-br from-amber-50 to-white border-amber-200",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:i.jsx(ws,{className:"h-6 w-6 text-amber-600"})})}),i.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Alertas Activas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeAlerts.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.activeAlerts.length===0?"Sistema normal":"Requieren atencin"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Qe,{className:"h-5 w-5 text-blue-600"}),"Estado de rganos de Desage"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Compuertas de Aliviadero"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Estado operacional"})]}),i.jsx(ir,{status:t.spillwayStatus})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Desage de Fondo"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Estado operacional"})]}),i.jsx(ir,{status:"closed"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Tomas de Agua"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Estado operacional"})]}),i.jsx(ir,{status:"operational"})]})]})]})}),i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(ws,{className:"h-5 w-5 text-blue-600"}),"Estado de Sirenas"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Sistema de Sirenas"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Estado general del sistema"})]}),i.jsx(ir,{status:t.sirenStatus})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Operativas"}),i.jsx("p",{className:"text-2xl font-bold text-green-700",children:"4"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"En mantenimiento"}),i.jsx("p",{className:"text-2xl font-bold text-gray-700",children:"0"})]})]}),i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"ltima prueba"}),i.jsx("p",{className:"text-sm font-semibold text-blue-900",children:new Date(Date.now()-7*24*60*60*1e3).toLocaleDateString("es-ES")})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Df,{className:"h-5 w-5 text-blue-600"}),"ltima Inspeccin de Mantenimiento"]}),i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Ua,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Fecha de ltima inspeccin"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.lastMaintenance})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Inspecciones OK"}),i.jsx("p",{className:"text-xl font-bold text-green-700",children:"12"})]}),i.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg",children:[i.jsx("p",{className:"text-xs text-amber-600 font-medium mb-1",children:"Pendientes"}),i.jsx("p",{className:"text-xl font-bold text-amber-700",children:"2"})]})]})]})]})}),i.jsx(W,{children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Qe,{className:"h-5 w-5 text-blue-600"}),"Indicadores Crticos de Auscultacin"]}),i.jsx("div",{className:"space-y-3",children:t.criticalIndicators.map((c,u)=>{const d=c.value/c.threshold*100,f=d>80;return i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:c.sensor}),i.jsxs("span",{className:`text-sm font-semibold ${f?"text-orange-600":"text-green-600"}`,children:[c.value," / ",c.threshold]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${f?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(d,100)}%`}})})]},u)})})]})})]}),t.activeAlerts.length>0&&i.jsx(W,{className:"mt-6 border-red-200 bg-red-50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-red-900 mb-4 flex items-center gap-2",children:[i.jsx(Te,{className:"h-5 w-5 text-red-600"}),"Alertas Activas"]}),i.jsx("div",{className:"space-y-3",children:t.activeAlerts.map((c,u)=>i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-lg border border-red-200",children:[i.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:c.message}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.timestamp.toLocaleString("es-ES")})]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:c.type})]},u))})]})})]})})}const ap=[{name:"Director del Plan",email:"director.plan@miteco.es",role:"director"},{name:"Proteccin Civil Provincial",email:"proteccion.civil@junta.es",role:"authority"},{name:"Subdelegacin del Gobierno",email:"subdelega@correo.gob.es",role:"authority"},{name:"Alcalde/sa",email:"alcalde@ayuntamiento.es",role:"local_authority"},{name:"Guardia Civil",email:"guardia.civil@interior.es",role:"security"},{name:"Personal de Guardia",email:"guardia@operacion.es",role:"operator"}];function hJ({isOpen:e,onClose:t,damId:r,scenarioLevel:n,scenarioId:a}){const[s,o]=p.useState("email"),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(ap.map(b=>b.email)),[m,g]=p.useState(!1),[v,y]=p.useState("idle"),x=b=>{h(j=>j.includes(b)?j.filter(_=>_!==b):[...j,b])},w=async()=>{if(!l.trim()||!u.trim()||f.length===0){alert("Por favor, complete todos los campos y seleccione al menos un destinatario");return}g(!0),y("idle");try{const{data:{user:b}}=await U.auth.getUser();let j=a;if(!j){const{data:S,error:P}=await U.from("emergency_scenarios").insert({dam_id:r,scenario_type:n,activation_mode:"manual",activated_by:b==null?void 0:b.id,status:"active"}).select().single();if(P)throw P;j=S.id}const _=ap.filter(S=>f.includes(S.email)).map(S=>({name:S.name,email:S.email,role:S.role})),{error:N}=await U.from("emergency_communications").insert({scenario_id:j,communication_type:s,subject:l,body:u,recipients:_,delivery_status:"sent",created_by:b==null?void 0:b.id});if(N)throw N;y("success"),setTimeout(()=>{t(),c(""),d(""),y("idle")},2e3)}catch(b){console.error("Error sending notification:",b),y("error")}finally{g(!1)}};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(js,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Aviso de Emergencia"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(sd,{className:"w-5 h-5 text-gray-600"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-orange-900",children:["Aviso de ",n.toUpperCase()]}),i.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Este mensaje se enviar a las autoridades y personal designado segn el protocolo del Plan de Emergencia"})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Comunicacin"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>o("email"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${s==="email"?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[i.jsx(js,{className:"w-5 h-5 inline mr-2"}),"Email"]}),i.jsxs("button",{onClick:()=>o("sms"),className:`flex-1 px-4 py-3 rounded-lg border-2 transition-colors ${s==="sms"?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}`,children:[i.jsx(v0,{className:"w-5 h-5 inline mr-2"}),"SMS"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destinatarios *"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:ap.map(b=>i.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:f.includes(b.email),onChange:()=>x(b.email),className:"w-4 h-4 text-blue-600 rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:b.name}),i.jsx("p",{className:"text-sm text-gray-600",children:b.email})]})]},b.email))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[f.length," destinatario(s) seleccionado(s)"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Asunto *"}),i.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),placeholder:`ALERTA: Activacin ${n.toUpperCase()}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje *"}),i.jsx("textarea",{value:u,onChange:b=>d(b.target.value),rows:8,placeholder:"Escriba el mensaje de aviso...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[u.length," caracteres"]})]}),v==="success"&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Ve,{className:"w-5 h-5 text-green-600"}),i.jsx("p",{className:"text-green-800 font-medium",children:"Aviso enviado correctamente"})]}),v==="error"&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-red-600"}),i.jsx("p",{className:"text-red-800 font-medium",children:"Error al enviar el aviso. Intntelo de nuevo."})]})]}),i.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex gap-3 justify-end",children:[i.jsx("button",{onClick:t,disabled:m,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancelar"}),i.jsx("button",{onClick:w,disabled:m||!l.trim()||!u.trim()||f.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(v0,{className:"w-4 h-4"}),"Enviar Aviso"]})})]})]})}):null}const ip=[{name:"Director del Plan",role:"director",phone:"+34 900 123 456",priority:1},{name:"Proteccin Civil Provincial",role:"authority",phone:"+34 900 234 567",priority:2},{name:"Subdelegacin del Gobierno",role:"authority",phone:"+34 900 345 678",priority:3},{name:"Alcalde/sa del Municipio",role:"local_authority",phone:"+34 900 456 789",priority:4},{name:"Guardia Civil - Puesto Local",role:"security",phone:"+34 900 567 890",priority:5},{name:"112 - Emergencias",role:"emergency",phone:"112",priority:6}];function mJ({isOpen:e,onClose:t,damId:r,scenarioLevel:n,scenarioId:a}){const[s,o]=p.useState({}),[l,c]=p.useState(""),[u,d]=p.useState(!1),[f,h]=p.useState("idle"),m=(x,w)=>{o(b=>({...b,[x]:{status:w,time:new Date().toLocaleTimeString("es-ES")}}))},g=async()=>{if(Object.keys(s).length===0){alert("Por favor, registre al menos una llamada antes de guardar");return}d(!0),h("idle");try{const{data:{user:x}}=await U.auth.getUser();let w=a;if(!w){const{data:_,error:N}=await U.from("emergency_scenarios").insert({dam_id:r,scenario_type:n,activation_mode:"manual",activated_by:x==null?void 0:x.id,status:"active"}).select().single();if(N)throw N;w=_.id}const b=ip.map(_=>{var N,S,P;return{name:_.name,role:_.role,phone:_.phone,status:((N=s[_.phone])==null?void 0:N.status)||"pending",time:((S=s[_.phone])==null?void 0:S.time)||null,notes:((P=s[_.phone])==null?void 0:P.notes)||null}}),{error:j}=await U.from("emergency_communications").insert({scenario_id:w,communication_type:"phone",subject:`Protocolo Telefnico - ${n.toUpperCase()}`,body:l||"Protocolo telefnico ejecutado segn el Plan de Emergencia",recipients:b,delivery_status:"sent",created_by:x==null?void 0:x.id});if(j)throw j;h("success"),setTimeout(()=>{t(),o({}),c(""),h("idle")},2e3)}catch(x){console.error("Error saving telephone protocol:",x),h("error")}finally{d(!1)}};if(!e)return null;const v=Object.values(s).filter(x=>x.status==="completed").length,y=ip.length;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(g0,{className:"w-6 h-6 text-green-600"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Protocolo Telefnico de Emergencia"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(sd,{className:"w-5 h-5 text-gray-600"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-semibold text-orange-900",children:["Protocolo de Activacin: ",n.toUpperCase()]}),i.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Realice las llamadas siguiendo el orden de prioridad establecido. Registre el estado de cada llamada."})]})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Progreso de Llamadas"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:`${v/y*100}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[v," / ",y]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Mensaje a Comunicar"}),i.jsx("textarea",{value:l,onChange:x=>c(x.target.value),rows:3,placeholder:"Escriba el mensaje que comunicar telefnicamente...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contactos del Protocolo"}),i.jsx("div",{className:"space-y-3",children:ip.map(x=>{const w=s[x.phone];return i.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${(w==null?void 0:w.status)==="completed"?"bg-green-50 border-green-300":(w==null?void 0:w.status)==="no_answer"?"bg-yellow-50 border-yellow-300":"bg-white border-gray-200"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-700 rounded-full flex items-center justify-center font-bold",children:x.priority}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900",children:x.name}),i.jsx("p",{className:"text-sm text-gray-600",children:x.phone}),(w==null?void 0:w.time)&&i.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500",children:[i.jsx(Ua,{className:"w-3 h-3"}),i.jsx("span",{children:w.time})]})]})]}),i.jsx("div",{className:"flex gap-2",children:!w||w.status==="pending"?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>m(x.phone,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:[i.jsx(Ve,{className:"w-4 h-4 inline mr-1"}),"Contactado"]}),i.jsx("button",{onClick:()=>m(x.phone,"no_answer"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm font-medium",children:"Sin Respuesta"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[w.status==="completed"?i.jsxs("span",{className:"flex items-center gap-1 text-green-700 font-medium text-sm",children:[i.jsx(Ve,{className:"w-4 h-4"}),"Contactado"]}):i.jsxs("span",{className:"flex items-center gap-1 text-yellow-700 font-medium text-sm",children:[i.jsx(Sr,{className:"w-4 h-4"}),"Sin respuesta"]}),i.jsx("button",{onClick:()=>{const b={...s};delete b[x.phone],o(b)},className:"ml-2 text-xs text-gray-500 hover:text-gray-700 underline",children:"Reintentar"})]})})]})},x.phone)})})]}),f==="success"&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Ve,{className:"w-5 h-5 text-green-600"}),i.jsx("p",{className:"text-green-800 font-medium",children:"Protocolo telefnico registrado correctamente"})]}),f==="error"&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Sr,{className:"w-5 h-5 text-red-600"}),i.jsx("p",{className:"text-red-800 font-medium",children:"Error al registrar el protocolo. Intntelo de nuevo."})]})]}),i.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex gap-3 justify-end",children:[i.jsx("button",{onClick:t,disabled:u,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancelar"}),i.jsx("button",{onClick:g,disabled:u||Object.keys(s).length===0,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ve,{className:"w-4 h-4"}),"Guardar Protocolo"]})})]})]})})}const Yi=[{value:"normal",label:"Situacin Normal",color:"bg-green-500",icon:Ve},{value:"extraordinary",label:"Situacin Extraordinaria",color:"bg-yellow-500",icon:Te},{value:"scenario_0",label:"Escenario 0",color:"bg-orange-500",icon:Te},{value:"scenario_1",label:"Escenario 1",color:"bg-orange-600",icon:Te},{value:"scenario_2",label:"Escenario 2",color:"bg-red-500",icon:Te},{value:"scenario_3",label:"Escenario 3",color:"bg-red-700",icon:Te}];function pJ(){const{selectedDam:e}=Ba(),[t,r]=p.useState("plan"),[n,a]=p.useState("normal"),[s,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,h]=p.useState([]),[m,g]=p.useState([]),[v,y]=p.useState([]),[x,w]=p.useState([]),[b,j]=p.useState([]),[_,N]=p.useState(!0),[S,P]=p.useState(null),[C,I]=p.useState(null),[O,k]=p.useState(!1),[M,L]=p.useState(!1),[J,Y]=p.useState([]),[Z,R]=p.useState(null),[B,q]=p.useState({waterLevel:null,inflowLastHour:null,rainfall24h:null});p.useEffect(()=>{e?(N(!0),ee()):(N(!1),h([]),g([]),y([]),w([]),j([]))},[e]);const ee=async()=>{if(e)try{N(!0);const[A,D,te,V,qe]=await Promise.all([U.from("warning_sirens").select("*").eq("dam_id",e.id),U.from("emergency_indicators").select("*").eq("dam_id",e.id).eq("is_active",!0).order("scenario_threshold"),U.from("emergency_procedures").select("*").eq("dam_id",e.id).order("procedure_order"),U.from("emergency_simulations").select("*").eq("dam_id",e.id).order("started_at",{ascending:!1}).limit(10),U.from("emergency_causes").select("*").order("sort_order")]);if(A.error&&console.error("Sirens error:",A.error),A.data&&h(A.data),qe.data&&j(qe.data),te.data&&y(te.data),V.data&&w(V.data),D.data){const mr=await Promise.all(D.data.map(async Ka=>{const{data:Ht}=await U.from("emergency_indicator_values").select("current_value, current_value_text, measured_at").eq("indicator_id",Ka.id).order("measured_at",{ascending:!1}).limit(1).maybeSingle(),Uy=Ht==null?void 0:Ht.current_value,p4=Ka.indicator_type==="quantitative"&&Uy!=null&&Ka.threshold_value!=null&&Uy>=Ka.threshold_value;return{...Ka,current_value:Ht==null?void 0:Ht.current_value,current_value_text:Ht==null?void 0:Ht.current_value_text,measured_at:Ht==null?void 0:Ht.measured_at,exceeds_threshold:p4}}));g(mr);const Sc=ae(mr);Sc&&n==="normal"&&o(Sc)}const{data:Ye}=await U.from("emergency_scenarios").select("id, scenario_type").eq("dam_id",e.id).eq("status","active").order("activated_at",{ascending:!1}).limit(1).maybeSingle();if(Ye){R(Ye.id),a(Ye.scenario_type);const{data:mr}=await U.from("emergency_communications").select("*").eq("scenario_id",Ye.id).order("sent_at",{ascending:!1});mr&&Y(mr)}const{data:Mr}=await U.from("exploitation_daily_data").select("water_level, inflow_total, rainfall, date").eq("dam_id",e.id).order("date",{ascending:!1}).limit(1).maybeSingle();if(Mr){const{data:mr}=await U.from("exploitation_daily_data").select("rainfall").eq("dam_id",e.id).gte("date",new Date(Date.now()-864e5).toISOString().split("T")[0]).order("date",{ascending:!1}),Sc=(mr==null?void 0:mr.reduce((Ka,Ht)=>Ka+(Number(Ht.rainfall)||0),0))||0;q({waterLevel:Mr.water_level,inflowLastHour:Mr.inflow_total,rainfall24h:Sc})}}catch(A){console.error("Error loading emergency data:",A)}finally{N(!1)}},ae=A=>{const D=A.filter(V=>V.exceeds_threshold);if(D.length===0)return null;const te=["scenario_3","scenario_2","scenario_1","scenario_0"];for(const V of te)if(D.some(Ye=>Ye.scenario_threshold===V))return V;return null},Ae=A=>{P(A)},pe=async A=>{I(A),await new Promise(D=>setTimeout(D,2e3)),I(null),alert("Test de autodiagnstico completado exitosamente")},St=()=>Yi.find(A=>A.value===n)||Yi[0],et=()=>Yi.find(A=>A.value===s)||null,he=(A,D)=>{a(A),o(null),c(!1),d(D)},$=St(),E=et(),F=$.icon;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Emergencias"}),i.jsx("p",{className:"mt-2 text-gray-600",children:e?`Plan de Emergencia - ${e.name}`:"Seleccione una presa"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-4 border-b border-gray-200",children:[i.jsxs("button",{onClick:()=>r("plan"),className:`px-4 py-3 font-medium transition-colors ${t==="plan"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Dv,{className:"w-4 h-4 inline mr-2"}),"Plan de Emergencia"]}),i.jsxs("button",{onClick:()=>r("sirens"),className:`px-4 py-3 font-medium transition-colors ${t==="sirens"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(iM,{className:"w-4 h-4 inline mr-2"}),"Estado de Sirenas"]}),i.jsxs("button",{onClick:()=>r("simulations"),className:`px-4 py-3 font-medium transition-colors ${t==="simulations"?"text-chg-blue border-b-2 border-chg-blue":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Qe,{className:"w-4 h-4 inline mr-2"}),"Simulacros"]})]}),t==="plan"&&i.jsxs(i.Fragment,{children:[i.jsxs(W,{className:"p-6 mb-6 bg-gradient-to-r from-blue-50 to-cyan-50",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Qe,{className:"w-5 h-5 text-chg-blue"}),"Datos en Tiempo Real del Mdulo de Explotacin"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-blue-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(Nk,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Nivel de Embalse"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.waterLevel!==null?`${B.waterLevel.toFixed(2)} m`:"---"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-green-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(mn,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Aportacin ltima Hora"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.inflowLastHour!==null?`${B.inflowLastHour.toFixed(2)} m/s`:"---"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-purple-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(X5,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Precipitacin 24h"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.rainfall24h!==null?`${B.rainfall24h.toFixed(1)} mm`:"---"})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(W,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escenario Actual"}),i.jsx("button",{onClick:()=>c(!l),className:"px-4 py-2 bg-chg-blue text-white rounded-lg hover:bg-chg-blue-dark transition-colors",children:"Activacin Manual"})]}),i.jsx("div",{className:`p-6 rounded-lg ${$.color} bg-opacity-10 border-2 ${$.color} border-opacity-30`,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(F,{className:`w-12 h-12 ${$.color.replace("bg-","text-")}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:$.label}),u&&i.jsxs("p",{className:"text-gray-700 mt-1",children:["Causa: ",u]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Activado: ",new Date().toLocaleString("es-ES")]})]})]})}),s&&E&&i.jsx("div",{className:"mt-6 p-5 bg-orange-50 border-2 border-orange-400 rounded-lg shadow-lg",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ws,{className:"w-8 h-8 text-orange-600 flex-shrink-0 mt-1 animate-pulse"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3 flex items-center gap-2",children:" Propuesta Automtica de Activacin"}),i.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4",children:[i.jsxs("p",{className:"text-lg text-gray-900 mb-2",children:[i.jsx("strong",{children:"Escenario Propuesto:"})," ",i.jsx("span",{className:"font-bold text-orange-600",children:E.label})]}),i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-700",children:i.jsx("strong",{children:"Indicadores que superan umbrales:"})}),m.filter(A=>A.exceeds_threshold&&A.scenario_threshold===s).map(A=>i.jsxs("div",{className:"ml-4 p-2 bg-orange-50 rounded text-sm",children:[" ",i.jsx("strong",{children:A.variable_name}),": ",A.current_value," (umbral: ",A.threshold_value,")"]},A.id))]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:[i.jsx("strong",{children:"Evaluacin automtica realizada:"})," ",new Date().toLocaleString("es-ES")]})]}),i.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg mb-4 text-sm",children:[i.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Seleccione la causa que motiva la emergencia:"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:u,onChange:A=>d(A.target.value),children:[i.jsx("option",{value:"",children:"Seleccione una causa..."}),b.map(A=>i.jsx("option",{value:A.name,children:A.name},A.id))]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{u?he(s,u):alert("Por favor, seleccione una causa antes de activar el escenario")},className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold text-lg",children:" Confirmar y Activar Escenario"}),i.jsx("button",{onClick:()=>o(null),className:"px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Descartar Propuesta"})]})]})]})}),l&&i.jsxs("div",{className:"mt-6 p-6 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[i.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Activacin Manual de Escenario"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Utilice esta opcin cuando detecte una situacin de emergencia de forma cualitativa o cuando no existan indicadores cuantitativos para todos los escenarios."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar Escenario *"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:s||"",onChange:A=>o(A.target.value),children:[i.jsx("option",{value:"",children:"Seleccione un escenario..."}),Yi.slice(2).map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Causa de la Emergencia *"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:u,onChange:A=>d(A.target.value),children:[i.jsx("option",{value:"",children:"Seleccione una causa..."}),b.map(A=>i.jsx("option",{value:A.name,children:A.name},A.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin de la Situacin"}),i.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:"Describa la situacin que motiva la activacin del escenario..."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{s&&u?he(s,u):alert("Por favor, complete todos los campos obligatorios (*)")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Activar Escenario"}),i.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})]})]}),i.jsxs(W,{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(ht,{className:"w-5 h-5 text-chg-blue"}),"Causas e Indicadores del Plan de Emergencia"]}),_?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando causas..."}):b.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay causas configuradas"}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Causa"}),i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Categora"}),i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-semibold",children:"Indicadores Asociados"}),i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-center font-semibold",children:"Estado"})]})}),i.jsx("tbody",{children:b.map(A=>{const D=m.filter(V=>A.category==="hydrological"?V.variable_name.includes("embalse")||V.variable_name.includes("Aportacin")||V.variable_name.includes("Precipitacin"):A.category==="structural"?V.variable_name.includes("anomal")||V.variable_name.includes("Filtraciones"):A.category==="seismic"?V.variable_name.includes("sismo")||V.variable_name.includes("Magnitud"):!1),te=D.some(V=>V.exceeds_threshold);return i.jsxs("tr",{className:te?"bg-orange-50":"",children:[i.jsxs("td",{className:"border border-gray-300 px-3 py-2",children:[i.jsx("div",{className:"font-medium text-gray-900",children:A.name}),i.jsx("div",{className:"text-xs text-gray-600 mt-1",children:A.description})]}),i.jsx("td",{className:"border border-gray-300 px-3 py-2",children:i.jsx(wt,{variant:A.category==="hydrological"?"default":A.category==="structural"?"warning":A.category==="seismic"?"error":"default",children:A.category==="hydrological"?"Hidrolgica":A.category==="structural"?"Estructural":A.category==="seismic"?"Ssmica":A.category==="inspection"?"Inspeccin":"Operacional"})}),i.jsx("td",{className:"border border-gray-300 px-3 py-2",children:D.length>0?i.jsxs("div",{className:"space-y-1",children:[D.slice(0,3).map(V=>i.jsxs("div",{className:"text-xs",children:[" ",V.variable_name,V.exceeds_threshold&&i.jsx("span",{className:"ml-2 text-orange-600 font-semibold",children:" Umbral superado"})]},V.id)),D.length>3&&i.jsxs("div",{className:"text-xs text-gray-500",children:["+ ",D.length-3," ms"]})]}):i.jsx("span",{className:"text-gray-500",children:"Sin indicadores cuantitativos"})}),i.jsx("td",{className:"border border-gray-300 px-3 py-2 text-center",children:te?i.jsx(Te,{className:"w-5 h-5 text-orange-600 mx-auto"}):i.jsx(Ve,{className:"w-5 h-5 text-green-500 mx-auto"})})]},A.id)})})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-900",children:[i.jsx("strong",{children:"Nota:"})," La evaluacin automtica monitoriza indicadores cuantitativos en tiempo real. Los indicadores cualitativos requieren evaluacin manual por el Director/a del Plan."]})]})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Indicadores Monitorizados en Tiempo Real"}),_?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando indicadores..."}):m.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay indicadores configurados para esta presa"}):i.jsx("div",{className:"space-y-3",children:m.map(A=>i.jsx("div",{className:`p-4 rounded-lg border-2 ${A.exceeds_threshold?"bg-orange-50 border-orange-300":"bg-gray-50 border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Qe,{className:`w-5 h-5 ${A.exceeds_threshold?"text-orange-600":"text-chg-blue"}`}),i.jsx("span",{className:"font-medium text-gray-900",children:A.variable_name}),i.jsx(wt,{variant:A.indicator_type==="quantitative"?"default":"warning",children:A.indicator_type==="quantitative"?"Cuantitativo":"Cualitativo"}),i.jsx(wt,{variant:"default",children:A.scenario_threshold})]}),i.jsx("p",{className:"ml-8 text-sm text-gray-600 mb-2",children:A.description}),A.indicator_type==="quantitative"&&A.threshold_value&&i.jsxs("div",{className:"ml-8 space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Valor actual: "}),i.jsx("span",{className:`font-bold ${A.exceeds_threshold?"text-orange-600":"text-gray-900"}`,children:A.current_value!==null&&A.current_value!==void 0?A.current_value:"---"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Umbral: "}),i.jsx("span",{className:"font-semibold text-gray-900",children:A.threshold_value})]})]}),A.current_value!==null&&A.current_value!==void 0&&i.jsx("div",{children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:`h-3 rounded-full transition-all ${A.exceeds_threshold?"bg-orange-600":"bg-green-500"}`,style:{width:`${Math.min(A.current_value/A.threshold_value*100,100)}%`}})})}),A.measured_at&&i.jsxs("p",{className:"text-xs text-gray-500",children:["ltima medicin: ",new Date(A.measured_at).toLocaleString("es-ES")]})]}),A.indicator_type==="qualitative"&&i.jsxs("div",{className:"ml-8 text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Valor: "}),i.jsx("span",{className:"font-medium text-gray-900",children:A.current_value_text||"Pendiente de evaluacin manual"})]})]}),A.exceeds_threshold?i.jsx(Te,{className:"w-6 h-6 text-orange-600 flex-shrink-0"}):i.jsx(Ve,{className:"w-6 h-6 text-green-500 flex-shrink-0"})]})},A.id))})]}),n!=="normal"&&v.length>0&&i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Procedimientos de Actuacin"}),i.jsx("div",{className:"space-y-3",children:v.filter(A=>A.scenario_type===n).map(A=>i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-chg-blue text-white rounded-full flex items-center justify-center font-bold",children:A.procedure_order}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ht,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:A.title}),i.jsx(wt,{variant:A.procedure_type==="inspection"?"default":"warning",children:A.procedure_type==="inspection"?"Inspeccin":"Ejecucin"})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.description}),A.checklist_items&&A.checklist_items.length>0&&i.jsx("div",{className:"mt-2 space-y-1",children:A.checklist_items.map((D,te)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",className:"rounded"}),i.jsx("span",{className:"text-gray-600",children:D.item})]},te))})]})]},A.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Comunicaciones"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>k(!0),className:"w-full p-4 bg-blue-50 border-2 border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(js,{className:"w-5 h-5 text-blue-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Enviar Aviso"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Email / SMS"})]}),i.jsx(jw,{className:"w-4 h-4 text-blue-600"})]})}),i.jsx("button",{onClick:()=>L(!0),className:"w-full p-4 bg-green-50 border-2 border-green-200 rounded-lg hover:bg-green-100 transition-colors text-left",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(g0,{className:"w-5 h-5 text-green-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Protocolo Telefnico"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Llamadas de emergencia"})]}),i.jsx(jw,{className:"w-4 h-4 text-green-600"})]})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Historial de Avisos"}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:J.length===0?i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay avisos registrados"}):J.map(A=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[A.communication_type==="email"&&i.jsx(js,{className:"w-3 h-3 text-blue-600"}),A.communication_type==="sms"&&i.jsx(js,{className:"w-3 h-3 text-purple-600"}),A.communication_type==="phone"&&i.jsx(g0,{className:"w-3 h-3 text-green-600"}),i.jsx("span",{className:"font-medium text-gray-900",children:A.subject||"Comunicacin"})]}),A.delivery_status==="sent"?i.jsx(Ve,{className:"w-4 h-4 text-green-500"}):A.delivery_status==="failed"?i.jsx($s,{className:"w-4 h-4 text-red-500"}):i.jsx(Ua,{className:"w-4 h-4 text-yellow-500"})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Enviado: ",new Date(A.sent_at).toLocaleString("es-ES")]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Array.isArray(A.recipients)?A.recipients.length:0," destinatario(s)"]})]},A.id))})]})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Cartografa"}),i.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx(Ca,{className:"w-12 h-12 text-gray-400"})}),i.jsx("button",{className:"w-full mt-3 px-4 py-2 bg-chg-blue text-white rounded-lg hover:bg-chg-blue-dark transition-colors",children:"Ver Mapa de Afecciones"})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Registro de Acciones"}),i.jsx("div",{className:"space-y-2 mb-4",children:i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Inspeccin visual realizada"}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Operario: Juan Garca - ",new Date().toLocaleTimeString("es-ES")]})]})}),i.jsx("button",{className:"w-full px-4 py-2 border-2 border-chg-blue text-chg-blue rounded-lg hover:bg-blue-50 transition-colors",children:"Registrar Nueva Accin"})]})]})]})]}),t==="sirens"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estado de Equipos de Aviso"}),_?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando sirenas..."}):f.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay sirenas configuradas para esta presa"}):i.jsx("div",{className:"space-y-3",children:f.map(A=>i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_w,{className:`w-5 h-5 ${A.operational_status==="operational"?"text-green-500":"text-yellow-500"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:A.location_name}),i.jsx("p",{className:"text-sm text-gray-600",children:A.siren_code}),A.last_check_at&&i.jsxs("p",{className:"text-xs text-gray-500",children:["ltimo check: ",new Date(A.last_check_at).toLocaleDateString("es-ES")]})]})]}),i.jsx(wt,{variant:A.operational_status==="operational"?"success":"warning",children:A.operational_status==="operational"?"Operativa":A.operational_status==="degraded"?"Degradada":"Fallo"})]}),i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsxs("button",{onClick:()=>Ae(A.id),className:`flex-1 px-3 py-2 text-sm rounded transition-colors ${S===A.id?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[i.jsx(Zl,{className:"w-4 h-4 inline mr-1"}),"Ver en Mapa"]}),i.jsxs("button",{onClick:()=>pe(A.id),disabled:C===A.id,className:`flex-1 px-3 py-2 text-sm rounded transition-colors ${C===A.id?"bg-gray-300 text-gray-600 cursor-wait":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[i.jsx(Qe,{className:`w-4 h-4 inline mr-1 ${C===A.id?"animate-pulse":""}`}),C===A.id?"Probando...":"Test Autodiagnstico"]})]})]},A.id))})]}),i.jsxs(W,{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Mapa de Sirenas"}),i.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-50 to-green-50 rounded-lg relative border-2 border-gray-200 overflow-hidden",children:f.length===0?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Ca,{className:"w-16 h-16 text-gray-400"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 p-4",children:i.jsx("div",{className:"w-full h-full relative",children:f.map((A,D)=>{const te=S===A.id,V=15+D*20%70,qe=20+D*25%60;return i.jsx("div",{className:`absolute transition-all duration-300 ${te?"z-10 scale-150":"z-0"}`,style:{left:`${V}%`,top:`${qe}%`},children:i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>P(A.id),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shadow-lg ${A.operational_status==="operational"?"bg-green-500":A.operational_status==="degraded"?"bg-yellow-500":"bg-red-500"} ${te?"ring-4 ring-blue-400 animate-pulse":""}`,children:i.jsx(_w,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:`absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-white px-2 py-1 rounded shadow-lg whitespace-nowrap text-xs ${te||"opacity-0 group-hover:opacity-100"} transition-opacity pointer-events-none`,children:[i.jsx("div",{className:"font-medium",children:A.location_name}),i.jsx("div",{className:"text-gray-600",children:A.siren_code})]})]})},A.id)})})}),i.jsxs("div",{className:"absolute bottom-2 left-2 bg-white/90 px-3 py-2 rounded shadow text-xs",children:[i.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Leyenda"}),i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Operativa"})]}),i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Degradada"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-gray-600",children:"Fallo"})]})]})]})}),i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-blue-900",children:[i.jsx("strong",{children:"Resumen:"})," ",f.filter(A=>A.operational_status==="operational").length," sirenas operativas de ",f.length," totales"]}),S&&i.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Haz clic en un punto del mapa para ver detalles de la sirena"})]})]})]}),t==="simulations"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(W,{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nuevo Simulacro"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Simulacro"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Entrenamiento (sin envo real de avisos)"}),i.jsx("option",{children:"Simulacro Reglado (con envo de avisos)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Escenario a Simular"}),i.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:Yi.slice(2).map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Causa de la Emergencia"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Avenida extraordinaria"}),i.jsx("option",{children:"Deslizamiento de ladera"}),i.jsx("option",{children:"Sismo de gran magnitud"}),i.jsx("option",{children:"Fallo estructural"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participantes"}),i.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,placeholder:"Nombres de los participantes del simulacro..."})]}),i.jsxs("button",{className:"w-full px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:[i.jsx(Qe,{className:"w-4 h-4 inline mr-2"}),"Iniciar Simulacro"]})]})]})}),i.jsx("div",{children:i.jsxs(W,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Historial de Simulacros"}),_?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando simulacros..."}):x.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay simulacros registrados"}):i.jsx("div",{className:"space-y-3",children:x.map(A=>{var D;return i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Cv,{className:"w-4 h-4 text-gray-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:((D=Yi.find(te=>te.value===A.scenario_type))==null?void 0:D.label)||A.scenario_type})]}),i.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[new Date(A.started_at).toLocaleDateString("es-ES")," - ",A.simulation_type==="training"?"Entrenamiento":"Simulacro Reglado"]}),A.cause&&i.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Causa: ",A.cause]}),i.jsx(wt,{variant:A.completed_at?"success":"warning",children:A.completed_at?"Completado":"En curso"}),A.evaluation_notes&&i.jsx("p",{className:"text-xs text-gray-600 mt-2 italic",children:A.evaluation_notes})]},A.id)})})]})})]})]}):i.jsxs(W,{className:"p-8 text-center",children:[i.jsx(Te,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Seleccione una presa para acceder al Plan de Emergencia"})]}),i.jsx(hJ,{isOpen:O,onClose:()=>{k(!1),ee()},damId:(e==null?void 0:e.id)||"",scenarioLevel:n,scenarioId:Z||void 0}),i.jsx(mJ,{isOpen:M,onClose:()=>{L(!1),ee()},damId:(e==null?void 0:e.id)||"",scenarioLevel:n,scenarioId:Z||void 0})]})}function gJ(){var b,j,_,N;const[e]=_v(),[t,r]=p.useState([]),[n,a]=p.useState([]),[s,o]=p.useState(null),[l,c]=p.useState(!0),[u,d]=p.useState(""),[f,h]=p.useState("all"),[m,g]=p.useState("all");p.useEffect(()=>{v()},[]),p.useEffect(()=>{const S=e.get("id");if(S&&t.length>0){const P=t.find(C=>C.id===S);P&&o(P)}},[e,t]),p.useEffect(()=>{y()},[t,u,f,m]);const v=async()=>{try{c(!0);const S=await vM();r(S),a(S)}catch(S){console.error("Error loading emergencies:",S)}finally{c(!1)}},y=()=>{let S=t;u&&(S=S.filter(P=>{var C;return P.title.toLowerCase().includes(u.toLowerCase())||P.code.toLowerCase().includes(u.toLowerCase())||((C=P.dam)==null?void 0:C.name.toLowerCase().includes(u.toLowerCase()))})),f!=="all"&&(S=S.filter(P=>P.severity===f)),m!=="all"&&(S=S.filter(P=>P.status===m)),a(S)},x=S=>({structural:"Estructural",hydrological:"Hidrolgica",seismic:"Ssmica",operational:"Operacional",environmental:"Ambiental"})[S]||S,w=S=>new Date(S).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return l?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Cargando emergencias..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Gestin de Emergencias"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Monitorizacin y gestin del ciclo completo de emergencias"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(W,{children:[i.jsx(y0,{children:i.jsx(b0,{children:"Filtros"})}),i.jsxs(sl,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Buscar"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),i.jsx("input",{type:"text",value:u,onChange:S=>d(S.target.value),placeholder:"Cdigo, ttulo o presa...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Severidad"}),i.jsxs("select",{value:f,onChange:S=>h(S.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todas"}),i.jsx("option",{value:"critical",children:"Crtica"}),i.jsx("option",{value:"high",children:"Alta"}),i.jsx("option",{value:"medium",children:"Media"}),i.jsx("option",{value:"low",children:"Baja"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Estado"}),i.jsxs("select",{value:m,onChange:S=>g(S.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"detection",children:"Deteccin"}),i.jsx("option",{value:"evaluation",children:"Evaluacin"}),i.jsx("option",{value:"activation",children:"Activacin"}),i.jsx("option",{value:"management",children:"Gestin"}),i.jsx("option",{value:"resolution",children:"Resolucin"}),i.jsx("option",{value:"closed",children:"Cerrada"})]})]}),i.jsx("div",{className:"pt-4 border-t border-slate-200",children:i.jsxs("p",{className:"text-sm text-slate-600",children:[i.jsx("span",{className:"font-medium",children:n.length})," de"," ",i.jsx("span",{className:"font-medium",children:t.length})," emergencias"]})})]})]})}),i.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.length===0?i.jsx(W,{children:i.jsxs(sl,{className:"py-12 text-center",children:[i.jsx(Te,{className:"mx-auto text-slate-300 mb-3",size:48}),i.jsx("p",{className:"text-slate-600 font-medium",children:"No se encontraron emergencias"}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Intenta ajustar los filtros de bsqueda"})]})}):n.map(S=>{var P,C;return i.jsx(W,{onClick:()=>o(S),className:"cursor-pointer",children:i.jsxs(sl,{className:"p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:S.title}),i.jsx("span",{className:"text-sm text-slate-500",children:S.code})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mb-3",children:[i.jsx(Ca,{size:14}),i.jsxs("span",{children:[(P=S.dam)==null?void 0:P.name," - ",(C=S.dam)==null?void 0:C.province]})]}),S.description&&i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:S.description})]})}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ir,{status:S.severity,type:"severity"}),i.jsx(ir,{status:S.status,type:"emergency"}),i.jsx("span",{className:"text-xs px-2.5 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200",children:x(S.emergency_type)})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ua,{size:12}),i.jsxs("span",{children:["Detectada: ",w(S.detected_at)]})]}),S.responsible&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(oM,{size:12}),i.jsx("span",{children:S.responsible.full_name})]})]})]})},S.id)})})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 sticky top-0 bg-white",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-1",children:s.title}),i.jsx("p",{className:"text-slate-600",children:s.code})]}),i.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600",children:""})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Estado Actual"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ir,{status:s.severity,type:"severity"}),i.jsx(ir,{status:s.status,type:"emergency"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Presa Afectada"}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[i.jsx("p",{className:"font-medium text-slate-900",children:(b=s.dam)==null?void 0:b.name}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[(j=s.dam)==null?void 0:j.municipality,","," ",(_=s.dam)==null?void 0:_.province]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Ro: ",(N=s.dam)==null?void 0:N.river]})]})]}),s.description&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),i.jsx("p",{className:"text-slate-600",children:s.description})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Informacin"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Tipo de Emergencia"}),i.jsx("p",{className:"text-sm font-medium text-slate-900",children:x(s.emergency_type)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Fecha de Deteccin"}),i.jsx("p",{className:"text-sm font-medium text-slate-900",children:w(s.detected_at)})]}),s.responsible&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Responsable"}),i.jsx("p",{className:"text-sm font-medium text-slate-900",children:s.responsible.full_name})]}),s.resolved_at&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Fecha de Resolucin"}),i.jsx("p",{className:"text-sm font-medium text-slate-900",children:w(s.resolved_at)})]})]})]})]})]})})]})}const vJ={"GQ-001":{x:52,y:60},"GQ-002":{x:75,y:32},"GQ-003":{x:58,y:44},"GQ-004":{x:72,y:38},"GQ-005":{x:56,y:35},"GQ-006":{x:70,y:55}};function xJ(){const[e,t]=p.useState(null),[r,n]=p.useState(null),[a,s]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState(!0),d=za(),{selectDam:f}=Ba();p.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const{data:x,error:w}=await U.from("dams").select("*").order("code");if(w)throw w;const b=(x||[]).filter(j=>j.code.startsWith("GQ-")).map(j=>{const _=vJ[j.code]||{x:50,y:50};return{id:j.id,codigo:j.code,nombre:j.name,cuenca:"Guadalquivir",provincia:j.province||"",municipio:j.municipality||"",rio:j.river||"",x:_.x,y:_.y,capacidad_maxima:j.max_capacity,nivel_actual:j.current_level,volumen_actual:j.current_volume,altura:j.height}});l(b)}catch(x){console.error("Error loading dams:",x)}finally{u(!1)}},m=o.filter(x=>x.cuenca==="Guadalquivir"),v=o.filter(x=>x.nombre.toLowerCase().includes(a.toLowerCase())||x.codigo.toLowerCase().includes(a.toLowerCase())),y=async x=>{t(x);const w=o.find(b=>b.id===x);if(w){const{data:b,error:j}=await U.from("dams").select("*").eq("id",x).maybeSingle();if(j){console.error("Error fetching dam from database:",j);return}if(b){const _={id:b.id,code:b.code,name:b.name,dam_type:b.dam_type||"Gravedad",province:b.province,municipality:b.municipality,river:b.river,max_capacity:b.max_capacity,capacity_hm3:b.capacity_hm3||b.max_capacity,current_level:b.current_level,current_volume:b.current_volume,operational_status:b.operational_status||"operational",height:b.height,coordinates:b.coordinates||"",created_at:b.created_at};f(_),d(`/dam/${b.id}`)}else console.error(`Dam with id ${x} not found in database`),alert(`La presa ${w.nombre} no est disponible en la base de datos. Por favor, contacte al administrador.`)}};return c?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Cargando mapa de presas..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Ca,{className:"text-white",size:24})}),"Seleccione la Presa"]}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Mapa interactivo de presas y embalses"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[i.jsx("div",{className:"lg:col-span-8",children:i.jsxs(W,{className:"overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ca,{size:20}),"Cuenca del Guadalquivir"]}),i.jsx("div",{className:"flex items-center gap-2 text-sm",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full"}),i.jsx("span",{className:"text-slate-600",children:"Presa"})]})})]})}),i.jsxs("div",{className:"relative bg-gradient-to-br from-sky-100 via-blue-50 to-cyan-50",style:{height:"700px"},children:[i.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 1000 800",preserveAspectRatio:"xMidYMid meet",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"landGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#fef3c7",stopOpacity:1}}),i.jsx("stop",{offset:"50%",style:{stopColor:"#fde68a",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#fcd34d",stopOpacity:1}})]}),i.jsx("filter",{id:"shadow",children:i.jsx("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodOpacity:"0.3"})}),i.jsx("filter",{id:"landShadow",children:i.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.15"})})]}),i.jsx("rect",{width:"1000",height:"800",fill:"#e0f2fe"}),i.jsx("path",{d:"M 150,250 L 220,220 L 320,200 L 420,210 L 520,230 L 620,260 L 720,300 L 800,350 L 850,420 L 870,490 L 850,560 L 800,620 L 720,660 L 620,680 L 520,690 L 420,685 L 320,670 L 250,640 L 200,600 L 160,550 L 140,480 L 130,400 L 140,320 Z",fill:"url(#landGradient)",stroke:"#d97706",strokeWidth:"4",filter:"url(#landShadow)"}),i.jsx("path",{d:"M 150,250 L 140,320 L 130,400 L 140,480 L 160,550",fill:"none",stroke:"#92400e",strokeWidth:"4",strokeDasharray:"8,6",opacity:"0.7"}),i.jsx("path",{d:"M 160,550 L 180,590 L 200,620 L 230,650 L 270,675 L 310,685",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.4"}),i.jsx("path",{d:"M 310,685 L 340,692 L 370,695 L 400,693",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.5"}),i.jsx("circle",{cx:"350",cy:"693",r:"6",fill:"#991b1b",stroke:"#7f1d1d",strokeWidth:"2",children:i.jsx("title",{children:"Gibraltar"})}),i.jsx("path",{d:"M 400,693 L 450,688 L 520,675 L 600,655 L 680,630 L 720,610",fill:"none",stroke:"#1e40af",strokeWidth:"5",opacity:"0.4"}),i.jsx("path",{d:"M 720,610 L 760,560 L 800,500 L 820,440",fill:"none",stroke:"#92400e",strokeWidth:"3",strokeDasharray:"6,4",opacity:"0.5"}),i.jsx("path",{d:"M 820,440 L 840,370 L 850,300 L 840,240 L 800,200 L 750,180 L 680,170 L 600,175 L 520,190 L 440,200 L 360,205 L 280,215 L 220,220",fill:"none",stroke:"#92400e",strokeWidth:"3",strokeDasharray:"6,4",opacity:"0.5"}),i.jsx("path",{d:"M 750,250 Q 680,310 600,360 Q 520,400 440,430 Q 360,455 280,470 Q 230,480 190,495",fill:"none",stroke:"#2563eb",strokeWidth:"6",opacity:"0.8"}),i.jsx("path",{d:"M 720,580 Q 680,540 640,500 Q 600,470 560,450 L 520,440",fill:"none",stroke:"#3b82f6",strokeWidth:"4",opacity:"0.6"}),i.jsx("path",{d:"M 800,450 Q 760,410 720,380 Q 680,360 640,350",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),i.jsx("path",{d:"M 780,320 Q 740,330 700,340 Q 660,350 620,360",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),i.jsx("path",{d:"M 650,240 Q 620,280 590,310 L 560,330",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),i.jsx("path",{d:"M 480,290 Q 460,330 440,360 L 420,390",fill:"none",stroke:"#3b82f6",strokeWidth:"3",opacity:"0.6"}),i.jsx("ellipse",{cx:"500",cy:"250",rx:"180",ry:"45",fill:"#78350f",opacity:"0.2"}),i.jsx("ellipse",{cx:"700",cy:"280",rx:"120",ry:"35",fill:"#78350f",opacity:"0.2"}),i.jsx("ellipse",{cx:"600",cy:"580",rx:"160",ry:"50",fill:"#78350f",opacity:"0.25"}),i.jsx("ellipse",{cx:"720",cy:"520",rx:"100",ry:"40",fill:"#78350f",opacity:"0.25"}),i.jsx("ellipse",{cx:"680",cy:"600",rx:"70",ry:"35",fill:"#92400e",opacity:"0.3"}),i.jsx("text",{x:"240",y:"420",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"HUELVA"}),i.jsx("text",{x:"320",y:"540",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"CDIZ"}),i.jsx("text",{x:"450",cy:"490",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"SEVILLA"}),i.jsx("text",{x:"580",y:"440",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"CRDOBA"}),i.jsx("text",{x:"700",y:"400",fill:"#78350f",fontSize:"32",fontWeight:"bold",opacity:"0.35",children:"JAN"}),i.jsx("text",{x:"550",y:"620",fill:"#78350f",fontSize:"30",fontWeight:"bold",opacity:"0.35",children:"MLAGA"}),i.jsx("text",{x:"700",y:"570",fill:"#78350f",fontSize:"30",fontWeight:"bold",opacity:"0.35",children:"GRANADA"}),i.jsx("text",{x:"780",y:"500",fill:"#78350f",fontSize:"28",fontWeight:"bold",opacity:"0.35",children:"ALMERA"}),i.jsx("text",{x:"380",y:"395",fill:"#1e40af",fontSize:"24",fontWeight:"bold",opacity:"0.5",transform:"rotate(-8 380 395)",children:"RO GUADALQUIVIR"}),i.jsx("text",{x:"420",y:"265",fill:"#92400e",fontSize:"20",fontWeight:"bold",opacity:"0.4",children:"SIERRA MORENA"}),i.jsx("text",{x:"560",y:"595",fill:"#92400e",fontSize:"20",fontWeight:"bold",opacity:"0.4",children:"SIERRA NEVADA"})]}),m.map(x=>{const w=r===x.id,b=e===x.id;return i.jsx("div",{style:{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,transform:"translate(-50%, -100%)",transition:"all 0.2s",zIndex:w||b?20:10},onMouseEnter:()=>n(x.id),onMouseLeave:()=>n(null),children:i.jsx("button",{onClick:()=>y(x.id),className:`relative transform transition-all ${w||b?"scale-125":"scale-100"}`,children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-8 h-10 flex items-center justify-center transition-all ${w||b?"animate-bounce":""}`,children:i.jsxs("svg",{width:"32",height:"40",viewBox:"0 0 32 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M16 0C7.163 0 0 7.163 0 16c0 8.837 16 24 16 24s16-15.163 16-24C32 7.163 24.837 0 16 0z",fill:"#2563eb",stroke:"#1e40af",strokeWidth:"1.5"}),i.jsx("circle",{cx:"16",cy:"16",r:"6",fill:"white"}),i.jsx(Tv,{x:"11",y:"11",width:"10",height:"10",className:"text-blue-600",fill:"#2563eb"})]})}),(w||b)&&i.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 whitespace-nowrap",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-3 border-2 border-blue-500 min-w-[200px]",children:[i.jsx("p",{className:"text-xs font-bold text-blue-900 mb-1",children:x.nombre}),i.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["Cdigo: ",x.codigo]}),i.jsxs("p",{className:"text-xs text-slate-600",children:["Cuenca: ",x.cuenca]}),i.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:i.jsxs("p",{className:"text-xs text-blue-600 font-medium flex items-center gap-1",children:[i.jsx(ln,{size:12}),"Click para seleccionar"]})})]})})]})})},x.id)}),i.jsx("div",{className:"absolute bottom-4 right-4 bg-white border-2 border-slate-300 rounded-lg shadow-lg overflow-hidden",children:i.jsxs("div",{className:"relative w-40 h-32 bg-gradient-to-br from-sky-100 to-cyan-100",children:[i.jsx("div",{className:"absolute top-1 left-1 text-[8px] font-bold text-slate-700 z-10",children:"ANDALUCA"}),i.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1000 800",children:[i.jsx("rect",{width:"1000",height:"800",fill:"#e0f2fe"}),i.jsx("path",{d:"M 150,250 L 220,220 L 320,200 L 420,210 L 520,230 L 620,260 L 720,300 L 800,350 L 850,420 L 870,490 L 850,560 L 800,620 L 720,660 L 620,680 L 520,690 L 420,685 L 320,670 L 250,640 L 200,600 L 160,550 L 140,480 L 130,400 L 140,320 Z",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"4"}),i.jsx("path",{d:"M 750,250 Q 680,310 600,360 Q 520,400 440,430 Q 360,455 280,470 Q 230,480 190,495",fill:"none",stroke:"#2563eb",strokeWidth:"4",opacity:"0.8"})]})]})})]})]})}),i.jsx("div",{className:"lg:col-span-4",children:i.jsxs(W,{className:"h-full",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:[i.jsx("h2",{className:"font-semibold text-slate-900 mb-3",children:"Lista de Presas"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),i.jsx("input",{type:"text",placeholder:"Buscar presa...",value:a,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),i.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"640px"},children:v.length>0?i.jsx("div",{className:"divide-y divide-slate-200",children:v.map(x=>i.jsx("button",{onClick:()=>y(x.id),onMouseEnter:()=>n(x.id),onMouseLeave:()=>n(null),className:`w-full text-left p-4 hover:bg-blue-50 transition-colors ${r===x.id||e===x.id?"bg-blue-50 border-l-4 border-blue-600":""}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),i.jsx("p",{className:"font-semibold text-sm text-slate-900",children:x.codigo})]}),i.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:x.nombre}),i.jsx("p",{className:"text-xs text-slate-500",children:x.cuenca})]}),i.jsx(ln,{size:16,className:`text-slate-400 transition-transform ${r===x.id?"translate-x-1":""}`})]})},x.id))}):i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Ms,{className:"mx-auto text-slate-300 mb-3",size:48}),i.jsx("p",{className:"text-slate-600 font-medium",children:"No se encontraron presas"}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Intenta con otro trmino de bsqueda"})]})})]})})]}),i.jsx(W,{className:"p-6 bg-gradient-to-r from-blue-50 to-cyan-50 border-blue-200",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx(If,{className:"text-blue-600 flex-shrink-0",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Mapa Interactivo de Presas"}),i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Haz clic sobre cualquier marcador azul en el mapa o selecciona una presa de la lista lateral para trabajar con ella. Una vez seleccionada, podrs acceder a su ficha tcnica completa y todos los mdulos funcionales del sistema (Inventario, Mantenimiento, Auscultacin, etc.)."}),i.jsx("div",{className:"flex items-center gap-4 mt-3 text-xs text-blue-600",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),i.jsxs("span",{children:[m.length," presas en la cuenca del Guadalquivir"]})]})})]})]})})]})}function yJ(){const e=Ot.reduce((s,o)=>{const l=o.type;return s[l]=(s[l]||0)+1,s},{}),t=Object.entries(e).map(([s,o])=>({name:s==="pressure"?"Presin":s==="water_level"?"Nivel":s==="seismic"?"Ssmico":s==="displacement"?"Desplazamiento":s==="temperature"?"Temperatura":"Caudal",value:o})),r=[{month:"Ene",critical:2,high:5,medium:8},{month:"Feb",critical:1,high:4,medium:6},{month:"Mar",critical:3,high:7,medium:10},{month:"Abr",critical:1,high:3,medium:5},{month:"May",critical:2,high:6,medium:9},{month:"Jun",critical:4,high:8,medium:12}],n=[{category:"< 1h",count:12},{category:"1-4h",count:8},{category:"4-12h",count:5},{category:"12-24h",count:3},{category:"> 24h",count:2}],a=["#3b82f6","#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Anlisis y Reportes"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Estadsticas y tendencias del sistema"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Qe,{className:"text-blue-600",size:20})}),i.jsx(mn,{className:"text-green-500",size:20})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Total Sensores"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:Ot.length}),i.jsx("p",{className:"text-xs text-green-600 mt-2",children:"+2 este mes"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx(Te,{className:"text-orange-600",size:20})}),i.jsx(Pk,{className:"text-green-500",size:20})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Alertas este mes"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:"24"}),i.jsx("p",{className:"text-xs text-green-600 mt-2",children:"-15% vs mes anterior"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(Te,{className:"text-red-600",size:20})}),i.jsx(mn,{className:"text-red-500",size:20})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Incidentes Activos"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:So.filter(s=>s.status==="active").length}),i.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Requieren atencin"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Qe,{className:"text-green-600",size:20})}),i.jsx(mn,{className:"text-green-500",size:20})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Disponibilidad"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:"98.5%"}),i.jsx("p",{className:"text-xs text-green-600 mt-2",children:"ltimo mes"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Alertas por Mes"}),i.jsx(va,{width:"100%",height:300,children:i.jsxs(of,{data:r,children:[i.jsx(Ks,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Vs,{dataKey:"month",stroke:"#64748b",style:{fontSize:"12px"}}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px"}}),i.jsx(xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),i.jsx(Ml,{}),i.jsx(ui,{dataKey:"critical",name:"Crticas",fill:"#ef4444"}),i.jsx(ui,{dataKey:"high",name:"Altas",fill:"#f97316"}),i.jsx(ui,{dataKey:"medium",name:"Medias",fill:"#fbbf24"})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Distribucin de Sensores"}),i.jsx(va,{width:"100%",height:300,children:i.jsxs(jg,{children:[i.jsx(Qd,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:o})=>`${s} ${((o||0)*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:t.map((s,o)=>i.jsx(jc,{fill:a[o%a.length]},`cell-${o}`))}),i.jsx(xa,{})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Tiempo de Resolucin de Incidentes"}),i.jsx(va,{width:"100%",height:300,children:i.jsxs(of,{data:n,layout:"vertical",children:[i.jsx(Ks,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx(Vs,{type:"number",stroke:"#64748b",style:{fontSize:"12px"}}),i.jsx(Gs,{dataKey:"category",type:"category",stroke:"#64748b",style:{fontSize:"12px"}}),i.jsx(xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px"}}),i.jsx(ui,{dataKey:"count",name:"Incidentes",fill:"#3b82f6"})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Resumen de Estado"}),i.jsxs("div",{className:"space-y-4 mt-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Sensores Operacionales"}),i.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[Ot.filter(s=>s.status==="operational").length," / ",Ot.length]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Ot.filter(s=>s.status==="operational").length/Ot.length*100}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Incidentes Resueltos"}),i.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[So.filter(s=>s.status==="resolved"||s.status==="closed").length," / ",So.length]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${So.filter(s=>s.status==="resolved"||s.status==="closed").length/So.length*100}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Alertas Confirmadas"}),i.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[Gc.filter(s=>s.acknowledged).length," / ",Gc.length]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Gc.filter(s=>s.acknowledged).length/Gc.length*100}%`}})})]})]})]})]})]})}function bJ(){const[e,t]=p.useState("alerts"),[r,n]=p.useState(!1),a=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Configuracin del Sistema"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Ajustes de umbrales, alertas y notificaciones"})]}),r&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx(El,{className:"text-white",size:16})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-900",children:"Configuracin guardada"}),i.jsx("p",{className:"text-sm text-green-700",children:"Los cambios se han aplicado correctamente"})]})]}),i.jsx("div",{className:"flex gap-2 border-b border-slate-200",children:[{id:"alerts",label:"Umbrales de Alerta",icon:ws},{id:"sensors",label:"Sensores",icon:ds},{id:"notifications",label:"Notificaciones",icon:js},{id:"security",label:"Seguridad",icon:Dv}].map(s=>{const o=s.icon;return i.jsxs("button",{onClick:()=>t(s.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${e===s.id?"border-blue-600 text-blue-600":"border-transparent text-slate-600 hover:text-slate-900"}`,children:[i.jsx(o,{size:18}),s.label]},s.id)})}),e==="alerts"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Umbrales"}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Define los valores de advertencia y crticos para cada tipo de sensor"}),i.jsx("div",{className:"space-y-4",children:Ot.map(s=>i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900",children:s.name}),i.jsx("p",{className:"text-sm text-slate-600",children:s.id})]}),i.jsx("span",{className:"text-sm px-2 py-1 bg-white rounded border border-slate-200",children:s.unit})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Mnimo"}),i.jsx("input",{type:"number",defaultValue:s.threshold.min,className:"w-full px-3 py-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Mximo"}),i.jsx("input",{type:"number",defaultValue:s.threshold.max,className:"w-full px-3 py-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-orange-600 mb-1",children:"Advertencia"}),i.jsx("input",{type:"number",defaultValue:s.threshold.warning,className:"w-full px-3 py-2 text-sm border border-orange-300 bg-orange-50 rounded focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-red-600 mb-1",children:"Crtico"}),i.jsx("input",{type:"number",defaultValue:s.threshold.critical,className:"w-full px-3 py-2 text-sm border border-red-300 bg-red-50 rounded focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]},s.id))})]})}),e==="sensors"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Gestin de Sensores"}),i.jsx("div",{className:"space-y-4",children:Ot.map(s=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="operational"?"bg-green-500":s.status==="warning"?"bg-orange-500":s.status==="critical"?"bg-red-500":"bg-slate-400"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:s.name}),i.jsxs("p",{className:"text-sm text-slate-600",children:[s.id," - ",s.location.zone]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Calibrar"}),i.jsx("button",{className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Configurar"})]})]},s.id))})]})}),e==="notifications"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Notificaciones"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Alertas por Email"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Alertas crticas"})]}),i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Alertas de alta prioridad"})]}),i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Alertas de prioridad media"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Destinatarios"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"email",placeholder:"operador@presa.com",defaultValue:"operador@presa.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx("input",{type:"email",placeholder:"supervisor@presa.com",defaultValue:"supervisor@presa.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+ Agregar destinatario"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Frecuencia de Reportes"}),i.jsxs("select",{className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{children:"Diario"}),i.jsx("option",{children:"Semanal"}),i.jsx("option",{children:"Mensual"})]})]})]})]})}),e==="security"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Configuracin de Seguridad"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Gestin de Usuarios"}),i.jsx("div",{className:"space-y-3",children:["Operador Principal","Supervisor Tcnico","Tcnico de Mantenimiento"].map((s,o)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lM,{size:20,className:"text-slate-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:s}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ltimo acceso: hace ",o+1,"h"]})]})]}),i.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Editar permisos"})]},o))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Registro de Auditora"}),i.jsxs("label",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Registrar todas las acciones del usuario"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Sesiones"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Tiempo de sesin inactiva:"}),i.jsx("span",{className:"font-medium text-slate-900",children:"30 minutos"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Sesiones activas:"}),i.jsx("span",{className:"font-medium text-slate-900",children:"3"})]})]})]})]})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{className:"px-6 py-2 text-slate-600 font-medium hover:bg-slate-100 rounded-lg transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(El,{size:18}),"Guardar Cambios"]})]})]})}function wJ(){return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"header-sipresas",children:"Gua de Paleta de Colores SIPRESAS"}),i.jsx("p",{className:"text-sipresas-muted",children:"Referencia visual completa de colores institucionales y funcionales"})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Colores Institucionales"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-darker rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Ms Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#082841"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-dark rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#0d3859"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-primary rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Primario"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#1e5a8e"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-secondary rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Secundario"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#2874b5"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-light rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Azul Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#4a9fd8"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-lighter rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sipresas-dark text-xs font-medium",children:"Azul Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#a4c8e1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-sipresas-lightest rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sipresas-dark text-xs font-medium",children:"Azul Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#e8f2f9"})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Colores Hidrulicos (Aqua)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-cyan-700 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#0e7490"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-cyan-500 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Principal"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#06b6d4"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-cyan-400 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs font-medium",children:"Aqua Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#22d3ee"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-cyan-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs font-medium",children:"Aqua Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#67e8f9"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-24 bg-cyan-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs font-medium",children:"Aqua Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#cffafe"})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Colores Funcionales"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Verde - xito / Operativo"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-green-800 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Verde Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#15803d"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-green-600 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Verde Principal"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#16a34a"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-green-500 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Verde Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#22c55e"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-green-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Verde Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#86efac"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-green-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Verde Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#dcfce7"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Amarillo - Advertencia / Precaucin"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-yellow-700 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Amarillo Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#b45309"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-yellow-600 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Amarillo Principal"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#ca8a04"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-yellow-500 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#eab308"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-yellow-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#fde047"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-yellow-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Amarillo Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#fef9c3"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Naranja - Alerta / Atencin"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-orange-800 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Naranja Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#c2410c"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-orange-600 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Naranja Principal"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#ea580c"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-orange-500 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Naranja Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#f97316"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-orange-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Naranja Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#fdba74"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-orange-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Naranja Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#ffedd5"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rojo - Error / Emergencia / Crtico"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-red-800 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Rojo Oscuro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#b91c1c"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-red-600 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Rojo Principal"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#dc2626"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-red-500 rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"Rojo Medio"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#ef4444"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-red-300 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Rojo Claro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#fca5a5"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-20 bg-red-100 rounded-lg shadow-sm border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-900 text-xs",children:"Rojo Ultraclaro"})}),i.jsx("p",{className:"text-xs text-center font-mono",children:"#fee2e2"})]})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Botones"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("button",{className:"btn-sipresas-primary",children:"Primario"}),i.jsx("button",{className:"btn-sipresas-secondary",children:"Secundario"}),i.jsx("button",{className:"btn-sipresas-outline",children:"Outline"}),i.jsx("button",{className:"btn-sipresas-success",children:"xito"}),i.jsx("button",{className:"btn-sipresas-warning",children:"Advertencia"}),i.jsx("button",{className:"btn-sipresas-danger",children:"Peligro"})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Badges y Estados"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Estados Operacionales"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"status-operational",children:[i.jsx(Ve,{size:14}),"Operativa"]}),i.jsxs("span",{className:"status-maintenance",children:[i.jsx(Qe,{size:14}),"Mantenimiento"]}),i.jsxs("span",{className:"status-alert",children:[i.jsx(Te,{size:14}),"Alerta"]}),i.jsxs("span",{className:"status-warning",children:[i.jsx(Te,{size:14}),"Advertencia"]}),i.jsxs("span",{className:"status-emergency",children:[i.jsx($s,{size:14}),"Emergencia"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Badges Funcionales"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"badge-sipresas-primary",children:"Primario"}),i.jsx("span",{className:"badge-sipresas-success",children:"xito"}),i.jsx("span",{className:"badge-sipresas-warning",children:"Advertencia"}),i.jsx("span",{className:"badge-sipresas-alert",children:"Alerta"}),i.jsx("span",{className:"badge-sipresas-error",children:"Error"}),i.jsx("span",{className:"badge-sipresas-info",children:"Informacin"}),i.jsx("span",{className:"badge-sipresas-aqua",children:"Hidrulico"})]})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Alertas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"alert-sipresas-info flex items-start gap-3",children:[i.jsx(If,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm",children:"Informacin"}),i.jsx("p",{className:"text-sm mt-1",children:"Los datos se actualizan cada 15 minutos automticamente."})]})]}),i.jsxs("div",{className:"alert-sipresas-success flex items-start gap-3",children:[i.jsx(Ve,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm",children:"Operacin exitosa"}),i.jsx("p",{className:"text-sm mt-1",children:"Los cambios se han guardado correctamente en el sistema."})]})]}),i.jsxs("div",{className:"alert-sipresas-warning flex items-start gap-3",children:[i.jsx(Te,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm",children:"Advertencia"}),i.jsx("p",{className:"text-sm mt-1",children:"El nivel del embalse est cerca del umbral de precaucin."})]})]}),i.jsxs("div",{className:"alert-sipresas-alert flex items-start gap-3",children:[i.jsx(Te,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm",children:"Alerta"}),i.jsx("p",{className:"text-sm mt-1",children:"Se requiere atencin inmediata en el sensor de nivel."})]})]}),i.jsxs("div",{className:"alert-sipresas-error flex items-start gap-3",children:[i.jsx($s,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-sm",children:"Error crtico"}),i.jsx("p",{className:"text-sm mt-1",children:"No se pudo completar la operacin. Contacte al administrador."})]})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Indicadores de Nivel de Agua"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-critical-high",style:{width:"95%"}})}),i.jsx("span",{className:"text-sm font-medium text-red-600",children:"95% - Crtico Alto"})]}),i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-high",style:{width:"88%"}})}),i.jsx("span",{className:"text-sm font-medium text-orange-600",children:"88% - Alto"})]}),i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-optimal",style:{width:"75%"}})}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"75% - ptimo"})]}),i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-normal",style:{width:"50%"}})}),i.jsx("span",{className:"text-sm font-medium text-sipresas-secondary",children:"50% - Normal"})]}),i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-low",style:{width:"30%"}})}),i.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"30% - Bajo"})]}),i.jsxs("div",{className:"level-indicator",children:[i.jsx("div",{className:"level-bar",children:i.jsx("div",{className:"level-fill-critical-low",style:{width:"15%"}})}),i.jsx("span",{className:"text-sm font-medium text-red-600",children:"15% - Crtico Bajo"})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Tabla de Ejemplo"}),i.jsxs("table",{className:"table-sipresas",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Cdigo"}),i.jsx("th",{children:"Nombre"}),i.jsx("th",{children:"Estado"}),i.jsx("th",{children:"Nivel"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"font-medium",children:"CHE801"}),i.jsx("td",{children:"LA BREA II"}),i.jsx("td",{children:i.jsxs("span",{className:"status-operational",children:[i.jsx(Ve,{size:12}),"Operativa"]})}),i.jsx("td",{children:i.jsx("span",{className:"severity-low",children:"75%"})})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"font-medium",children:"CHE802"}),i.jsx("td",{children:"SAN CLEMENTE"}),i.jsx("td",{children:i.jsxs("span",{className:"status-maintenance",children:[i.jsx(Qe,{size:12}),"Mantenimiento"]})}),i.jsx("td",{children:i.jsx("span",{className:"severity-medium",children:"45%"})})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"font-medium",children:"CHE803"}),i.jsx("td",{children:"ALCNTARA"}),i.jsx("td",{children:i.jsxs("span",{className:"status-alert",children:[i.jsx(Te,{size:12}),"Alerta"]})}),i.jsx("td",{children:i.jsx("span",{className:"severity-high",children:"92%"})})]})]})]})]}),i.jsxs("section",{className:"section-sipresas",children:[i.jsx("h2",{className:"subheader-sipresas",children:"Gradientes"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx("div",{className:"h-24 gradient-header rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:"Header"})}),i.jsx("div",{className:"h-24 gradient-aqua rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:"Aqua"})}),i.jsx("div",{className:"h-24 gradient-success rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:"Success"})}),i.jsx("div",{className:"h-24 gradient-error rounded-lg shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:"Error"})})]})]})]})}function jJ(){const[e,t]=p.useState("loading"),[r,n]=p.useState("Inicializando usuarios de demostracin..."),[a,s]=p.useState([]);p.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await fetch("https://mvxmavfhslavexkwtiee.supabase.co/functions/v1/setup-demo-users",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im12eG1hdmZoc2xhdmV4a3d0aWVlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5Mjg2MjcsImV4cCI6MjA4NzUwNDYyN30.LbQuWOmnVVYfN6OedtxRajiGH_DxgdGKOPXjTNBH-LQ","Content-Type":"application/json"}}),d=await u.json();u.ok&&d.success?(t("success"),n("Usuarios de demostracin creados correctamente"),s(d.results),setTimeout(()=>{window.location.href="/login"},2e3)):(t("error"),n("Error al crear usuarios: "+(d.error||"Error desconocido")))}catch(l){t("error"),n("Error de conexin: "+(l instanceof Error?l.message:"Error desconocido"))}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(eM,{className:"w-12 h-12 text-[#0066A1] animate-spin mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Inicializando Sistema"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-green-600 text-2xl",children:""})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Listo!"}),i.jsx("p",{className:"text-gray-600 mb-4",children:r}),i.jsx("div",{className:"bg-gray-50 rounded p-4 text-left text-sm mb-4",children:a.map((l,c)=>i.jsxs("div",{className:"py-2 border-b last:border-b-0",children:[i.jsx("p",{className:"font-medium text-gray-700",children:l.email}),i.jsx("p",{className:"text-gray-600 text-xs",children:l.message})]},c))}),i.jsx("p",{className:"text-gray-500 text-xs",children:"Redirigiendo al login..."})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-red-600 text-2xl",children:"!"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:r}),i.jsx("button",{onClick:o,className:"w-full bg-[#0066A1] text-white py-2 px-4 rounded hover:bg-[#004d7a] transition-colors",children:"Intentar de Nuevo"}),i.jsx("a",{href:"/login",className:"block mt-3 text-[#0066A1] hover:underline text-sm",children:"Ir al Login"})]})]})})}function NJ(){return i.jsx(U5,{children:i.jsx(W5,{children:i.jsx(mI,{children:i.jsxs(nw,{children:[i.jsx(He,{path:"/setup-demo",element:i.jsx(jJ,{})}),i.jsx(He,{path:"/login",element:i.jsx(uM,{})}),i.jsx(He,{path:"/*",element:i.jsx(q5,{children:i.jsx(cM,{children:i.jsxs(nw,{children:[i.jsx(He,{path:"/",element:i.jsx(VS,{to:"/map",replace:!0})}),i.jsx(He,{path:"/map",element:i.jsx(xJ,{})}),i.jsx(He,{path:"/dashboard",element:i.jsx(OM,{})}),i.jsx(He,{path:"/dam/:id",element:i.jsx(YQ,{})}),i.jsx(He,{path:"/inventory",element:i.jsx(XQ,{})}),i.jsx(He,{path:"/maintenance",element:i.jsx(tJ,{})}),i.jsx(He,{path:"/technical-archive",element:i.jsx(sJ,{})}),i.jsx(He,{path:"/auscultation",element:i.jsx(oJ,{})}),i.jsx(He,{path:"/exploitation",element:i.jsx(lJ,{})}),i.jsx(He,{path:"/bim",element:i.jsx(cJ,{})}),i.jsx(He,{path:"/bim-viewer",element:i.jsx(dJ,{})}),i.jsx(He,{path:"/control-center",element:i.jsx(fJ,{})}),i.jsx(He,{path:"/emergency",element:i.jsx(pJ,{})}),i.jsx(He,{path:"/incidents",element:i.jsx(gJ,{})}),i.jsx(He,{path:"/analytics",element:i.jsx(yJ,{})}),i.jsx(He,{path:"/settings",element:i.jsx(bJ,{})}),i.jsx(He,{path:"/color-palette",element:i.jsx(wJ,{})})]})})})})]})})})})}const b2=document.getElementById("root");b2&&IS(b2).render(i.jsx(p.StrictMode,{children:i.jsx(NJ,{})}));
